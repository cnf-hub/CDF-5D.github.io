(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Xu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cd={exports:{}},Ws={},ud={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=Symbol.for("react.element"),Yu=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),a0=Symbol.for("react.memo"),i0=Symbol.for("react.lazy"),Zi=Symbol.iterator;function o0(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pd=Object.assign,md={};function Ar(e,t,r){this.props=e,this.context=t,this.refs=md,this.updater=r||fd}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xd(){}xd.prototype=Ar.prototype;function Xa(e,t,r){this.props=e,this.context=t,this.refs=md,this.updater=r||fd}var Ya=Xa.prototype=new xd;Ya.constructor=Xa;pd(Ya,Ar.prototype);Ya.isPureReactComponent=!0;var Xi=Array.isArray,hd=Object.prototype.hasOwnProperty,Ja={current:null},gd={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,r){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)hd.call(t,s)&&!gd.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=r;else if(1<o){for(var d=Array(o),x=0;x<o;x++)d[x]=arguments[x+2];l.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Ln,type:e,key:a,ref:i,props:l,_owner:Ja.current}}function d0(e,t){return{$$typeof:Ln,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ei(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ln}function c0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yi=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c0(""+e.key):t.toString(36)}function ts(e,t,r,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ln:case Yu:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+cl(i,0):s,Xi(l)?(r="",e!=null&&(r=e.replace(Yi,"$&/")+"/"),ts(l,t,r,"",function(x){return x})):l!=null&&(ei(l)&&(l=d0(l,r+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Yi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Xi(e))for(var o=0;o<e.length;o++){a=e[o];var d=s+cl(a,o);i+=ts(a,t,r,d,l)}else if(d=o0(e),typeof d=="function")for(e=d.call(e),o=0;!(a=e.next()).done;)a=a.value,d=s+cl(a,o++),i+=ts(a,t,r,d,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function An(e,t,r){if(e==null)return e;var s=[],l=0;return ts(e,s,"","",function(a){return t.call(r,a,l++)}),s}function u0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},rs={transition:null},f0={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Ja};function vd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:An,forEach:function(e,t,r){An(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return An(e,function(){t++}),t},toArray:function(e){return An(e,function(t){return t})||[]},only:function(e){if(!ei(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Ar;G.Fragment=Ju;G.Profiler=t0;G.PureComponent=Xa;G.StrictMode=e0;G.Suspense=l0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;G.act=vd;G.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=pd({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ja.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)hd.call(t,d)&&!gd.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){o=Array(d);for(var x=0;x<d;x++)o[x]=arguments[x+2];s.children=o}return{$$typeof:Ln,type:e.type,key:l,ref:a,props:s,_owner:i}};G.createContext=function(e){return e={$$typeof:n0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r0,_context:e},e.Consumer=e};G.createElement=yd;G.createFactory=function(e){var t=yd.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:s0,render:e}};G.isValidElement=ei;G.lazy=function(e){return{$$typeof:i0,_payload:{_status:-1,_result:e},_init:u0}};G.memo=function(e,t){return{$$typeof:a0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=rs.transition;rs.transition={};try{e()}finally{rs.transition=t}};G.unstable_act=vd;G.useCallback=function(e,t){return Pe.current.useCallback(e,t)};G.useContext=function(e){return Pe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Pe.current.useEffect(e,t)};G.useId=function(){return Pe.current.useId()};G.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};G.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Pe.current.useMemo(e,t)};G.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};G.useRef=function(e){return Pe.current.useRef(e)};G.useState=function(e){return Pe.current.useState(e)};G.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};G.useTransition=function(){return Pe.current.useTransition()};G.version="18.3.1";ud.exports=G;var B=ud.exports;const p0=Xu(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=B,x0=Symbol.for("react.element"),h0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,y0=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v0={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,r){var s,l={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)g0.call(t,s)&&!v0.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:x0,type:e,key:a,ref:i,props:l,_owner:y0.current}}Ws.Fragment=h0;Ws.jsx=bd;Ws.jsxs=bd;cd.exports=Ws;var n=cd.exports,ea={},jd={exports:{}},qe={},Nd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,$){var H=L.length;L.push($);e:for(;0<H;){var J=H-1>>>1,X=L[J];if(0<l(X,$))L[J]=$,L[H]=X,H=J;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var $=L[0],H=L.pop();if(H!==$){L[0]=H;e:for(var J=0,X=L.length,ct=X>>>1;J<ct;){var re=2*(J+1)-1,Me=L[re],Ve=re+1,tt=L[Ve];if(0>l(Me,H))Ve<X&&0>l(tt,Me)?(L[J]=tt,L[Ve]=H,J=Ve):(L[J]=Me,L[re]=H,J=re);else if(Ve<X&&0>l(tt,H))L[J]=tt,L[Ve]=H,J=Ve;else break e}}return $}function l(L,$){var H=L.sortIndex-$.sortIndex;return H!==0?H:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],x=[],v=1,p=null,m=3,w=!1,k=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(L){for(var $=r(x);$!==null;){if($.callback===null)s(x);else if($.startTime<=L)s(x),$.sortIndex=$.expirationTime,t(d,$);else break;$=r(x)}}function y(L){if(T=!1,f(L),!k)if(r(d)!==null)k=!0,Q(E);else{var $=r(x);$!==null&&ee(y,$.startTime-L)}}function E(L,$){k=!1,T&&(T=!1,u(j),j=-1),w=!0;var H=m;try{for(f($),p=r(d);p!==null&&(!(p.expirationTime>$)||L&&!P());){var J=p.callback;if(typeof J=="function"){p.callback=null,m=p.priorityLevel;var X=J(p.expirationTime<=$);$=e.unstable_now(),typeof X=="function"?p.callback=X:p===r(d)&&s(d),f($)}else s(d);p=r(d)}if(p!==null)var ct=!0;else{var re=r(x);re!==null&&ee(y,re.startTime-$),ct=!1}return ct}finally{p=null,m=H,w=!1}}var h=!1,b=null,j=-1,N=5,C=-1;function P(){return!(e.unstable_now()-C<N)}function U(){if(b!==null){var L=e.unstable_now();C=L;var $=!0;try{$=b(!0,L)}finally{$?Z():(h=!1,b=null)}}else h=!1}var Z;if(typeof c=="function")Z=function(){c(U)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,he=Be.port2;Be.port1.onmessage=U,Z=function(){he.postMessage(null)}}else Z=function(){A(U,0)};function Q(L){b=L,h||(h=!0,Z())}function ee(L,$){j=A(function(){L(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,Q(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var H=m;m=$;try{return L()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=m;m=L;try{return $()}finally{m=H}},e.unstable_scheduleCallback=function(L,$,H){var J=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,L={id:v++,callback:$,priorityLevel:L,startTime:H,expirationTime:X,sortIndex:-1},H>J?(L.sortIndex=H,t(x,L),r(d)===null&&L===r(x)&&(T?(u(j),j=-1):T=!0,ee(y,H-J))):(L.sortIndex=X,t(d,L),k||w||(k=!0,Q(E))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var $=m;return function(){var H=m;m=$;try{return L.apply(this,arguments)}finally{m=H}}}})(wd);Nd.exports=wd;var b0=Nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=B,Qe=b0;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kd=new Set,xn={};function ir(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(xn[e]=t,e=0;e<t.length;e++)kd.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,N0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ji={},eo={};function w0(e){return ta.call(eo,e)?!0:ta.call(Ji,e)?!1:N0.test(e)?eo[e]=!0:(Ji[e]=!0,!1)}function k0(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C0(e,t,r,s){if(t===null||typeof t>"u"||k0(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,r,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var ti=/[\-:]([a-z])/g;function ri(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ti,ri);we[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ti,ri);we[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ti,ri);we[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function ni(e,t,r,s){var l=we.hasOwnProperty(t)?we[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C0(t,r,l,s)&&(r=null),s||l===null?w0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var St=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n=Symbol.for("react.element"),ur=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),si=Symbol.for("react.strict_mode"),ra=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Sd=Symbol.for("react.context"),li=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),ai=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),Ed=Symbol.for("react.offscreen"),to=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=to&&e[to]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,ul;function en(e){if(ul===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ul=t&&t[1]||""}return`
`+ul+e}var fl=!1;function pl(e,t){if(!e||fl)return"";fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var s=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){s=x}e.call(t.prototype)}else{try{throw Error()}catch(x){s=x}e()}}catch(x){if(x&&s&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var d=`
`+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{fl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?en(e):""}function S0(e){switch(e.tag){case 5:return en(e.type);case 16:return en("Lazy");case 13:return en("Suspense");case 19:return en("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function la(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case ur:return"Portal";case ra:return"Profiler";case si:return"StrictMode";case na:return"Suspense";case sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sd:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case li:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ai:return t=e.displayName||null,t!==null?t:la(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return la(e(t))}catch{}}return null}function E0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return la(t);case 8:return t===si?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T0(e){var t=Td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function On(e){e._valueTracker||(e._valueTracker=T0(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Td(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aa(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ro(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Vt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bd(e,t){t=t.checked,t!=null&&ni(e,"checked",t,!1)}function ia(e,t){Bd(e,t);var r=Vt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oa(e,t.type,r):t.hasOwnProperty("defaultValue")&&oa(e,t.type,Vt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function no(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oa(e,t,r){(t!=="number"||ms(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tn=Array.isArray;function wr(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Vt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function so(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(tn(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vt(r)}}function zd(e,t){var r=Vt(t.value),s=Vt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function lo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ld(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ld(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hn,Pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F0=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(e){F0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]})});function Dd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function Md(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Dd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var B0=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(e,t){if(t){if(B0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,kr=null,Cr=null;function ao(e){if(e=Mn(e)){if(typeof ma!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Zs(t),ma(e.stateNode,e.type,t))}}function Id(e){kr?Cr?Cr.push(e):Cr=[e]:kr=e}function Rd(){if(kr){var e=kr,t=Cr;if(Cr=kr=null,ao(e),t)for(e=0;e<t.length;e++)ao(t[e])}}function Ad(e,t){return e(t)}function _d(){}var ml=!1;function Od(e,t,r){if(ml)return e(t,r);ml=!0;try{return Ad(e,t,r)}finally{ml=!1,(kr!==null||Cr!==null)&&(_d(),Rd())}}function gn(e,t){var r=e.stateNode;if(r===null)return null;var s=Zs(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var xa=!1;if(Nt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){xa=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{xa=!1}function z0(e,t,r,s,l,a,i,o,d){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(v){this.onError(v)}}var an=!1,xs=null,hs=!1,ha=null,L0={onError:function(e){an=!0,xs=e}};function P0(e,t,r,s,l,a,i,o,d){an=!1,xs=null,z0.apply(L0,arguments)}function D0(e,t,r,s,l,a,i,o,d){if(P0.apply(this,arguments),an){if(an){var x=xs;an=!1,xs=null}else throw Error(F(198));hs||(hs=!0,ha=x)}}function or(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function io(e){if(or(e)!==e)throw Error(F(188))}function M0(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return io(l),e;if(a===s)return io(l),t;a=a.sibling}throw Error(F(188))}if(r.return!==s.return)r=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===r){i=!0,r=l,s=a;break}if(o===s){i=!0,s=l,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,s=l;break}if(o===s){i=!0,s=a,r=l;break}o=o.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==s)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Vd(e){return e=M0(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var Ud=Qe.unstable_scheduleCallback,oo=Qe.unstable_cancelCallback,I0=Qe.unstable_shouldYield,R0=Qe.unstable_requestPaint,me=Qe.unstable_now,A0=Qe.unstable_getCurrentPriorityLevel,oi=Qe.unstable_ImmediatePriority,Wd=Qe.unstable_UserBlockingPriority,gs=Qe.unstable_NormalPriority,_0=Qe.unstable_LowPriority,Qd=Qe.unstable_IdlePriority,Qs=null,mt=null;function O0(e){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Qs,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:$0,H0=Math.log,V0=Math.LN2;function $0(e){return e>>>=0,e===0?32:31-(H0(e)/V0|0)|0}var Vn=64,$n=4194304;function rn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ys(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~l;o!==0?s=rn(o):(a&=i,a!==0&&(s=rn(a)))}else i=r&~l,i!==0?s=rn(i):a!==0&&(s=rn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-it(t),l=1<<r,s|=e[r],t&=~l;return s}function U0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,d=l[i];d===-1?(!(o&r)||o&s)&&(l[i]=U0(o,t)):d<=t&&(e.expiredLanes|=o),a&=~o}}function ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qd(){var e=Vn;return Vn<<=1,!(Vn&4194240)&&(Vn=64),e}function xl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=r}function Q0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-it(r),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~a}}function di(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-it(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var te=0;function Kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gd,ci,Zd,Xd,Yd,ya=!1,Un=[],Dt=null,Mt=null,It=null,yn=new Map,vn=new Map,Bt=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function co(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":yn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(t.pointerId)}}function Kr(e,t,r,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Mn(t),t!==null&&ci(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function K0(e,t,r,s,l){switch(t){case"focusin":return Dt=Kr(Dt,e,t,r,s,l),!0;case"dragenter":return Mt=Kr(Mt,e,t,r,s,l),!0;case"mouseover":return It=Kr(It,e,t,r,s,l),!0;case"pointerover":var a=l.pointerId;return yn.set(a,Kr(yn.get(a)||null,e,t,r,s,l)),!0;case"gotpointercapture":return a=l.pointerId,vn.set(a,Kr(vn.get(a)||null,e,t,r,s,l)),!0}return!1}function Jd(e){var t=Gt(e.target);if(t!==null){var r=or(t);if(r!==null){if(t=r.tag,t===13){if(t=Hd(r),t!==null){e.blockedOn=t,Yd(e.priority,function(){Zd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);pa=s,r.target.dispatchEvent(s),pa=null}else return t=Mn(r),t!==null&&ci(t),e.blockedOn=r,!1;t.shift()}return!0}function uo(e,t,r){ns(e)&&r.delete(t)}function G0(){ya=!1,Dt!==null&&ns(Dt)&&(Dt=null),Mt!==null&&ns(Mt)&&(Mt=null),It!==null&&ns(It)&&(It=null),yn.forEach(uo),vn.forEach(uo)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,ya||(ya=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,G0)))}function bn(e){function t(l){return Gr(l,e)}if(0<Un.length){Gr(Un[0],e);for(var r=1;r<Un.length;r++){var s=Un[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Dt!==null&&Gr(Dt,e),Mt!==null&&Gr(Mt,e),It!==null&&Gr(It,e),yn.forEach(t),vn.forEach(t),r=0;r<Bt.length;r++)s=Bt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)Jd(r),r.blockedOn===null&&Bt.shift()}var Sr=St.ReactCurrentBatchConfig,vs=!0;function Z0(e,t,r,s){var l=te,a=Sr.transition;Sr.transition=null;try{te=1,ui(e,t,r,s)}finally{te=l,Sr.transition=a}}function X0(e,t,r,s){var l=te,a=Sr.transition;Sr.transition=null;try{te=4,ui(e,t,r,s)}finally{te=l,Sr.transition=a}}function ui(e,t,r,s){if(vs){var l=va(e,t,r,s);if(l===null)Cl(e,t,s,bs,r),co(e,s);else if(K0(l,e,t,r,s))s.stopPropagation();else if(co(e,s),t&4&&-1<q0.indexOf(e)){for(;l!==null;){var a=Mn(l);if(a!==null&&Gd(a),a=va(e,t,r,s),a===null&&Cl(e,t,s,bs,r),a===l)break;l=a}l!==null&&s.stopPropagation()}else Cl(e,t,s,null,r)}}var bs=null;function va(e,t,r,s){if(bs=null,e=ii(s),e=Gt(e),e!==null)if(t=or(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bs=e,null}function ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A0()){case oi:return 1;case Wd:return 4;case gs:case _0:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Lt=null,fi=null,ss=null;function tc(){if(ss)return ss;var e,t=fi,r=t.length,s,l="value"in Lt?Lt.value:Lt.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===l[a-s];s++);return ss=l.slice(e,1<s?1-s:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function fo(){return!1}function Ke(e){function t(r,s,l,a,i){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wn:fo,this.isPropagationStopped=fo,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ke(_r),Dn=ce({},_r,{view:0,detail:0}),Y0=Ke(Dn),hl,gl,Zr,qs=ce({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(hl=e.screenX-Zr.screenX,gl=e.screenY-Zr.screenY):gl=hl=0,Zr=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),po=Ke(qs),J0=ce({},qs,{dataTransfer:0}),ef=Ke(J0),tf=ce({},Dn,{relatedTarget:0}),yl=Ke(tf),rf=ce({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),nf=Ke(rf),sf=ce({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lf=Ke(sf),af=ce({},_r,{data:0}),mo=Ke(af),of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cf[e])?!!t[e]:!1}function mi(){return uf}var ff=ce({},Dn,{key:function(e){if(e.key){var t=of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?df[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pf=Ke(ff),mf=ce({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Ke(mf),xf=ce({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),hf=Ke(xf),gf=ce({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=Ke(gf),vf=ce({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bf=Ke(vf),jf=[9,13,27,32],xi=Nt&&"CompositionEvent"in window,on=null;Nt&&"documentMode"in document&&(on=document.documentMode);var Nf=Nt&&"TextEvent"in window&&!on,rc=Nt&&(!xi||on&&8<on&&11>=on),ho=" ",go=!1;function nc(e,t){switch(e){case"keyup":return jf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function wf(e,t){switch(e){case"compositionend":return sc(t);case"keypress":return t.which!==32?null:(go=!0,ho);case"textInput":return e=t.data,e===ho&&go?null:e;default:return null}}function kf(e,t){if(pr)return e==="compositionend"||!xi&&nc(e,t)?(e=tc(),ss=fi=Lt=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rc&&t.locale!=="ko"?null:t.data;default:return null}}var Cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cf[e.type]:t==="textarea"}function lc(e,t,r,s){Id(s),t=js(t,"onChange"),0<t.length&&(r=new pi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var dn=null,jn=null;function Sf(e){hc(e,0)}function Ks(e){var t=hr(e);if(Fd(t))return e}function Ef(e,t){if(e==="change")return t}var ac=!1;if(Nt){var vl;if(Nt){var bl="oninput"in document;if(!bl){var vo=document.createElement("div");vo.setAttribute("oninput","return;"),bl=typeof vo.oninput=="function"}vl=bl}else vl=!1;ac=vl&&(!document.documentMode||9<document.documentMode)}function bo(){dn&&(dn.detachEvent("onpropertychange",ic),jn=dn=null)}function ic(e){if(e.propertyName==="value"&&Ks(jn)){var t=[];lc(t,jn,e,ii(e)),Od(Sf,t)}}function Tf(e,t,r){e==="focusin"?(bo(),dn=t,jn=r,dn.attachEvent("onpropertychange",ic)):e==="focusout"&&bo()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(jn)}function Bf(e,t){if(e==="click")return Ks(t)}function zf(e,t){if(e==="input"||e==="change")return Ks(t)}function Lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Lf;function Nn(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!ta.call(t,l)||!dt(e[l],t[l]))return!1}return!0}function jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,t){var r=jo(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jo(r)}}function oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dc(){for(var e=window,t=ms();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ms(e.document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pf(e){var t=dc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oc(r.ownerDocument.documentElement,r)){if(s!==null&&hi(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=No(r,a);var i=No(r,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Df=Nt&&"documentMode"in document&&11>=document.documentMode,mr=null,ba=null,cn=null,ja=!1;function wo(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ja||mr==null||mr!==ms(s)||(s=mr,"selectionStart"in s&&hi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cn&&Nn(cn,s)||(cn=s,s=js(ba,"onSelect"),0<s.length&&(t=new pi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=mr)))}function Qn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xr={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionend:Qn("Transition","TransitionEnd")},jl={},cc={};Nt&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Gs(e){if(jl[e])return jl[e];if(!xr[e])return e;var t=xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cc)return jl[e]=t[r];return e}var uc=Gs("animationend"),fc=Gs("animationiteration"),pc=Gs("animationstart"),mc=Gs("transitionend"),xc=new Map,ko="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(e,t){xc.set(e,t),ir(t,[e])}for(var Nl=0;Nl<ko.length;Nl++){var wl=ko[Nl],Mf=wl.toLowerCase(),If=wl[0].toUpperCase()+wl.slice(1);Ut(Mf,"on"+If)}Ut(uc,"onAnimationEnd");Ut(fc,"onAnimationIteration");Ut(pc,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(mc,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(nn));function Co(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,D0(s,t,void 0,e),e.currentTarget=null}function hc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,x=o.currentTarget;if(o=o.listener,d!==a&&l.isPropagationStopped())break e;Co(l,o,x),a=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,x=o.currentTarget,o=o.listener,d!==a&&l.isPropagationStopped())break e;Co(l,o,x),a=d}}}if(hs)throw e=ha,hs=!1,ha=null,e}function le(e,t){var r=t[Sa];r===void 0&&(r=t[Sa]=new Set);var s=e+"__bubble";r.has(s)||(gc(t,e,2,!1),r.add(s))}function kl(e,t,r){var s=0;t&&(s|=4),gc(r,e,s,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function wn(e){if(!e[qn]){e[qn]=!0,kd.forEach(function(r){r!=="selectionchange"&&(Rf.has(r)||kl(r,!1,e),kl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qn]||(t[qn]=!0,kl("selectionchange",!1,t))}}function gc(e,t,r,s){switch(ec(t)){case 1:var l=Z0;break;case 4:l=X0;break;default:l=ui}r=l.bind(null,t,r,e),l=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Cl(e,t,r,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===l||d.nodeType===8&&d.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Gt(o),i===null)return;if(d=i.tag,d===5||d===6){s=a=i;continue e}o=o.parentNode}}s=s.return}Od(function(){var x=a,v=ii(r),p=[];e:{var m=xc.get(e);if(m!==void 0){var w=pi,k=e;switch(e){case"keypress":if(ls(r)===0)break e;case"keydown":case"keyup":w=pf;break;case"focusin":k="focus",w=yl;break;case"focusout":k="blur",w=yl;break;case"beforeblur":case"afterblur":w=yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=hf;break;case uc:case fc:case pc:w=nf;break;case mc:w=yf;break;case"scroll":w=Y0;break;case"wheel":w=bf;break;case"copy":case"cut":case"paste":w=lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=xo}var T=(t&4)!==0,A=!T&&e==="scroll",u=T?m!==null?m+"Capture":null:m;T=[];for(var c=x,f;c!==null;){f=c;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,u!==null&&(y=gn(c,u),y!=null&&T.push(kn(c,y,f)))),A)break;c=c.return}0<T.length&&(m=new w(m,k,null,r,v),p.push({event:m,listeners:T}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&r!==pa&&(k=r.relatedTarget||r.fromElement)&&(Gt(k)||k[wt]))break e;if((w||m)&&(m=v.window===v?v:(m=v.ownerDocument)?m.defaultView||m.parentWindow:window,w?(k=r.relatedTarget||r.toElement,w=x,k=k?Gt(k):null,k!==null&&(A=or(k),k!==A||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=x),w!==k)){if(T=po,y="onMouseLeave",u="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(T=xo,y="onPointerLeave",u="onPointerEnter",c="pointer"),A=w==null?m:hr(w),f=k==null?m:hr(k),m=new T(y,c+"leave",w,r,v),m.target=A,m.relatedTarget=f,y=null,Gt(v)===x&&(T=new T(u,c+"enter",k,r,v),T.target=f,T.relatedTarget=A,y=T),A=y,w&&k)t:{for(T=w,u=k,c=0,f=T;f;f=dr(f))c++;for(f=0,y=u;y;y=dr(y))f++;for(;0<c-f;)T=dr(T),c--;for(;0<f-c;)u=dr(u),f--;for(;c--;){if(T===u||u!==null&&T===u.alternate)break t;T=dr(T),u=dr(u)}T=null}else T=null;w!==null&&So(p,m,w,T,!1),k!==null&&A!==null&&So(p,A,k,T,!0)}}e:{if(m=x?hr(x):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var E=Ef;else if(yo(m))if(ac)E=zf;else{E=Ff;var h=Tf}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Bf);if(E&&(E=E(e,x))){lc(p,E,r,v);break e}h&&h(e,m,x),e==="focusout"&&(h=m._wrapperState)&&h.controlled&&m.type==="number"&&oa(m,"number",m.value)}switch(h=x?hr(x):window,e){case"focusin":(yo(h)||h.contentEditable==="true")&&(mr=h,ba=x,cn=null);break;case"focusout":cn=ba=mr=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,wo(p,r,v);break;case"selectionchange":if(Df)break;case"keydown":case"keyup":wo(p,r,v)}var b;if(xi)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else pr?nc(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(rc&&r.locale!=="ko"&&(pr||j!=="onCompositionStart"?j==="onCompositionEnd"&&pr&&(b=tc()):(Lt=v,fi="value"in Lt?Lt.value:Lt.textContent,pr=!0)),h=js(x,j),0<h.length&&(j=new mo(j,e,null,r,v),p.push({event:j,listeners:h}),b?j.data=b:(b=sc(r),b!==null&&(j.data=b)))),(b=Nf?wf(e,r):kf(e,r))&&(x=js(x,"onBeforeInput"),0<x.length&&(v=new mo("onBeforeInput","beforeinput",null,r,v),p.push({event:v,listeners:x}),v.data=b))}hc(p,t)})}function kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function js(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=gn(e,r),a!=null&&s.unshift(kn(e,a,l)),a=gn(e,t),a!=null&&s.push(kn(e,a,l))),e=e.return}return s}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function So(e,t,r,s,l){for(var a=t._reactName,i=[];r!==null&&r!==s;){var o=r,d=o.alternate,x=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&x!==null&&(o=x,l?(d=gn(r,a),d!=null&&i.unshift(kn(r,d,o))):l||(d=gn(r,a),d!=null&&i.push(kn(r,d,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Af=/\r\n?/g,_f=/\u0000|\uFFFD/g;function Eo(e){return(typeof e=="string"?e:""+e).replace(Af,`
`).replace(_f,"")}function Kn(e,t,r){if(t=Eo(t),Eo(e)!==t&&r)throw Error(F(425))}function Ns(){}var Na=null,wa=null;function ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,Of=typeof clearTimeout=="function"?clearTimeout:void 0,To=typeof Promise=="function"?Promise:void 0,Hf=typeof queueMicrotask=="function"?queueMicrotask:typeof To<"u"?function(e){return To.resolve(null).then(e).catch(Vf)}:Ca;function Vf(e){setTimeout(function(){throw e})}function Sl(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),bn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);bn(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),pt="__reactFiber$"+Or,Cn="__reactProps$"+Or,wt="__reactContainer$"+Or,Sa="__reactEvents$"+Or,$f="__reactListeners$"+Or,Uf="__reactHandles$"+Or;function Gt(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fo(e);e!==null;){if(r=e[pt])return r;e=Fo(e)}return t}e=r,r=e.parentNode}return null}function Mn(e){return e=e[pt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Zs(e){return e[Cn]||null}var Ea=[],gr=-1;function Wt(e){return{current:e}}function ae(e){0>gr||(e.current=Ea[gr],Ea[gr]=null,gr--)}function se(e,t){gr++,Ea[gr]=e.current,e.current=t}var $t={},Fe=Wt($t),_e=Wt(!1),er=$t;function zr(e,t){var r=e.type.contextTypes;if(!r)return $t;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Oe(e){return e=e.childContextTypes,e!=null}function ws(){ae(_e),ae(Fe)}function Bo(e,t,r){if(Fe.current!==$t)throw Error(F(168));se(Fe,t),se(_e,r)}function yc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(F(108,E0(e)||"Unknown",l));return ce({},r,s)}function ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,er=Fe.current,se(Fe,e),se(_e,_e.current),!0}function zo(e,t,r){var s=e.stateNode;if(!s)throw Error(F(169));r?(e=yc(e,t,er),s.__reactInternalMemoizedMergedChildContext=e,ae(_e),ae(Fe),se(Fe,e)):ae(_e),se(_e,r)}var gt=null,Xs=!1,El=!1;function vc(e){gt===null?gt=[e]:gt.push(e)}function Wf(e){Xs=!0,vc(e)}function Qt(){if(!El&&gt!==null){El=!0;var e=0,t=te;try{var r=gt;for(te=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}gt=null,Xs=!1}catch(l){throw gt!==null&&(gt=gt.slice(e+1)),Ud(oi,Qt),l}finally{te=t,El=!1}}return null}var yr=[],vr=0,Cs=null,Ss=0,Ge=[],Ze=0,tr=null,vt=1,bt="";function qt(e,t){yr[vr++]=Ss,yr[vr++]=Cs,Cs=e,Ss=t}function bc(e,t,r){Ge[Ze++]=vt,Ge[Ze++]=bt,Ge[Ze++]=tr,tr=e;var s=vt;e=bt;var l=32-it(s)-1;s&=~(1<<l),r+=1;var a=32-it(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,vt=1<<32-it(t)+l|r<<l|s,bt=a+e}else vt=1<<a|r<<l|s,bt=e}function gi(e){e.return!==null&&(qt(e,1),bc(e,1,0))}function yi(e){for(;e===Cs;)Cs=yr[--vr],yr[vr]=null,Ss=yr[--vr],yr[vr]=null;for(;e===tr;)tr=Ge[--Ze],Ge[Ze]=null,bt=Ge[--Ze],Ge[Ze]=null,vt=Ge[--Ze],Ge[Ze]=null}var We=null,Ue=null,ie=!1,lt=null;function jc(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lo(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Ue=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tr!==null?{id:vt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,Ue=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fa(e){if(ie){var t=Ue;if(t){var r=t;if(!Lo(e,t)){if(Ta(e))throw Error(F(418));t=Rt(r.nextSibling);var s=We;t&&Lo(e,t)?jc(s,r):(e.flags=e.flags&-4097|2,ie=!1,We=e)}}else{if(Ta(e))throw Error(F(418));e.flags=e.flags&-4097|2,ie=!1,We=e}}}function Po(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Gn(e){if(e!==We)return!1;if(!ie)return Po(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ka(e.type,e.memoizedProps)),t&&(t=Ue)){if(Ta(e))throw Nc(),Error(F(418));for(;t;)jc(e,t),t=Rt(t.nextSibling)}if(Po(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ue=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=We?Rt(e.stateNode.nextSibling):null;return!0}function Nc(){for(var e=Ue;e;)e=Rt(e.nextSibling)}function Lr(){Ue=We=null,ie=!1}function vi(e){lt===null?lt=[e]:lt.push(e)}var Qf=St.ReactCurrentBatchConfig;function Xr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var s=r.stateNode}if(!s)throw Error(F(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Zn(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Do(e){var t=e._init;return t(e._payload)}function wc(e){function t(u,c){if(e){var f=u.deletions;f===null?(u.deletions=[c],u.flags|=16):f.push(c)}}function r(u,c){if(!e)return null;for(;c!==null;)t(u,c),c=c.sibling;return null}function s(u,c){for(u=new Map;c!==null;)c.key!==null?u.set(c.key,c):u.set(c.index,c),c=c.sibling;return u}function l(u,c){return u=Ht(u,c),u.index=0,u.sibling=null,u}function a(u,c,f){return u.index=f,e?(f=u.alternate,f!==null?(f=f.index,f<c?(u.flags|=2,c):f):(u.flags|=2,c)):(u.flags|=1048576,c)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,c,f,y){return c===null||c.tag!==6?(c=Dl(f,u.mode,y),c.return=u,c):(c=l(c,f),c.return=u,c)}function d(u,c,f,y){var E=f.type;return E===fr?v(u,c,f.props.children,y,f.key):c!==null&&(c.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tt&&Do(E)===c.type)?(y=l(c,f.props),y.ref=Xr(u,c,f),y.return=u,y):(y=fs(f.type,f.key,f.props,null,u.mode,y),y.ref=Xr(u,c,f),y.return=u,y)}function x(u,c,f,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Ml(f,u.mode,y),c.return=u,c):(c=l(c,f.children||[]),c.return=u,c)}function v(u,c,f,y,E){return c===null||c.tag!==7?(c=Jt(f,u.mode,y,E),c.return=u,c):(c=l(c,f),c.return=u,c)}function p(u,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Dl(""+c,u.mode,f),c.return=u,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case _n:return f=fs(c.type,c.key,c.props,null,u.mode,f),f.ref=Xr(u,null,c),f.return=u,f;case ur:return c=Ml(c,u.mode,f),c.return=u,c;case Tt:var y=c._init;return p(u,y(c._payload),f)}if(tn(c)||Qr(c))return c=Jt(c,u.mode,f,null),c.return=u,c;Zn(u,c)}return null}function m(u,c,f,y){var E=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:o(u,c,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case _n:return f.key===E?d(u,c,f,y):null;case ur:return f.key===E?x(u,c,f,y):null;case Tt:return E=f._init,m(u,c,E(f._payload),y)}if(tn(f)||Qr(f))return E!==null?null:v(u,c,f,y,null);Zn(u,f)}return null}function w(u,c,f,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return u=u.get(f)||null,o(c,u,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _n:return u=u.get(y.key===null?f:y.key)||null,d(c,u,y,E);case ur:return u=u.get(y.key===null?f:y.key)||null,x(c,u,y,E);case Tt:var h=y._init;return w(u,c,f,h(y._payload),E)}if(tn(y)||Qr(y))return u=u.get(f)||null,v(c,u,y,E,null);Zn(c,y)}return null}function k(u,c,f,y){for(var E=null,h=null,b=c,j=c=0,N=null;b!==null&&j<f.length;j++){b.index>j?(N=b,b=null):N=b.sibling;var C=m(u,b,f[j],y);if(C===null){b===null&&(b=N);break}e&&b&&C.alternate===null&&t(u,b),c=a(C,c,j),h===null?E=C:h.sibling=C,h=C,b=N}if(j===f.length)return r(u,b),ie&&qt(u,j),E;if(b===null){for(;j<f.length;j++)b=p(u,f[j],y),b!==null&&(c=a(b,c,j),h===null?E=b:h.sibling=b,h=b);return ie&&qt(u,j),E}for(b=s(u,b);j<f.length;j++)N=w(b,u,j,f[j],y),N!==null&&(e&&N.alternate!==null&&b.delete(N.key===null?j:N.key),c=a(N,c,j),h===null?E=N:h.sibling=N,h=N);return e&&b.forEach(function(P){return t(u,P)}),ie&&qt(u,j),E}function T(u,c,f,y){var E=Qr(f);if(typeof E!="function")throw Error(F(150));if(f=E.call(f),f==null)throw Error(F(151));for(var h=E=null,b=c,j=c=0,N=null,C=f.next();b!==null&&!C.done;j++,C=f.next()){b.index>j?(N=b,b=null):N=b.sibling;var P=m(u,b,C.value,y);if(P===null){b===null&&(b=N);break}e&&b&&P.alternate===null&&t(u,b),c=a(P,c,j),h===null?E=P:h.sibling=P,h=P,b=N}if(C.done)return r(u,b),ie&&qt(u,j),E;if(b===null){for(;!C.done;j++,C=f.next())C=p(u,C.value,y),C!==null&&(c=a(C,c,j),h===null?E=C:h.sibling=C,h=C);return ie&&qt(u,j),E}for(b=s(u,b);!C.done;j++,C=f.next())C=w(b,u,j,C.value,y),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?j:C.key),c=a(C,c,j),h===null?E=C:h.sibling=C,h=C);return e&&b.forEach(function(U){return t(u,U)}),ie&&qt(u,j),E}function A(u,c,f,y){if(typeof f=="object"&&f!==null&&f.type===fr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case _n:e:{for(var E=f.key,h=c;h!==null;){if(h.key===E){if(E=f.type,E===fr){if(h.tag===7){r(u,h.sibling),c=l(h,f.props.children),c.return=u,u=c;break e}}else if(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tt&&Do(E)===h.type){r(u,h.sibling),c=l(h,f.props),c.ref=Xr(u,h,f),c.return=u,u=c;break e}r(u,h);break}else t(u,h);h=h.sibling}f.type===fr?(c=Jt(f.props.children,u.mode,y,f.key),c.return=u,u=c):(y=fs(f.type,f.key,f.props,null,u.mode,y),y.ref=Xr(u,c,f),y.return=u,u=y)}return i(u);case ur:e:{for(h=f.key;c!==null;){if(c.key===h)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){r(u,c.sibling),c=l(c,f.children||[]),c.return=u,u=c;break e}else{r(u,c);break}else t(u,c);c=c.sibling}c=Ml(f,u.mode,y),c.return=u,u=c}return i(u);case Tt:return h=f._init,A(u,c,h(f._payload),y)}if(tn(f))return k(u,c,f,y);if(Qr(f))return T(u,c,f,y);Zn(u,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(r(u,c.sibling),c=l(c,f),c.return=u,u=c):(r(u,c),c=Dl(f,u.mode,y),c.return=u,u=c),i(u)):r(u,c)}return A}var Pr=wc(!0),kc=wc(!1),Es=Wt(null),Ts=null,br=null,bi=null;function ji(){bi=br=Ts=null}function Ni(e){var t=Es.current;ae(Es),e._currentValue=t}function Ba(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Er(e,t){Ts=e,bi=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(Ts===null)throw Error(F(308));br=e,Ts.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Zt=null;function wi(e){Zt===null?Zt=[e]:Zt.push(e)}function Cc(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,wi(t)):(r.next=l.next,l.next=r),t.interleaved=r,kt(e,s)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ft=!1;function ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Y&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,kt(e,r)}return l=s.interleaved,l===null?(t.next=t,wi(s)):(t.next=l.next,l.next=t),s.interleaved=t,kt(e,r)}function as(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,di(e,r)}}function Mo(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fs(e,t,r,s){var l=e.updateQueue;Ft=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var d=o,x=d.next;d.next=null,i===null?a=x:i.next=x,i=d;var v=e.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==i&&(o===null?v.firstBaseUpdate=x:o.next=x,v.lastBaseUpdate=d))}if(a!==null){var p=l.baseState;i=0,v=x=d=null,o=a;do{var m=o.lane,w=o.eventTime;if((s&m)===m){v!==null&&(v=v.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var k=e,T=o;switch(m=t,w=r,T.tag){case 1:if(k=T.payload,typeof k=="function"){p=k.call(w,p,m);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=T.payload,m=typeof k=="function"?k.call(w,p,m):k,m==null)break e;p=ce({},p,m);break e;case 2:Ft=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[o]:m.push(o))}else w={eventTime:w,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(x=v=w,d=p):v=v.next=w,i|=m;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;m=o,o=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(v===null&&(d=p),l.baseState=d,l.firstBaseUpdate=x,l.lastBaseUpdate=v,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);nr|=i,e.lanes=i,e.memoizedState=p}}function Io(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(F(191,l));l.call(s)}}}var In={},xt=Wt(In),Sn=Wt(In),En=Wt(In);function Xt(e){if(e===In)throw Error(F(174));return e}function Ci(e,t){switch(se(En,t),se(Sn,e),se(xt,In),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ca(t,e)}ae(xt),se(xt,t)}function Dr(){ae(xt),ae(Sn),ae(En)}function Ec(e){Xt(En.current);var t=Xt(xt.current),r=ca(t,e.type);t!==r&&(se(Sn,e),se(xt,r))}function Si(e){Sn.current===e&&(ae(xt),ae(Sn))}var oe=Wt(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Ei(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var is=St.ReactCurrentDispatcher,Fl=St.ReactCurrentBatchConfig,rr=0,de=null,ge=null,ve=null,zs=!1,un=!1,Tn=0,qf=0;function Se(){throw Error(F(321))}function Ti(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dt(e[r],t[r]))return!1;return!0}function Fi(e,t,r,s,l,a){if(rr=a,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=e===null||e.memoizedState===null?Xf:Yf,e=r(s,l),un){a=0;do{if(un=!1,Tn=0,25<=a)throw Error(F(301));a+=1,ve=ge=null,t.updateQueue=null,is.current=Jf,e=r(s,l)}while(un)}if(is.current=Ls,t=ge!==null&&ge.next!==null,rr=0,ve=ge=de=null,zs=!1,t)throw Error(F(300));return e}function Bi(){var e=Tn!==0;return Tn=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?de.memoizedState=ve=e:ve=ve.next=e,ve}function et(){if(ge===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ve===null?de.memoizedState:ve.next;if(t!==null)ve=t,ge=e;else{if(e===null)throw Error(F(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?de.memoizedState=ve=e:ve=ve.next=e}return ve}function Fn(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=et(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var s=ge,l=s.baseQueue,a=r.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,d=null,x=a;do{var v=x.lane;if((rr&v)===v)d!==null&&(d=d.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),s=x.hasEagerState?x.eagerState:e(s,x.action);else{var p={lane:v,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};d===null?(o=d=p,i=s):d=d.next=p,de.lanes|=v,nr|=v}x=x.next}while(x!==null&&x!==a);d===null?i=s:d.next=o,dt(s,t.memoizedState)||(Ae=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do a=l.lane,de.lanes|=a,nr|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zl(e){var t=et(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);dt(a,t.memoizedState)||(Ae=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Tc(){}function Fc(e,t){var r=de,s=et(),l=t(),a=!dt(s.memoizedState,l);if(a&&(s.memoizedState=l,Ae=!0),s=s.queue,zi(Lc.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Bn(9,zc.bind(null,r,s,l,t),void 0,null),be===null)throw Error(F(349));rr&30||Bc(r,t,l)}return l}function Bc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zc(e,t,r,s){t.value=r,t.getSnapshot=s,Pc(t)&&Dc(e)}function Lc(e,t,r){return r(function(){Pc(t)&&Dc(e)})}function Pc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dt(e,r)}catch{return!0}}function Dc(e){var t=kt(e,1);t!==null&&ot(t,e,1,-1)}function Ro(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t.queue=e,e=e.dispatch=Zf.bind(null,de,e),[t.memoizedState,e]}function Bn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Mc(){return et().memoizedState}function os(e,t,r,s){var l=ft();de.flags|=e,l.memoizedState=Bn(1|t,r,void 0,s===void 0?null:s)}function Ys(e,t,r,s){var l=et();s=s===void 0?null:s;var a=void 0;if(ge!==null){var i=ge.memoizedState;if(a=i.destroy,s!==null&&Ti(s,i.deps)){l.memoizedState=Bn(t,r,a,s);return}}de.flags|=e,l.memoizedState=Bn(1|t,r,a,s)}function Ao(e,t){return os(8390656,8,e,t)}function zi(e,t){return Ys(2048,8,e,t)}function Ic(e,t){return Ys(4,2,e,t)}function Rc(e,t){return Ys(4,4,e,t)}function Ac(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _c(e,t,r){return r=r!=null?r.concat([e]):null,Ys(4,4,Ac.bind(null,t,e),r)}function Li(){}function Oc(e,t){var r=et();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ti(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Hc(e,t){var r=et();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ti(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Vc(e,t,r){return rr&21?(dt(r,t)||(r=qd(),de.lanes|=r,nr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function Kf(e,t){var r=te;te=r!==0&&4>r?r:4,e(!0);var s=Fl.transition;Fl.transition={};try{e(!1),t()}finally{te=r,Fl.transition=s}}function $c(){return et().memoizedState}function Gf(e,t,r){var s=Ot(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Uc(e))Wc(t,r);else if(r=Cc(e,t,r,s),r!==null){var l=Le();ot(r,e,s,l),Qc(r,t,s)}}function Zf(e,t,r){var s=Ot(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uc(e))Wc(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(l.hasEagerState=!0,l.eagerState=o,dt(o,i)){var d=t.interleaved;d===null?(l.next=l,wi(t)):(l.next=d.next,d.next=l),t.interleaved=l;return}}catch{}finally{}r=Cc(e,t,l,s),r!==null&&(l=Le(),ot(r,e,s,l),Qc(r,t,s))}}function Uc(e){var t=e.alternate;return e===de||t!==null&&t===de}function Wc(e,t){un=zs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qc(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,di(e,r)}}var Ls={readContext:Je,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Xf={readContext:Je,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Ao,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,os(4194308,4,Ac.bind(null,t,e),r)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){return os(4,2,e,t)},useMemo:function(e,t){var r=ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ft();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Gf.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Ro,useDebugValue:Li,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Kf.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=de,l=ft();if(ie){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),be===null)throw Error(F(349));rr&30||Bc(s,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,Ao(Lc.bind(null,s,a,e),[e]),s.flags|=2048,Bn(9,zc.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=ft(),t=be.identifierPrefix;if(ie){var r=bt,s=vt;r=(s&~(1<<32-it(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yf={readContext:Je,useCallback:Oc,useContext:Je,useEffect:zi,useImperativeHandle:_c,useInsertionEffect:Ic,useLayoutEffect:Rc,useMemo:Hc,useReducer:Bl,useRef:Mc,useState:function(){return Bl(Fn)},useDebugValue:Li,useDeferredValue:function(e){var t=et();return Vc(t,ge.memoizedState,e)},useTransition:function(){var e=Bl(Fn)[0],t=et().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Fc,useId:$c,unstable_isNewReconciler:!1},Jf={readContext:Je,useCallback:Oc,useContext:Je,useEffect:zi,useImperativeHandle:_c,useInsertionEffect:Ic,useLayoutEffect:Rc,useMemo:Hc,useReducer:zl,useRef:Mc,useState:function(){return zl(Fn)},useDebugValue:Li,useDeferredValue:function(e){var t=et();return ge===null?t.memoizedState=e:Vc(t,ge.memoizedState,e)},useTransition:function(){var e=zl(Fn)[0],t=et().memoizedState;return[e,t]},useMutableSource:Tc,useSyncExternalStore:Fc,useId:$c,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function za(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Js={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Le(),l=Ot(e),a=jt(s,l);a.payload=t,r!=null&&(a.callback=r),t=At(e,a,l),t!==null&&(ot(t,e,l,s),as(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Le(),l=Ot(e),a=jt(s,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=At(e,a,l),t!==null&&(ot(t,e,l,s),as(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),s=Ot(e),l=jt(r,s);l.tag=2,t!=null&&(l.callback=t),t=At(e,l,s),t!==null&&(ot(t,e,s,r),as(t,e,s))}};function _o(e,t,r,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!Nn(r,s)||!Nn(l,a):!0}function qc(e,t,r){var s=!1,l=$t,a=t.contextType;return typeof a=="object"&&a!==null?a=Je(a):(l=Oe(t)?er:Fe.current,s=t.contextTypes,a=(s=s!=null)?zr(e,l):$t),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oo(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function La(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},ki(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Je(a):(a=Oe(t)?er:Fe.current,l.context=zr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(za(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Js.enqueueReplaceState(l,l.state,null),Fs(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var r="",s=t;do r+=S0(s),s=s.return;while(s);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Ll(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ep=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ds||(Ds=!0,$a=s),Pa(e,t)},r}function Gc(e,t,r){r=jt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Pa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Pa(e,t),typeof s!="function"&&(_t===null?_t=new Set([this]):_t.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ho(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ep;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=mp.bind(null,e,t,r),t.then(e,e))}function Vo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $o(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jt(-1,1),t.tag=2,At(r,t,1))),r.lanes|=1),e)}var tp=St.ReactCurrentOwner,Ae=!1;function ze(e,t,r,s){t.child=e===null?kc(t,null,r,s):Pr(t,e.child,r,s)}function Uo(e,t,r,s,l){r=r.render;var a=t.ref;return Er(t,l),s=Fi(e,t,r,s,a,l),r=Bi(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(ie&&r&&gi(t),t.flags|=1,ze(e,t,s,l),t.child)}function Wo(e,t,r,s,l){if(e===null){var a=r.type;return typeof a=="function"&&!Oi(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Zc(e,t,a,s,l)):(e=fs(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Nn,r(i,s)&&e.ref===t.ref)return Ct(e,t,l)}return t.flags|=1,e=Ht(a,s),e.ref=t.ref,e.return=t,t.child=e}function Zc(e,t,r,s,l){if(e!==null){var a=e.memoizedProps;if(Nn(a,s)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,Ct(e,t,l)}return Da(e,t,r,s,l)}function Xc(e,t,r){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Nr,$e),$e|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Nr,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,se(Nr,$e),$e|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,se(Nr,$e),$e|=s;return ze(e,t,l,r),t.child}function Yc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,r,s,l){var a=Oe(r)?er:Fe.current;return a=zr(t,a),Er(t,l),r=Fi(e,t,r,s,a,l),s=Bi(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(ie&&s&&gi(t),t.flags|=1,ze(e,t,r,l),t.child)}function Qo(e,t,r,s,l){if(Oe(r)){var a=!0;ks(t)}else a=!1;if(Er(t,l),t.stateNode===null)ds(e,t),qc(t,r,s),La(t,r,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,x=r.contextType;typeof x=="object"&&x!==null?x=Je(x):(x=Oe(r)?er:Fe.current,x=zr(t,x));var v=r.getDerivedStateFromProps,p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==x)&&Oo(t,i,s,x),Ft=!1;var m=t.memoizedState;i.state=m,Fs(t,s,i,l),d=t.memoizedState,o!==s||m!==d||_e.current||Ft?(typeof v=="function"&&(za(t,r,v,s),d=t.memoizedState),(o=Ft||_o(t,r,o,s,m,d,x))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=x,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Sc(e,t),o=t.memoizedProps,x=t.type===t.elementType?o:nt(t.type,o),i.props=x,p=t.pendingProps,m=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=Je(d):(d=Oe(r)?er:Fe.current,d=zr(t,d));var w=r.getDerivedStateFromProps;(v=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||m!==d)&&Oo(t,i,s,d),Ft=!1,m=t.memoizedState,i.state=m,Fs(t,s,i,l);var k=t.memoizedState;o!==p||m!==k||_e.current||Ft?(typeof w=="function"&&(za(t,r,w,s),k=t.memoizedState),(x=Ft||_o(t,r,x,s,m,k,d)||!1)?(v||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,k,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,k,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=k),i.props=s,i.state=k,i.context=d,s=x):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Ma(e,t,r,s,a,l)}function Ma(e,t,r,s,l,a){Yc(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&zo(t,r,!1),Ct(e,t,a);s=t.stateNode,tp.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Pr(t,e.child,null,a),t.child=Pr(t,null,o,a)):ze(e,t,o,a),t.memoizedState=s.state,l&&zo(t,r,!0),t.child}function Jc(e){var t=e.stateNode;t.pendingContext?Bo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bo(e,t.context,!1),Ci(e,t.containerInfo)}function qo(e,t,r,s,l){return Lr(),vi(l),t.flags|=256,ze(e,t,r,s),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function eu(e,t,r){var s=t.pendingProps,l=oe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(oe,l&1),e===null)return Fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=rl(i,s,0,null),e=Jt(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(r),t.memoizedState=Ia,e):Pi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return rp(e,t,i,s,o,l,r);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Ht(l,d),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Ht(o,a):(a=Jt(a,i,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ra(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ia,s}return a=e.child,e=a.sibling,s=Ht(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Pi(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xn(e,t,r,s){return s!==null&&vi(s),Pr(t,e.child,null,r),e=Pi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rp(e,t,r,s,l,a,i){if(r)return t.flags&256?(t.flags&=-257,s=Ll(Error(F(422))),Xn(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=rl({mode:"visible",children:s.children},l,0,null),a=Jt(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Pr(t,e.child,null,i),t.child.memoizedState=Ra(i),t.memoizedState=Ia,a);if(!(t.mode&1))return Xn(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(F(419)),s=Ll(a,s,void 0),Xn(e,t,i,s)}if(o=(i&e.childLanes)!==0,Ae||o){if(s=be,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,kt(e,l),ot(s,e,l,-1))}return _i(),s=Ll(Error(F(421))),Xn(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=xp.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ue=Rt(l.nextSibling),We=t,ie=!0,lt=null,e!==null&&(Ge[Ze++]=vt,Ge[Ze++]=bt,Ge[Ze++]=tr,vt=e.id,bt=e.overflow,tr=t),t=Pi(t,s.children),t.flags|=4096,t)}function Ko(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ba(e.return,t,r)}function Pl(e,t,r,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=l)}function tu(e,t,r){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(ze(e,t,s.children,r),s=oe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ko(e,r,t);else if(e.tag===19)Ko(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(se(oe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Bs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Pl(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Bs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Pl(t,!0,r,null,a);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Ht(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ht(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function np(e,t,r){switch(t.tag){case 3:Jc(t),Lr();break;case 5:Ec(t);break;case 1:Oe(t.type)&&ks(t);break;case 4:Ci(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;se(Es,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(se(oe,oe.current&1),t.flags|=128,null):r&t.child.childLanes?eu(e,t,r):(se(oe,oe.current&1),e=Ct(e,t,r),e!==null?e.sibling:null);se(oe,oe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return tu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(oe,oe.current),s)break;return null;case 22:case 23:return t.lanes=0,Xc(e,t,r)}return Ct(e,t,r)}var ru,Aa,nu,su;ru=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aa=function(){};nu=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Xt(xt.current);var a=null;switch(r){case"input":l=aa(e,l),s=aa(e,s),a=[];break;case"select":l=ce({},l,{value:void 0}),s=ce({},s,{value:void 0}),a=[];break;case"textarea":l=da(e,l),s=da(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ns)}ua(r,s);var i;r=null;for(x in l)if(!s.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var o=l[x];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(xn.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in s){var d=s[x];if(o=l!=null?l[x]:void 0,s.hasOwnProperty(x)&&d!==o&&(d!=null||o!=null))if(x==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(a||(a=[]),a.push(x,r)),r=d;else x==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(a=a||[]).push(x,d)):x==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(x,""+d):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(xn.hasOwnProperty(x)?(d!=null&&x==="onScroll"&&le("scroll",e),a||o===d||(a=[])):(a=a||[]).push(x,d))}r&&(a=a||[]).push("style",r);var x=a;(t.updateQueue=x)&&(t.flags|=4)}};su=function(e,t,r,s){r!==s&&(t.flags|=4)};function Yr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function sp(e,t,r){var s=t.pendingProps;switch(yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Oe(t.type)&&ws(),Ee(t),null;case 3:return s=t.stateNode,Dr(),ae(_e),ae(Fe),Ei(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(Qa(lt),lt=null))),Aa(e,t),Ee(t),null;case 5:Si(t);var l=Xt(En.current);if(r=t.type,e!==null&&t.stateNode!=null)nu(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Ee(t),null}if(e=Xt(xt.current),Gn(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[pt]=t,s[Cn]=a,e=(t.mode&1)!==0,r){case"dialog":le("cancel",s),le("close",s);break;case"iframe":case"object":case"embed":le("load",s);break;case"video":case"audio":for(l=0;l<nn.length;l++)le(nn[l],s);break;case"source":le("error",s);break;case"img":case"image":case"link":le("error",s),le("load",s);break;case"details":le("toggle",s);break;case"input":ro(s,a),le("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},le("invalid",s);break;case"textarea":so(s,a),le("invalid",s)}ua(r,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&Kn(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Kn(s.textContent,o,e),l=["children",""+o]):xn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&le("scroll",s)}switch(r){case"input":On(s),no(s,a,!0);break;case"textarea":On(s),lo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Ns)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ld(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[pt]=t,e[Cn]=s,ru(e,t,!1,!1),t.stateNode=e;e:{switch(i=fa(r,s),r){case"dialog":le("cancel",e),le("close",e),l=s;break;case"iframe":case"object":case"embed":le("load",e),l=s;break;case"video":case"audio":for(l=0;l<nn.length;l++)le(nn[l],e);l=s;break;case"source":le("error",e),l=s;break;case"img":case"image":case"link":le("error",e),le("load",e),l=s;break;case"details":le("toggle",e),l=s;break;case"input":ro(e,s),l=aa(e,s),le("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ce({},s,{value:void 0}),le("invalid",e);break;case"textarea":so(e,s),l=da(e,s),le("invalid",e);break;default:l=s}ua(r,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="style"?Md(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Pd(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&hn(e,d):typeof d=="number"&&hn(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xn.hasOwnProperty(a)?d!=null&&a==="onScroll"&&le("scroll",e):d!=null&&ni(e,a,d,i))}switch(r){case"input":On(e),no(e,s,!1);break;case"textarea":On(e),lo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Vt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?wr(e,!!s.multiple,a,!1):s.defaultValue!=null&&wr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ns)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)su(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(r=Xt(En.current),Xt(xt.current),Gn(t)){if(s=t.stateNode,r=t.memoizedProps,s[pt]=t,(a=s.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:Kn(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kn(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[pt]=t,t.stateNode=s}return Ee(t),null;case 13:if(ae(oe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ue!==null&&t.mode&1&&!(t.flags&128))Nc(),Lr(),t.flags|=98560,a=!1;else if(a=Gn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[pt]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),a=!1}else lt!==null&&(Qa(lt),lt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ye===0&&(ye=3):_i())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Dr(),Aa(e,t),e===null&&wn(t.stateNode.containerInfo),Ee(t),null;case 10:return Ni(t.type._context),Ee(t),null;case 17:return Oe(t.type)&&ws(),Ee(t),null;case 19:if(ae(oe),a=t.memoizedState,a===null)return Ee(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Yr(a,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bs(e),i!==null){for(t.flags|=128,Yr(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&me()>Ir&&(t.flags|=128,s=!0,Yr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Bs(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ie)return Ee(t),null}else 2*me()-a.renderingStartTime>Ir&&r!==1073741824&&(t.flags|=128,s=!0,Yr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=me(),t.sibling=null,r=oe.current,se(oe,s?r&1|2:r&1),t):(Ee(t),null);case 22:case 23:return Ai(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?$e&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function lp(e,t){switch(yi(t),t.tag){case 1:return Oe(t.type)&&ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ae(_e),ae(Fe),Ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Si(t),null;case 13:if(ae(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(oe),null;case 4:return Dr(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var Yn=!1,Te=!1,ap=typeof WeakSet=="function"?WeakSet:Set,M=null;function jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ue(e,t,s)}else r.current=null}function _a(e,t,r){try{r()}catch(s){ue(e,t,s)}}var Go=!1;function ip(e,t){if(Na=vs,e=dc(),hi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,d=-1,x=0,v=0,p=e,m=null;t:for(;;){for(var w;p!==r||l!==0&&p.nodeType!==3||(o=i+l),p!==a||s!==0&&p.nodeType!==3||(d=i+s),p.nodeType===3&&(i+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===e)break t;if(m===r&&++x===l&&(o=i),m===a&&++v===s&&(d=i),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(wa={focusedElem:e,selectionRange:r},vs=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var T=k.memoizedProps,A=k.memoizedState,u=t.stateNode,c=u.getSnapshotBeforeUpdate(t.elementType===t.type?T:nt(t.type,T),A);u.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(y){ue(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return k=Go,Go=!1,k}function fn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&_a(t,r,a)}l=l.next}while(l!==s)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Oa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lu(e){var t=e.alternate;t!==null&&(e.alternate=null,lu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[Cn],delete t[Sa],delete t[$f],delete t[Uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return e.tag===5||e.tag===3||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ns));else if(s!==4&&(e=e.child,e!==null))for(Ha(e,t,r),e=e.sibling;e!==null;)Ha(e,t,r),e=e.sibling}function Va(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Va(e,t,r),e=e.sibling;e!==null;)Va(e,t,r),e=e.sibling}var je=null,st=!1;function Et(e,t,r){for(r=r.child;r!==null;)iu(e,t,r),r=r.sibling}function iu(e,t,r){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Qs,r)}catch{}switch(r.tag){case 5:Te||jr(r,t);case 6:var s=je,l=st;je=null,Et(e,t,r),je=s,st=l,je!==null&&(st?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(st?(e=je,r=r.stateNode,e.nodeType===8?Sl(e.parentNode,r):e.nodeType===1&&Sl(e,r),bn(e)):Sl(je,r.stateNode));break;case 4:s=je,l=st,je=r.stateNode.containerInfo,st=!0,Et(e,t,r),je=s,st=l;break;case 0:case 11:case 14:case 15:if(!Te&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&_a(r,t,i),l=l.next}while(l!==s)}Et(e,t,r);break;case 1:if(!Te&&(jr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){ue(r,t,o)}Et(e,t,r);break;case 21:Et(e,t,r);break;case 22:r.mode&1?(Te=(s=Te)||r.memoizedState!==null,Et(e,t,r),Te=s):Et(e,t,r);break;default:Et(e,t,r)}}function Xo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ap),t.forEach(function(s){var l=hp.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function rt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,st=!1;break e;case 3:je=o.stateNode.containerInfo,st=!0;break e;case 4:je=o.stateNode.containerInfo,st=!0;break e}o=o.return}if(je===null)throw Error(F(160));iu(a,i,l),je=null,st=!1;var d=l.alternate;d!==null&&(d.return=null),l.return=null}catch(x){ue(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ou(t,e),t=t.sibling}function ou(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),ut(e),s&4){try{fn(3,e,e.return),el(3,e)}catch(T){ue(e,e.return,T)}try{fn(5,e,e.return)}catch(T){ue(e,e.return,T)}}break;case 1:rt(t,e),ut(e),s&512&&r!==null&&jr(r,r.return);break;case 5:if(rt(t,e),ut(e),s&512&&r!==null&&jr(r,r.return),e.flags&32){var l=e.stateNode;try{hn(l,"")}catch(T){ue(e,e.return,T)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Bd(l,a),fa(o,i);var x=fa(o,a);for(i=0;i<d.length;i+=2){var v=d[i],p=d[i+1];v==="style"?Md(l,p):v==="dangerouslySetInnerHTML"?Pd(l,p):v==="children"?hn(l,p):ni(l,v,p,x)}switch(o){case"input":ia(l,a);break;case"textarea":zd(l,a);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?wr(l,!!a.multiple,w,!1):m!==!!a.multiple&&(a.defaultValue!=null?wr(l,!!a.multiple,a.defaultValue,!0):wr(l,!!a.multiple,a.multiple?[]:"",!1))}l[Cn]=a}catch(T){ue(e,e.return,T)}}break;case 6:if(rt(t,e),ut(e),s&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(T){ue(e,e.return,T)}}break;case 3:if(rt(t,e),ut(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(T){ue(e,e.return,T)}break;case 4:rt(t,e),ut(e);break;case 13:rt(t,e),ut(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ii=me())),s&4&&Xo(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(x=Te)||v,rt(t,e),Te=x):rt(t,e),ut(e),s&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!v&&e.mode&1)for(M=e,v=e.child;v!==null;){for(p=M=v;M!==null;){switch(m=M,w=m.child,m.tag){case 0:case 11:case 14:case 15:fn(4,m,m.return);break;case 1:jr(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(T){ue(s,r,T)}}break;case 5:jr(m,m.return);break;case 22:if(m.memoizedState!==null){Jo(p);continue}}w!==null?(w.return=m,M=w):Jo(p)}v=v.sibling}e:for(v=null,p=e;;){if(p.tag===5){if(v===null){v=p;try{l=p.stateNode,x?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,d=p.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Dd("display",i))}catch(T){ue(e,e.return,T)}}}else if(p.tag===6){if(v===null)try{p.stateNode.nodeValue=x?"":p.memoizedProps}catch(T){ue(e,e.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;v===p&&(v=null),p=p.return}v===p&&(v=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rt(t,e),ut(e),s&4&&Xo(e);break;case 21:break;default:rt(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(au(r)){var s=r;break e}r=r.return}throw Error(F(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(hn(l,""),s.flags&=-33);var a=Zo(e);Va(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=Zo(e);Ha(e,o,i);break;default:throw Error(F(161))}}catch(d){ue(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function op(e,t,r){M=e,du(e)}function du(e,t,r){for(var s=(e.mode&1)!==0;M!==null;){var l=M,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||Yn;if(!i){var o=l.alternate,d=o!==null&&o.memoizedState!==null||Te;o=Yn;var x=Te;if(Yn=i,(Te=d)&&!x)for(M=l;M!==null;)i=M,d=i.child,i.tag===22&&i.memoizedState!==null?ed(l):d!==null?(d.return=i,M=d):ed(l);for(;a!==null;)M=a,du(a),a=a.sibling;M=l,Yn=o,Te=x}Yo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,M=a):Yo(e)}}function Yo(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||el(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Te)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:nt(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Io(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Io(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var v=x.memoizedState;if(v!==null){var p=v.dehydrated;p!==null&&bn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Te||t.flags&512&&Oa(t)}catch(m){ue(t,t.return,m)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function Jo(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function ed(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{el(4,t)}catch(d){ue(t,r,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(d){ue(t,l,d)}}var a=t.return;try{Oa(t)}catch(d){ue(t,a,d)}break;case 5:var i=t.return;try{Oa(t)}catch(d){ue(t,i,d)}}}catch(d){ue(t,t.return,d)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var dp=Math.ceil,Ps=St.ReactCurrentDispatcher,Di=St.ReactCurrentOwner,Ye=St.ReactCurrentBatchConfig,Y=0,be=null,xe=null,Ne=0,$e=0,Nr=Wt(0),ye=0,zn=null,nr=0,tl=0,Mi=0,pn=null,Re=null,Ii=0,Ir=1/0,ht=null,Ds=!1,$a=null,_t=null,Jn=!1,Pt=null,Ms=0,mn=0,Ua=null,cs=-1,us=0;function Le(){return Y&6?me():cs!==-1?cs:cs=me()}function Ot(e){return e.mode&1?Y&2&&Ne!==0?Ne&-Ne:Qf.transition!==null?(us===0&&(us=qd()),us):(e=te,e!==0||(e=window.event,e=e===void 0?16:ec(e.type)),e):1}function ot(e,t,r,s){if(50<mn)throw mn=0,Ua=null,Error(F(185));Pn(e,r,s),(!(Y&2)||e!==be)&&(e===be&&(!(Y&2)&&(tl|=r),ye===4&&zt(e,Ne)),He(e,s),r===1&&Y===0&&!(t.mode&1)&&(Ir=me()+500,Xs&&Qt()))}function He(e,t){var r=e.callbackNode;W0(e,t);var s=ys(e,e===be?Ne:0);if(s===0)r!==null&&oo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&oo(r),t===1)e.tag===0?Wf(td.bind(null,e)):vc(td.bind(null,e)),Hf(function(){!(Y&6)&&Qt()}),r=null;else{switch(Kd(s)){case 1:r=oi;break;case 4:r=Wd;break;case 16:r=gs;break;case 536870912:r=Qd;break;default:r=gs}r=gu(r,cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cu(e,t){if(cs=-1,us=0,Y&6)throw Error(F(327));var r=e.callbackNode;if(Tr()&&e.callbackNode!==r)return null;var s=ys(e,e===be?Ne:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Is(e,s);else{t=s;var l=Y;Y|=2;var a=fu();(be!==e||Ne!==t)&&(ht=null,Ir=me()+500,Yt(e,t));do try{fp();break}catch(o){uu(e,o)}while(!0);ji(),Ps.current=a,Y=l,xe!==null?t=0:(be=null,Ne=0,t=ye)}if(t!==0){if(t===2&&(l=ga(e),l!==0&&(s=l,t=Wa(e,l))),t===1)throw r=zn,Yt(e,0),zt(e,s),He(e,me()),r;if(t===6)zt(e,s);else{if(l=e.current.alternate,!(s&30)&&!cp(l)&&(t=Is(e,s),t===2&&(a=ga(e),a!==0&&(s=a,t=Wa(e,a))),t===1))throw r=zn,Yt(e,0),zt(e,s),He(e,me()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:Kt(e,Re,ht);break;case 3:if(zt(e,s),(s&130023424)===s&&(t=Ii+500-me(),10<t)){if(ys(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Le(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ca(Kt.bind(null,e,Re,ht),t);break}Kt(e,Re,ht);break;case 4:if(zt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-it(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*dp(s/1960))-s,10<s){e.timeoutHandle=Ca(Kt.bind(null,e,Re,ht),s);break}Kt(e,Re,ht);break;case 5:Kt(e,Re,ht);break;default:throw Error(F(329))}}}return He(e,me()),e.callbackNode===r?cu.bind(null,e):null}function Wa(e,t){var r=pn;return e.current.memoizedState.isDehydrated&&(Yt(e,t).flags|=256),e=Is(e,t),e!==2&&(t=Re,Re=r,t!==null&&Qa(t)),e}function Qa(e){Re===null?Re=e:Re.push.apply(Re,e)}function cp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],a=l.getSnapshot;l=l.value;try{if(!dt(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Mi,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),s=1<<r;e[r]=-1,t&=~s}}function td(e){if(Y&6)throw Error(F(327));Tr();var t=ys(e,0);if(!(t&1))return He(e,me()),null;var r=Is(e,t);if(e.tag!==0&&r===2){var s=ga(e);s!==0&&(t=s,r=Wa(e,s))}if(r===1)throw r=zn,Yt(e,0),zt(e,t),He(e,me()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Re,ht),He(e,me()),null}function Ri(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(Ir=me()+500,Xs&&Qt())}}function sr(e){Pt!==null&&Pt.tag===0&&!(Y&6)&&Tr();var t=Y;Y|=1;var r=Ye.transition,s=te;try{if(Ye.transition=null,te=1,e)return e()}finally{te=s,Ye.transition=r,Y=t,!(Y&6)&&Qt()}}function Ai(){$e=Nr.current,ae(Nr)}function Yt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Of(r)),xe!==null)for(r=xe.return;r!==null;){var s=r;switch(yi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ws();break;case 3:Dr(),ae(_e),ae(Fe),Ei();break;case 5:Si(s);break;case 4:Dr();break;case 13:ae(oe);break;case 19:ae(oe);break;case 10:Ni(s.type._context);break;case 22:case 23:Ai()}r=r.return}if(be=e,xe=e=Ht(e.current,null),Ne=$e=t,ye=0,zn=null,Mi=tl=nr=0,Re=pn=null,Zt!==null){for(t=0;t<Zt.length;t++)if(r=Zt[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,a=r.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}r.pending=s}Zt=null}return e}function uu(e,t){do{var r=xe;try{if(ji(),is.current=Ls,zs){for(var s=de.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}zs=!1}if(rr=0,ve=ge=de=null,un=!1,Tn=0,Di.current=null,r===null||r.return===null){ye=1,zn=t,xe=null;break}e:{var a=e,i=r.return,o=r,d=t;if(t=Ne,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var x=d,v=o,p=v.tag;if(!(v.mode&1)&&(p===0||p===11||p===15)){var m=v.alternate;m?(v.updateQueue=m.updateQueue,v.memoizedState=m.memoizedState,v.lanes=m.lanes):(v.updateQueue=null,v.memoizedState=null)}var w=Vo(i);if(w!==null){w.flags&=-257,$o(w,i,o,a,t),w.mode&1&&Ho(a,x,t),t=w,d=x;var k=t.updateQueue;if(k===null){var T=new Set;T.add(d),t.updateQueue=T}else k.add(d);break e}else{if(!(t&1)){Ho(a,x,t),_i();break e}d=Error(F(426))}}else if(ie&&o.mode&1){var A=Vo(i);if(A!==null){!(A.flags&65536)&&(A.flags|=256),$o(A,i,o,a,t),vi(Mr(d,o));break e}}a=d=Mr(d,o),ye!==4&&(ye=2),pn===null?pn=[a]:pn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var u=Kc(a,d,t);Mo(a,u);break e;case 1:o=d;var c=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_t===null||!_t.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=Gc(a,o,t);Mo(a,y);break e}}a=a.return}while(a!==null)}mu(r)}catch(E){t=E,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function fu(){var e=Ps.current;return Ps.current=Ls,e===null?Ls:e}function _i(){(ye===0||ye===3||ye===2)&&(ye=4),be===null||!(nr&268435455)&&!(tl&268435455)||zt(be,Ne)}function Is(e,t){var r=Y;Y|=2;var s=fu();(be!==e||Ne!==t)&&(ht=null,Yt(e,t));do try{up();break}catch(l){uu(e,l)}while(!0);if(ji(),Y=r,Ps.current=s,xe!==null)throw Error(F(261));return be=null,Ne=0,ye}function up(){for(;xe!==null;)pu(xe)}function fp(){for(;xe!==null&&!I0();)pu(xe)}function pu(e){var t=hu(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?mu(e):xe=t,Di.current=null}function mu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lp(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,xe=null;return}}else if(r=sp(r,t,$e),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);ye===0&&(ye=5)}function Kt(e,t,r){var s=te,l=Ye.transition;try{Ye.transition=null,te=1,pp(e,t,r,s)}finally{Ye.transition=l,te=s}return null}function pp(e,t,r,s){do Tr();while(Pt!==null);if(Y&6)throw Error(F(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Q0(e,a),e===be&&(xe=be=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jn||(Jn=!0,gu(gs,function(){return Tr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ye.transition,Ye.transition=null;var i=te;te=1;var o=Y;Y|=4,Di.current=null,ip(e,r),ou(r,e),Pf(wa),vs=!!Na,wa=Na=null,e.current=r,op(r),R0(),Y=o,te=i,Ye.transition=a}else e.current=r;if(Jn&&(Jn=!1,Pt=e,Ms=l),a=e.pendingLanes,a===0&&(_t=null),O0(r.stateNode),He(e,me()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ds)throw Ds=!1,e=$a,$a=null,e;return Ms&1&&e.tag!==0&&Tr(),a=e.pendingLanes,a&1?e===Ua?mn++:(mn=0,Ua=e):mn=0,Qt(),null}function Tr(){if(Pt!==null){var e=Kd(Ms),t=Ye.transition,r=te;try{if(Ye.transition=null,te=16>e?16:e,Pt===null)var s=!1;else{if(e=Pt,Pt=null,Ms=0,Y&6)throw Error(F(331));var l=Y;for(Y|=4,M=e.current;M!==null;){var a=M,i=a.child;if(M.flags&16){var o=a.deletions;if(o!==null){for(var d=0;d<o.length;d++){var x=o[d];for(M=x;M!==null;){var v=M;switch(v.tag){case 0:case 11:case 15:fn(8,v,a)}var p=v.child;if(p!==null)p.return=v,M=p;else for(;M!==null;){v=M;var m=v.sibling,w=v.return;if(lu(v),v===x){M=null;break}if(m!==null){m.return=w,M=m;break}M=w}}}var k=a.alternate;if(k!==null){var T=k.child;if(T!==null){k.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}M=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,M=i;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fn(9,a,a.return)}var u=a.sibling;if(u!==null){u.return=a.return,M=u;break e}M=a.return}}var c=e.current;for(M=c;M!==null;){i=M;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,M=f;else e:for(i=c;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:el(9,o)}}catch(E){ue(o,o.return,E)}if(o===i){M=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,M=y;break e}M=o.return}}if(Y=l,Qt(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Qs,e)}catch{}s=!0}return s}finally{te=r,Ye.transition=t}}return!1}function rd(e,t,r){t=Mr(r,t),t=Kc(e,t,1),e=At(e,t,1),t=Le(),e!==null&&(Pn(e,1,t),He(e,t))}function ue(e,t,r){if(e.tag===3)rd(e,e,r);else for(;t!==null;){if(t.tag===3){rd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_t===null||!_t.has(s))){e=Mr(r,e),e=Gc(t,e,1),t=At(t,e,1),e=Le(),t!==null&&(Pn(t,1,e),He(t,e));break}}t=t.return}}function mp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,be===e&&(Ne&r)===r&&(ye===4||ye===3&&(Ne&130023424)===Ne&&500>me()-Ii?Yt(e,0):Mi|=r),He(e,t)}function xu(e,t){t===0&&(e.mode&1?(t=$n,$n<<=1,!($n&130023424)&&($n=4194304)):t=1);var r=Le();e=kt(e,t),e!==null&&(Pn(e,t,r),He(e,r))}function xp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xu(e,r)}function hp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),xu(e,r)}var hu;hu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)Ae=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ae=!1,np(e,t,r);Ae=!!(e.flags&131072)}else Ae=!1,ie&&t.flags&1048576&&bc(t,Ss,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ds(e,t),e=t.pendingProps;var l=zr(t,Fe.current);Er(t,r),l=Fi(null,t,s,e,l,r);var a=Bi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(s)?(a=!0,ks(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ki(t),l.updater=Js,t.stateNode=l,l._reactInternals=t,La(t,s,e,r),t=Ma(null,t,s,!0,a,r)):(t.tag=0,ie&&a&&gi(t),ze(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=yp(s),e=nt(s,e),l){case 0:t=Da(null,t,s,e,r);break e;case 1:t=Qo(null,t,s,e,r);break e;case 11:t=Uo(null,t,s,e,r);break e;case 14:t=Wo(null,t,s,nt(s.type,e),r);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nt(s,l),Da(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nt(s,l),Qo(e,t,s,l,r);case 3:e:{if(Jc(t),e===null)throw Error(F(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Sc(e,t),Fs(t,s,null,r);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Mr(Error(F(423)),t),t=qo(e,t,s,r,l);break e}else if(s!==l){l=Mr(Error(F(424)),t),t=qo(e,t,s,r,l);break e}else for(Ue=Rt(t.stateNode.containerInfo.firstChild),We=t,ie=!0,lt=null,r=kc(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),s===l){t=Ct(e,t,r);break e}ze(e,t,s,r)}t=t.child}return t;case 5:return Ec(t),e===null&&Fa(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ka(s,l)?i=null:a!==null&&ka(s,a)&&(t.flags|=32),Yc(e,t),ze(e,t,i,r),t.child;case 6:return e===null&&Fa(t),null;case 13:return eu(e,t,r);case 4:return Ci(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Pr(t,null,s,r):ze(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nt(s,l),Uo(e,t,s,l,r);case 7:return ze(e,t,t.pendingProps,r),t.child;case 8:return ze(e,t,t.pendingProps.children,r),t.child;case 12:return ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,se(Es,s._currentValue),s._currentValue=i,a!==null)if(dt(a.value,i)){if(a.children===l.children&&!_e.current){t=Ct(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(a.tag===1){d=jt(-1,r&-r),d.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var v=x.pending;v===null?d.next=d:(d.next=v.next,v.next=d),x.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Ba(a.return,r,t),o.lanes|=r;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Ba(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ze(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Er(t,r),l=Je(l),s=s(l),t.flags|=1,ze(e,t,s,r),t.child;case 14:return s=t.type,l=nt(s,t.pendingProps),l=nt(s.type,l),Wo(e,t,s,l,r);case 15:return Zc(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nt(s,l),ds(e,t),t.tag=1,Oe(s)?(e=!0,ks(t)):e=!1,Er(t,r),qc(t,s,l),La(t,s,l,r),Ma(null,t,s,!0,e,r);case 19:return tu(e,t,r);case 22:return Xc(e,t,r)}throw Error(F(156,t.tag))};function gu(e,t){return Ud(e,t)}function gp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,s){return new gp(e,t,r,s)}function Oi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yp(e){if(typeof e=="function")return Oi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===li)return 11;if(e===ai)return 14}return 2}function Ht(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fs(e,t,r,s,l,a){var i=2;if(s=e,typeof e=="function")Oi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fr:return Jt(r.children,l,a,t);case si:i=8,l|=8;break;case ra:return e=Xe(12,r,t,l|2),e.elementType=ra,e.lanes=a,e;case na:return e=Xe(13,r,t,l),e.elementType=na,e.lanes=a,e;case sa:return e=Xe(19,r,t,l),e.elementType=sa,e.lanes=a,e;case Ed:return rl(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:i=10;break e;case Sd:i=9;break e;case li:i=11;break e;case ai:i=14;break e;case Tt:i=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Xe(i,r,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function Jt(e,t,r,s){return e=Xe(7,e,s,t),e.lanes=r,e}function rl(e,t,r,s){return e=Xe(22,e,s,t),e.elementType=Ed,e.lanes=r,e.stateNode={isHidden:!1},e}function Dl(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function Ml(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vp(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Hi(e,t,r,s,l,a,i,o,d){return e=new vp(e,t,r,o,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Xe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ki(a),e}function bp(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function yu(e){if(!e)return $t;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Oe(r))return yc(e,r,t)}return t}function vu(e,t,r,s,l,a,i,o,d){return e=Hi(r,s,!0,e,l,a,i,o,d),e.context=yu(null),r=e.current,s=Le(),l=Ot(r),a=jt(s,l),a.callback=t??null,At(r,a,l),e.current.lanes=l,Pn(e,l,s),He(e,s),e}function nl(e,t,r,s){var l=t.current,a=Le(),i=Ot(l);return r=yu(r),t.context===null?t.context=r:t.pendingContext=r,t=jt(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=At(l,t,i),e!==null&&(ot(e,l,i,a),as(e,l,i)),i}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vi(e,t){nd(e,t),(e=e.alternate)&&nd(e,t)}function jp(){return null}var bu=typeof reportError=="function"?reportError:function(e){console.error(e)};function $i(e){this._internalRoot=e}sl.prototype.render=$i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));nl(e,t,null,null)};sl.prototype.unmount=$i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){nl(null,e,null,null)}),t[wt]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&Jd(e)}};function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function Np(e,t,r,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var x=Rs(i);a.call(x)}}var i=vu(t,s,e,0,null,!1,!1,"",sd);return e._reactRootContainer=i,e[wt]=i.current,wn(e.nodeType===8?e.parentNode:e),sr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var x=Rs(d);o.call(x)}}var d=Hi(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=d,e[wt]=d.current,wn(e.nodeType===8?e.parentNode:e),sr(function(){nl(t,d,r,s)}),d}function al(e,t,r,s,l){var a=r._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var d=Rs(i);o.call(d)}}nl(t,i,e,l)}else i=Np(r,t,e,l,s);return Rs(i)}Gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rn(t.pendingLanes);r!==0&&(di(t,r|1),He(t,me()),!(Y&6)&&(Ir=me()+500,Qt()))}break;case 13:sr(function(){var s=kt(e,1);if(s!==null){var l=Le();ot(s,e,1,l)}}),Vi(e,1)}};ci=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=Le();ot(t,e,134217728,r)}Vi(e,134217728)}};Zd=function(e){if(e.tag===13){var t=Ot(e),r=kt(e,t);if(r!==null){var s=Le();ot(r,e,t,s)}Vi(e,t)}};Xd=function(){return te};Yd=function(e,t){var r=te;try{return te=e,t()}finally{te=r}};ma=function(e,t,r){switch(t){case"input":if(ia(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=Zs(s);if(!l)throw Error(F(90));Fd(s),ia(s,l)}}}break;case"textarea":zd(e,r);break;case"select":t=r.value,t!=null&&wr(e,!!r.multiple,t,!1)}};Ad=Ri;_d=sr;var wp={usingClientEntryPoint:!1,Events:[Mn,hr,Zs,Id,Rd,Ri]},Jr={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kp={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vd(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Qs=es.inject(kp),mt=es}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ui(t))throw Error(F(200));return bp(e,t,null,r)};qe.createRoot=function(e,t){if(!Ui(e))throw Error(F(299));var r=!1,s="",l=bu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Hi(e,1,!1,null,null,r,!1,s,l),e[wt]=t.current,wn(e.nodeType===8?e.parentNode:e),new $i(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Vd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return sr(e)};qe.hydrate=function(e,t,r){if(!ll(t))throw Error(F(200));return al(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!Ui(e))throw Error(F(405));var s=r!=null&&r.hydratedSources||null,l=!1,a="",i=bu;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=vu(t,null,e,1,r??null,l,!1,a,i),e[wt]=t.current,wn(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new sl(t)};qe.render=function(e,t,r){if(!ll(t))throw Error(F(200));return al(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ll(e))throw Error(F(40));return e._reactRootContainer?(sr(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};qe.unstable_batchedUpdates=Ri;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!ll(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return al(e,t,r,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function ju(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ju)}catch(e){console.error(e)}}ju(),jd.exports=qe;var Cp=jd.exports,ld=Cp;ea.createRoot=ld.createRoot,ea.hydrateRoot=ld.hydrateRoot;var z=(e=>(e.Draft="Brouillon",e.ToValidate=" valider",e.ToOrder=" commander",e.InProgress="En cours",e.Delivered="Livre",e.Invoiced="Facture",e.Paid="Paye",e.Refused="Refuse",e))(z||{}),D=(e=>(e.Director="Directeur",e.ZoneManager="Charg de Direction",e.WorkshopManager="Responsable de Service",e.Accountant="Comptable",e.Admin="Administrateur",e))(D||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const r=B.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:d,...x},v)=>B.createElement("svg",{ref:v,...Sp,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${Ep(e)}`,o].join(" "),...x},[...t.map(([p,m])=>B.createElement(p,m)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=O("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=O("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=O("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=O("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=O("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=O("FileDigit",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2",key:"jm304g"}],["path",{d:"M10 12h2v6",key:"12zw74"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=O("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=O("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=O("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=O("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=O("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=O("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=O("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=O("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=O("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=O("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=O("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=O("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=O("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=O("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=O("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=O("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=O("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kp=[{id:"DASHBOARD",label:"Tableau de bord",icon:n.jsx(_p,{size:20})},{id:"BUDGET",label:"Gestion Budgtaire",icon:n.jsx(Su,{size:20})},{id:"ORDERS",label:"Commandes",icon:n.jsx(Eu,{size:20})},{id:"SUPPLIERS",label:"Fournisseurs",icon:n.jsx(cr,{size:20})},{id:"ARTICLES",label:"Articles",icon:n.jsx(Cu,{size:20})},{id:"INVOICES",label:"Paiements",icon:n.jsx(yt,{size:20})},{id:"SETTINGS",label:"Paramtres",icon:n.jsx(Vp,{size:20})}],sn=[{id:"ESCH",name:"Zone Esch",responsible:"Julien Marcelin",deliveryLocations:["Esch","Street","Bel"]},{id:"ETTEL",name:"Zone Ettelbruck",responsible:"Tomas Pascal",deliveryLocations:["Clerval","Mirsch"]},{id:"DIR",name:"Direction / CNF",responsible:"Marc Selek",deliveryLocations:["Central"]}],$s=[{code:"11.3.12.010",name:"Frais de route"},{code:"11.3.12.020",name:"Frais exploitation vhicules"},{code:"11.3.12.080",name:"Btiments: exploitation et entretien"},{code:"11.3.12.100",name:"Loyer d'immeubles et charges locatives"},{code:"11.3.12.090",name:"Frais d'exploitation courants"},{code:"11.3.12.301",name:"Dpenses form.prof.cont. personnel enseignant"},{code:"11.3.12.302",name:"Frais de maintenance informatique"},{code:"41.3.74.000",name:"Acquisition de vhicules automoteurs"},{code:"41.3.74.250",name:"Installations et quipements"},{code:"1.2.3.4.5.6",name:"Hors budget"}],Us=[{code:"CONS",name:"Consommables / Fournitures"},{code:"MAT",name:"Matire Premire"},{code:"OUT",name:"Petit Outillage"},{code:"EQP",name:"quipement < 800"},{code:"ENT",name:"Entretien / Maintenance"},{code:"REP",name:"Rparations"},{code:"NET",name:"Nettoyage"},{code:"ELEC",name:"lectricit / Gaz"},{code:"LOY",name:"Loyers"},{code:"CARB",name:"Carburant"},{code:"REP-V",name:"Rparation Vhicule"},{code:"ACH-V",name:"Achat Vhicule Neuf"},{code:"HARD",name:"Matriel Informatique"},{code:"LIC",name:"Licences Logiciels"},{code:"KM",name:"Indemnits Kilomtriques"},{code:"PROJ",name:"Projets Spciaux"},{code:"DIREC",name:"Frais Directs"}],Fr=[{id:1,code:"ACCRE",name:"Accueil rfugis",engagementNumber:"350001",totalBudget:45e3,engagedBudget:12e3,zoneId:"ESCH"},{id:2,code:"ADM-E",name:"Administration (Esch)",engagementNumber:"350002",totalBudget:6e4,engagedBudget:15e3,zoneId:"ESCH"},{id:3,code:"ATBOI",name:"Bois",engagementNumber:"350003",totalBudget:85e3,engagedBudget:32e3,zoneId:"ESCH"},{id:4,code:"CNS-E",name:"CNS (Esch)",engagementNumber:"350004",totalBudget:3e4,engagedBudget:5e3,zoneId:"ESCH"},{id:5,code:"ATCS-E",name:"Chauffage-Sanitaire (Esch)",engagementNumber:"350005",totalBudget:95e3,engagedBudget:44e3,zoneId:"ESCH"},{id:6,code:"INFO-E",name:"Informatique (Esch)",engagementNumber:"350006",totalBudget:2e5,engagedBudget:85e3,zoneId:"ESCH"},{id:7,code:"ATMEN",name:"Menuiserie",engagementNumber:"350007",totalBudget:7e4,engagedBudget:28e3,zoneId:"ESCH"},{id:8,code:"ATVEH-E",name:"Vhicules (Esch)",engagementNumber:"350008",totalBudget:12e4,engagedBudget:6e4,zoneId:"ESCH"},{id:9,code:"ATCUI",name:"Cuisine",engagementNumber:"350009",totalBudget:55e3,engagedBudget:21e3,zoneId:"ESCH"},{id:10,code:"ATCOU",name:"Couture",engagementNumber:"350010",totalBudget:4e4,engagedBudget:8500,zoneId:"ESCH"},{id:16,code:"ADM-ET",name:"Administration (Etelbruck)",engagementNumber:"360001",totalBudget:5e4,engagedBudget:1e4,zoneId:"ETTEL"},{id:17,code:"ATCS-ET",name:"Chauffage-Sanitaire (Etelbruck)",engagementNumber:"360002",totalBudget:8e4,engagedBudget:45e3,zoneId:"ETTEL"},{id:18,code:"ATFOR",name:"Formation",engagementNumber:"360003",totalBudget:15e4,engagedBudget:32e3,zoneId:"ETTEL"},{id:19,code:"ATVEH-ET",name:"Vhicules (Etelbruck)",engagementNumber:"360004",totalBudget:11e4,engagedBudget:25e3,zoneId:"ETTEL"},{id:20,code:"ATCON",name:"Construction",engagementNumber:"360005",totalBudget:9e4,engagedBudget:12e3,zoneId:"ETTEL"},{id:31,code:"ADM-C",name:"Administration (CNF)",engagementNumber:"370001",totalBudget:25e4,engagedBudget:11e4,zoneId:"DIR"},{id:32,code:"CNS-C",name:"CNS (CNF)",engagementNumber:"370002",totalBudget:1e5,engagedBudget:15e3,zoneId:"DIR"},{id:33,code:"MINTR",name:"Ministre du Travail",engagementNumber:"370003",totalBudget:4e5,engagedBudget:5e4,zoneId:"DIR"},{id:34,code:"DIREC",name:"Direction Centrale",engagementNumber:"370004",totalBudget:15e4,engagedBudget:2e4,zoneId:"DIR"}],dl=[{id:1,name:"Marc SELEK",email:"marc.selek@cnf.lu",role:D.Director,department:"Direction CNF",zoneId:"DIR"},{id:2,name:"Julien MARCELIN",email:"julien.marcelin@cnf.lu",role:D.ZoneManager,department:"Direction Esch",zoneId:"ESCH"},{id:3,name:"Tomas PASCAL",email:"tomas.pascal@cnf.lu",role:D.ZoneManager,department:"Direction Ettelbruck",zoneId:"ETTEL"},{id:4,name:"Pereira",email:"pereira@cnf.lu",role:D.WorkshopManager,department:"Atelier Couture",managedCostCenterIds:[10],zoneId:"ESCH"},{id:5,name:"Alice Schmidt",email:"a.schmidt@cnf.lu",role:D.WorkshopManager,department:"Accueil Rfugis",managedCostCenterIds:[1],zoneId:"ESCH"},{id:6,name:"Pierre Weber",email:"p.weber@cnf.lu",role:D.WorkshopManager,department:"Admin Esch",managedCostCenterIds:[2],zoneId:"ESCH"},{id:7,name:"Jean Lux",email:"j.lux@cnf.lu",role:D.WorkshopManager,department:"CNS Esch",managedCostCenterIds:[4],zoneId:"ESCH"},{id:8,name:"Paul Klein",email:"p.klein@cnf.lu",role:D.WorkshopManager,department:"Chauffage Esch",managedCostCenterIds:[5],zoneId:"ESCH"},{id:9,name:"Robert Tech",email:"r.tech@cnf.lu",role:D.WorkshopManager,department:"Informatique Esch",managedCostCenterIds:[6],zoneId:"ESCH"},{id:10,name:"Luc Dubois",email:"l.dubois@cnf.lu",role:D.WorkshopManager,department:"Menuiserie",managedCostCenterIds:[7],zoneId:"ESCH"},{id:11,name:"Serge Garage",email:"s.garage@cnf.lu",role:D.WorkshopManager,department:"Vhicules Esch",managedCostCenterIds:[8],zoneId:"ESCH"},{id:12,name:"Maria Chef",email:"m.chef@cnf.lu",role:D.WorkshopManager,department:"Cuisine",managedCostCenterIds:[9],zoneId:"ESCH"},{id:13,name:"Marc Bois",email:"m.bois@cnf.lu",role:D.WorkshopManager,department:"Atelier Bois",managedCostCenterIds:[3],zoneId:"ESCH"},{id:14,name:"Sophie Muller",email:"s.muller@cnf.lu",role:D.WorkshopManager,department:"Admin Ettelbruck",managedCostCenterIds:[16],zoneId:"ETTEL"},{id:15,name:"Karl Wagner",email:"k.wagner@cnf.lu",role:D.WorkshopManager,department:"Chauffage Ettelbruck",managedCostCenterIds:[17],zoneId:"ETTEL"},{id:16,name:"Eric Prof",email:"e.prof@cnf.lu",role:D.WorkshopManager,department:"Ple Formation",managedCostCenterIds:[18],zoneId:"ETTEL"},{id:17,name:"Marc Auto",email:"m.auto@cnf.lu",role:D.WorkshopManager,department:"Vhicules Ettelbruck",managedCostCenterIds:[19],zoneId:"ETTEL"},{id:18,name:"David Bati",email:"d.bati@cnf.lu",role:D.WorkshopManager,department:"Construction",managedCostCenterIds:[20],zoneId:"ETTEL"}],Gi=[{id:1,name:"WRTH LUXEMBOURG",address:"50, rue des prs",zip:"L-7333",city:"Steinsel",country:"Luxembourg",email:"contact@pt.lu",phone:"54.58.36",vatNumber:"LU12345678",contactName:"F. Madini"},{id:2,name:"Martin Elec Supply",address:"10 Industrial Way",zip:"L-4000",city:"Esch-sur-Alzette",country:"Luxembourg",email:"sales@martinelec.lu",phone:"55.22.11",vatNumber:"LU87654321",contactName:"M. Martin"},{id:3,name:"LuxBrico Center",address:"12 Zone Industrielle",zip:"L-8000",city:"Luxembourg",country:"Luxembourg",email:"info@luxbrico.lu",phone:"26.44.11",vatNumber:"LU99887766",contactName:"B. Weber"},{id:4,name:"OFFICE DEPOT LUX",address:"Zone Industrielle Am Bann",zip:"L-3372",city:"Leudelange",country:"Luxembourg",email:"order@officedepot.lu",phone:"37.88.99",vatNumber:"LU11223344",contactName:"P. Schmit"}],Tu=[{id:1,reference:"W-001",description:"Perceuse  percussion 18V",unitPriceHT:150,vatRate:17,unit:"Pice",supplierId:1},{id:2,reference:"W-002",description:"Set de mches bton SDS+",unitPriceHT:25,vatRate:17,unit:"Pice",supplierId:1},{id:3,reference:"W-003",description:"Vis  bois 4x40mm (Bote 500)",unitPriceHT:18.5,vatRate:17,unit:"Bote",supplierId:1},{id:4,reference:"W-004",description:"Gants de protection cuir",unitPriceHT:12,vatRate:17,unit:"Paire",supplierId:1},{id:5,reference:"M-001",description:"Planche chne massif 200x20x2",unitPriceHT:45,vatRate:17,unit:"Pice",supplierId:2},{id:6,reference:"M-002",description:"Cble lectrique 3G1.5 100m",unitPriceHT:85,vatRate:17,unit:"Rouleau",supplierId:2},{id:7,reference:"M-003",description:"Disjoncteur 16A Mono",unitPriceHT:14.5,vatRate:17,unit:"Pice",supplierId:2},{id:8,reference:"M-004",description:"Tableau lectrique 2 ranges",unitPriceHT:65,vatRate:17,unit:"Pice",supplierId:2},{id:9,reference:"L-001",description:"Peinture blanche 10L",unitPriceHT:60,vatRate:17,unit:"Ft",supplierId:3},{id:10,reference:"L-002",description:"Rouleau  peinture pro",unitPriceHT:9.5,vatRate:17,unit:"Pice",supplierId:3},{id:11,reference:"L-003",description:"Mastic silicone universel",unitPriceHT:6.8,vatRate:17,unit:"Cartouche",supplierId:3},{id:12,reference:"L-004",description:"chelle tlescopique 3.2m",unitPriceHT:125,vatRate:17,unit:"Pice",supplierId:3},{id:13,reference:"OD-001",description:"Rames de papier A4 80g (Carton)",unitPriceHT:35,vatRate:17,unit:"Carton",supplierId:4},{id:14,reference:"OD-002",description:"Cartouches encre noir HP",unitPriceHT:45,vatRate:17,unit:"Pice",supplierId:4},{id:15,reference:"OD-003",description:"Classeurs  levier 80mm",unitPriceHT:4.2,vatRate:17,unit:"Pice",supplierId:4},{id:16,reference:"OD-004",description:"Post-it jaune standard (lot de 12)",unitPriceHT:12,vatRate:17,unit:"Pack",supplierId:4},{id:17,reference:"TISS-01",description:"Rouleau Tissu Coton 50m",unitPriceHT:250,vatRate:17,unit:"Rouleau",supplierId:3},{id:18,reference:"FIL-01",description:"Bobine de fil industriel",unitPriceHT:8.5,vatRate:17,unit:"Pice",supplierId:2}],ke=e=>e.map(t=>{const r=Tu.find(s=>s.id===t);return{id:Math.random(),reference:r.reference,description:r.description,quantity:Math.floor(Math.random()*5)+1,unit:r.unit,unitPriceHT:r.unitPriceHT,vatRate:r.vatRate}}),Ce=e=>{const t=e.reduce((s,l)=>s+l.quantity*l.unitPriceHT,0),r=e.reduce((s,l)=>s+l.quantity*l.unitPriceHT*(l.vatRate/100),0);return{totalHT:t,totalTVA:r,totalTTC:t+r}},Fu=ke([6,7,18]),Il=Ce(Fu),Gp={id:2001,orderNumber:"2025-ES-001",date:"10/01/2025",atelier:"Vhicules (Esch)",costCenterId:8,demandeur:"Serge Garage",supplierId:2,supplierName:"Martin Elec Supply",budgetLineCode:"11.3.12.020",subCostCenterCode:"REP-V",subject:"Rparation lectrique Camionnette #4",status:z.Paid,items:Fu,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:Il.totalHT,totalTVA:Il.totalTVA,totalTTC:Il.totalTTC,isActive:!0,documents:[{id:1,type:"Bon de commande",name:"BC_2025_ES_001.pdf",date:"10/01/2025",url:""},{id:2,type:"Bon de livraison",name:"BL_Martin_8854.pdf",date:"15/01/2025",url:""},{id:3,type:"Facture",name:"FAC_Martin_2025_44.pdf",date:"20/01/2025",url:""}],history:[{date:"10/01/2025 09:00",action:"Cration brouillon",user:"Serge Garage"},{date:"10/01/2025 14:00",action:"Validation par Direction",user:"Julien Marcelin"},{date:"11/01/2025 10:00",action:"Commande envoye",user:"Julien Marcelin"},{date:"15/01/2025 08:30",action:"Livraison rceptionne",user:"Serge Garage"},{date:"20/01/2025 11:00",action:"Facture reue",user:"Comptabilit"},{date:"01/02/2025 10:00",action:"Paiement valid (Date: 01/02/2025, Eng: 350008)",user:"Marc Selek"}],paymentDate:"01/02/2025",engagementNumber:"350008",rejectionReason:"Conciliation manuelle Ministre - Pay le 01/02/2025 - Engagement confirm : 350008"},Bu=ke([9,10,11]),Rl=Ce(Bu),Zp={id:2002,orderNumber:"2025-ES-002",date:"05/02/2025",atelier:"Bois",costCenterId:3,demandeur:"Marc Bois",supplierId:3,supplierName:"LuxBrico Center",budgetLineCode:"11.3.12.090",subCostCenterCode:"MAT",subject:"Finitions projet tagres",status:z.Invoiced,items:Bu,deliveryLocation:"Esch",deliveryMethod:"Courrier",totalHT:Rl.totalHT,totalTVA:Rl.totalTVA,totalTTC:Rl.totalTTC,isActive:!0,documents:[{id:4,type:"Bon de commande",name:"BC_2025_ES_002.pdf",date:"05/02/2025",url:""},{id:5,type:"Bon de livraison",name:"BL_Lux_998.pdf",date:"10/02/2025",url:""},{id:6,type:"Facture",name:"FAC_Lux_2025_12.pdf",date:"12/02/2025",url:""}],history:[{date:"05/02/2025 08:00",action:"Cration",user:"Marc Bois"},{date:"05/02/2025 10:00",action:"Validation",user:"Julien Marcelin"},{date:"10/02/2025 09:00",action:"Livraison",user:"Marc Bois"},{date:"12/02/2025 14:00",action:"Facturation",user:"Comptabilit"}]},zu=ke([13,14,16]),Al=Ce(zu),Xp={id:2003,orderNumber:"2025-ET-001",date:"15/02/2025",atelier:"Administration (Etelbruck)",costCenterId:16,demandeur:"Sophie Muller",supplierId:4,supplierName:"OFFICE DEPOT LUX",budgetLineCode:"11.3.12.090",subCostCenterCode:"CONS",subject:"Fournitures de bureau T1",status:z.Delivered,items:zu,deliveryLocation:"Clerval",deliveryMethod:"Email",totalHT:Al.totalHT,totalTVA:Al.totalTVA,totalTTC:Al.totalTTC,isActive:!0,documents:[{id:7,type:"Bon de commande",name:"BC_2025_ET_001.pdf",date:"15/02/2025",url:""},{id:8,type:"Bon de livraison",name:"BL_OD_7741.pdf",date:"18/02/2025",url:""}],history:[{date:"15/02/2025",action:"Cration",user:"Sophie Muller"},{date:"16/02/2025",action:"Validation",user:"Tomas Pascal"},{date:"18/02/2025",action:"Rception matriel",user:"Sophie Muller"}]},Lu=ke([1,2]),_l=Ce(Lu),Yp={id:2004,orderNumber:"2025-ET-002",date:"20/02/2025",atelier:"Construction",costCenterId:20,demandeur:"David Bati",supplierId:1,supplierName:"WRTH LUXEMBOURG",budgetLineCode:"41.3.74.250",subCostCenterCode:"OUT",subject:"Remplacement perceuse atelier",status:z.InProgress,items:Lu,deliveryLocation:"Mirsch",deliveryMethod:"Email",totalHT:_l.totalHT,totalTVA:_l.totalTVA,totalTTC:_l.totalTTC,isActive:!0,documents:[{id:9,type:"Bon de commande",name:"BC_2025_ET_002.pdf",date:"20/02/2025",url:""}],history:[{date:"20/02/2025",action:"Cration",user:"David Bati"},{date:"21/02/2025",action:"Commande envoye",user:"Tomas Pascal"}]},Pu=ke([15,16]),Ol=Ce(Pu),Jp={id:2005,orderNumber:"2025-ET-003",date:"24/02/2025",atelier:"Formation",costCenterId:18,demandeur:"Eric Prof",supplierId:4,supplierName:"OFFICE DEPOT LUX",budgetLineCode:"11.3.12.301",subCostCenterCode:"CONS",subject:"Classeurs pour rentre mars",status:z.ToValidate,items:Pu,deliveryLocation:"Clerval",deliveryMethod:"Email",totalHT:Ol.totalHT,totalTVA:Ol.totalTVA,totalTTC:Ol.totalTTC,isActive:!0,documents:[],history:[{date:"24/02/2025",action:"Soumission pour validation",user:"Eric Prof"}]},Du=ke([12]),Hl=Ce(Du),em={id:2006,orderNumber:"2025-ES-003",date:"25/02/2025",atelier:"Cuisine",costCenterId:9,demandeur:"Maria Chef",supplierId:3,supplierName:"LuxBrico Center",budgetLineCode:"11.3.12.080",subCostCenterCode:"EQP",subject:"Echelle pour maintenance hotte",status:z.ToOrder,items:Du,deliveryLocation:"Esch",deliveryMethod:"Courrier",totalHT:Hl.totalHT,totalTVA:Hl.totalTVA,totalTTC:Hl.totalTTC,isActive:!0,documents:[],history:[{date:"25/02/2025",action:"Cration",user:"Maria Chef"},{date:"25/02/2025",action:"Valide - Prt pour envoi",user:"Julien Marcelin"}]},Mu=ke([1,4]),Vl=Ce(Mu),tm={id:2007,orderNumber:"2025-ES-004",date:"22/02/2025",atelier:"Informatique (Esch)",costCenterId:6,demandeur:"Robert Tech",supplierId:1,supplierName:"WRTH LUXEMBOURG",budgetLineCode:"11.3.12.302",subCostCenterCode:"HARD",subject:"Achats divers",status:z.Refused,items:Mu,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:Vl.totalHT,totalTVA:Vl.totalTVA,totalTTC:Vl.totalTTC,rejectionReason:"Erreur d'imputation budgtaire. Ce type de matriel doit passer par le fournisseur agr IT.",isActive:!0,documents:[],history:[{date:"22/02/2025",action:"Cration",user:"Robert Tech"},{date:"23/02/2025",action:"Refuse",user:"Julien Marcelin"}]},Iu=ke([15,16,13]),$l=Ce(Iu),rm={id:2008,orderNumber:"2025-ES-005",date:"12/01/2025",atelier:"Couture",costCenterId:10,demandeur:"Pereira",supplierId:4,supplierName:"OFFICE DEPOT LUX",budgetLineCode:"11.3.12.090",subCostCenterCode:"CONS",subject:"Fournitures administratives atelier",status:z.Paid,items:Iu,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:$l.totalHT,totalTVA:$l.totalTVA,totalTTC:$l.totalTTC,isActive:!0,documents:[{id:10,type:"Bon de commande",name:"BC_2025_ES_005.pdf",date:"12/01/2025",url:""},{id:11,type:"Bon de livraison",name:"BL_OD_8854.pdf",date:"16/01/2025",url:""},{id:12,type:"Facture",name:"FAC_OD_2025_99.pdf",date:"25/01/2025",url:""}],history:[{date:"12/01/2025",action:"Cration",user:"Pereira"},{date:"13/01/2025",action:"Validation",user:"Julien Marcelin"},{date:"16/01/2025",action:"Livraison",user:"Pereira"},{date:"25/01/2025",action:"Facturation",user:"Comptabilit"},{date:"05/02/2025",action:"Paiement valid (Date: 05/02/2025, Eng: 350010)",user:"Marc Selek"}],paymentDate:"05/02/2025",engagementNumber:"350010",rejectionReason:"Conciliation manuelle Ministre - Pay le 05/02/2025 - Engagement confirm : 350010"},Ru=ke([9,10]),Ul=Ce(Ru),nm={id:2009,orderNumber:"2025-ES-006",date:"28/01/2025",atelier:"Accueil rfugis",costCenterId:1,demandeur:"Alice Schmidt",supplierId:3,supplierName:"LuxBrico Center",budgetLineCode:"11.3.12.080",subCostCenterCode:"ENT",subject:"Rafrachissement dortoir 2",status:z.Invoiced,items:Ru,deliveryLocation:"Esch",deliveryMethod:"Courrier",totalHT:Ul.totalHT,totalTVA:Ul.totalTVA,totalTTC:Ul.totalTTC,isActive:!0,documents:[{id:13,type:"Bon de commande",name:"BC_2025_ES_006.pdf",date:"28/01/2025",url:""},{id:14,type:"Bon de livraison",name:"BL_LB_552.pdf",date:"02/02/2025",url:""},{id:15,type:"Facture",name:"FAC_LB_2025_04.pdf",date:"10/02/2025",url:""}],history:[{date:"28/01/2025",action:"Cration",user:"Alice Schmidt"},{date:"29/01/2025",action:"Validation",user:"Julien Marcelin"},{date:"02/02/2025",action:"Livraison",user:"Alice Schmidt"},{date:"10/02/2025",action:"Facture reue",user:"Comptabilit"}]},Au=ke([2,4]),Wl=Ce(Au),sm={id:2010,orderNumber:"2025-ET-004",date:"10/02/2025",atelier:"Chauffage-Sanitaire (Etelbruck)",costCenterId:17,demandeur:"Karl Wagner",supplierId:1,supplierName:"WRTH LUXEMBOURG",budgetLineCode:"11.3.12.090",subCostCenterCode:"OUT",subject:"Renouvellement EPI et consommables",status:z.Delivered,items:Au,deliveryLocation:"Clerval",deliveryMethod:"Email",totalHT:Wl.totalHT,totalTVA:Wl.totalTVA,totalTTC:Wl.totalTTC,isActive:!0,documents:[{id:16,type:"Bon de commande",name:"BC_2025_ET_004.pdf",date:"10/02/2025",url:""},{id:17,type:"Bon de livraison",name:"BL_WU_111.pdf",date:"14/02/2025",url:""}],history:[{date:"10/02/2025",action:"Cration",user:"Karl Wagner"},{date:"11/02/2025",action:"Validation",user:"Tomas Pascal"},{date:"14/02/2025",action:"Livraison rceptionne",user:"Karl Wagner"}]},_u=ke([5]),Ql=Ce(_u),lm={id:2011,orderNumber:"2025-ES-007",date:"18/02/2025",atelier:"Menuiserie",costCenterId:7,demandeur:"Luc Dubois",supplierId:2,supplierName:"Martin Elec Supply",budgetLineCode:"11.3.12.090",subCostCenterCode:"MAT",subject:"Bois pour rparation mobilier",status:z.InProgress,items:_u,deliveryLocation:"Esch",deliveryMethod:"Courrier",totalHT:Ql.totalHT,totalTVA:Ql.totalTVA,totalTTC:Ql.totalTTC,isActive:!0,documents:[{id:18,type:"Bon de commande",name:"BC_2025_ES_007.pdf",date:"18/02/2025",url:""}],history:[{date:"18/02/2025",action:"Cration",user:"Luc Dubois"},{date:"19/02/2025",action:"Commande envoye",user:"Julien Marcelin"}]},Ou=ke([6,7]),ql=Ce(Ou),am={id:2012,orderNumber:"2025-ET-005",date:"26/02/2025",atelier:"Vhicules (Etelbruck)",costCenterId:19,demandeur:"Marc Auto",supplierId:2,supplierName:"Martin Elec Supply",budgetLineCode:"11.3.12.020",subCostCenterCode:"REP-V",subject:"Rfection clairage atelier",status:z.ToOrder,items:Ou,deliveryLocation:"Mirsch",deliveryMethod:"Email",totalHT:ql.totalHT,totalTVA:ql.totalTVA,totalTTC:ql.totalTTC,isActive:!0,documents:[],history:[{date:"26/02/2025",action:"Cration",user:"Marc Auto"},{date:"26/02/2025",action:"Valide",user:"Tomas Pascal"}]},Hu=ke([14]),Kl=Ce(Hu),im={id:2013,orderNumber:"2025-ES-008",date:"27/02/2025",atelier:"CNS (Esch)",costCenterId:4,demandeur:"Jean Lux",supplierId:4,supplierName:"OFFICE DEPOT LUX",budgetLineCode:"11.3.12.090",subCostCenterCode:"CONS",subject:"Cartouches pour imprimante accueil",status:z.ToValidate,items:Hu,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:Kl.totalHT,totalTVA:Kl.totalTVA,totalTTC:Kl.totalTTC,isActive:!0,documents:[],history:[{date:"27/02/2025",action:"Soumission pour validation",user:"Jean Lux"}]},Vu=ke([13,16]),Gl=Ce(Vu),om={id:2014,orderNumber:"2025-ES-TEMP-1",date:"28/02/2025",atelier:"Administration (Esch)",costCenterId:2,demandeur:"Pierre Weber",supplierId:4,supplierName:"OFFICE DEPOT LUX",budgetLineCode:"11.3.12.090",subCostCenterCode:"CONS",subject:"Commande mensuelle papeterie",status:z.Draft,items:Vu,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:Gl.totalHT,totalTVA:Gl.totalTVA,totalTTC:Gl.totalTTC,isActive:!0,documents:[],history:[{date:"28/02/2025",action:"Cration brouillon",user:"Pierre Weber"}]},$u=ke([3,4]),Zl=Ce($u),dm={id:2015,orderNumber:"2025-ES-009",date:"05/01/2025",atelier:"Chauffage-Sanitaire (Esch)",costCenterId:5,demandeur:"Paul Klein",supplierId:1,supplierName:"WRTH LUXEMBOURG",budgetLineCode:"11.3.12.090",subCostCenterCode:"OUT",subject:"Rassort visserie et protection",status:z.Paid,items:$u,deliveryLocation:"Esch",deliveryMethod:"Email",totalHT:Zl.totalHT,totalTVA:Zl.totalTVA,totalTTC:Zl.totalTTC,isActive:!0,documents:[{id:19,type:"Bon de commande",name:"BC_2025_ES_009.pdf",date:"05/01/2025",url:""},{id:20,type:"Facture",name:"FAC_WU_2025_01.pdf",date:"10/01/2025",url:""}],history:[{date:"05/01/2025",action:"Cration",user:"Paul Klein"},{date:"06/01/2025",action:"Validation",user:"Julien Marcelin"},{date:"10/01/2025",action:"Facture",user:"Comptabilit"},{date:"20/01/2025",action:"Paiement valid (Date: 20/01/2025, Eng: 350005)",user:"Marc Selek"}],paymentDate:"20/01/2025",engagementNumber:"350005",rejectionReason:"Conciliation manuelle Ministre - Pay le 20/01/2025 - Engagement confirm : 350005"},Uu=ke([8]),Xl=Ce(Uu),cm={id:2016,orderNumber:"2025-ET-006",date:"20/02/2025",atelier:"Formation",costCenterId:18,demandeur:"Eric Prof",supplierId:2,supplierName:"Martin Elec Supply",budgetLineCode:"11.3.12.301",subCostCenterCode:"EQP",subject:"Matriel didactique lectricit",status:z.Refused,items:Uu,deliveryLocation:"Clerval",deliveryMethod:"Email",totalHT:Xl.totalHT,totalTVA:Xl.totalTVA,totalTTC:Xl.totalTTC,isActive:!0,rejectionReason:"Budget insuffisant pour ce type de matriel sur cette ligne budgtaire.",documents:[],history:[{date:"20/02/2025",action:"Cration",user:"Eric Prof"},{date:"21/02/2025",action:"Refuse",user:"Tomas Pascal"}]},Wu=ke([11,12]),Yl=Ce(Wu),um={id:2017,orderNumber:"2025-ET-007",date:"02/02/2025",atelier:"Construction",costCenterId:20,demandeur:"David Bati",supplierId:3,supplierName:"LuxBrico Center",budgetLineCode:"11.3.12.080",subCostCenterCode:"ENT",subject:"Matriel chantier B",status:z.Invoiced,items:Wu,deliveryLocation:"Mirsch",deliveryMethod:"Courrier",totalHT:Yl.totalHT,totalTVA:Yl.totalTVA,totalTTC:Yl.totalTTC,isActive:!0,documents:[{id:21,type:"Bon de commande",name:"BC_2025_ET_007.pdf",date:"02/02/2025",url:""},{id:22,type:"Facture",name:"FAC_LB_2025_55.pdf",date:"15/02/2025",url:""}],history:[{date:"02/02/2025",action:"Cration",user:"David Bati"},{date:"03/02/2025",action:"Validation",user:"Tomas Pascal"},{date:"15/02/2025",action:"Facture reue",user:"Comptabilit"}]},Qu=[Gp,Zp,Xp,Yp,Jp,em,tm,rm,nm,sm,lm,am,im,om,dm,cm,um],fm=({currentUser:e,currentView:t,onChangeView:r})=>{const s=[D.Director,D.Admin,D.Accountant,D.ZoneManager].includes(e.role);return n.jsx("div",{className:"w-64 bg-[#F37B44] flex flex-col h-screen fixed left-0 top-16 z-10 border-r border-[#d6622e]",children:n.jsx("div",{className:"flex flex-col py-4",children:Kp.map(l=>{if(l.id==="INVOICES"&&!s||l.id==="SETTINGS"&&!s)return null;const a=t===l.id;return n.jsxs("button",{onClick:()=>r(l.id),className:`flex items-center gap-3 px-6 py-4 text-sm font-bold transition-all duration-200
                ${a?"bg-white text-[#F37B44] border-l-4 border-[#d6622e] ml-2 rounded-l-md shadow-md":"text-white hover:bg-[#d6622e] border-l-4 border-transparent"}`,children:[l.icon,l.label]},l.id)})})})},pm=({currentUser:e,onUserSwitch:t})=>{const[r,s]=B.useState(!1),l=B.useRef(null);B.useEffect(()=>{const i=o=>{l.current&&!l.current.contains(o.target)&&s(!1)};return r&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r]);const a=dl.filter(i=>[1,2,3,4,16].includes(i.id));return n.jsxs("header",{className:"h-16 bg-[#F37B44] fixed top-0 w-full z-40 shadow-md flex items-center justify-between px-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-white/10 p-1.5 rounded-md border border-white/20",children:n.jsx("span",{className:"font-bold text-2xl text-white tracking-tighter",children:"CDF"})}),n.jsx("div",{className:"h-6 w-px bg-white/40 mx-2"}),n.jsx("div",{className:"text-white font-medium text-sm",children:n.jsx("span",{className:"font-bold text-white uppercase tracking-wider",children:"5D"})})]}),n.jsxs("div",{className:"relative",ref:l,children:[n.jsxs("button",{onClick:()=>s(!r),className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 px-4 py-1.5 rounded-full transition-all border border-white/10",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsx("p",{className:"text-white text-xs font-bold leading-none mb-1",children:e.name}),n.jsxs("p",{className:"text-white/70 text-[9px] font-black uppercase tracking-widest flex items-center justify-end gap-1",children:[e.role,e.zoneId&&n.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-white ml-1 border border-white/20",children:e.zoneId})]})]}),n.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-[#F37B44] font-bold shadow-inner",children:n.jsx(ar,{size:18})}),n.jsx(Rn,{size:14,className:`text-white transition-transform ${r?"rotate-180":""}`})]}),r&&n.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-50 animate-in fade-in zoom-in duration-200 origin-top-right",children:[n.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Changer de compte"})}),n.jsx("div",{className:"py-2",children:a.map(i=>n.jsxs("button",{onClick:()=>{t(i),s(!1)},className:`w-full flex items-center justify-between px-4 py-3 hover:bg-orange-50 transition-colors text-left
                    ${e.id===i.id?"bg-orange-50/50":""}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-bold ${e.id===i.id?"text-[#F37B44]":"text-gray-900"}`,children:i.name}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("p",{className:"text-[10px] text-gray-500 font-medium uppercase",children:i.role}),i.zoneId&&n.jsx("span",{className:"text-[9px] font-black bg-gray-100 text-gray-600 px-1 rounded border border-gray-200 uppercase tracking-tighter",children:i.zoneId})]})]}),e.id===i.id&&n.jsx(Os,{size:16,className:"text-[#F37B44]"})]},i.id))})]})]})]})},mm=({orders:e,costCenter:t,onNavigate:r})=>{const s=e.filter(m=>m.status===z.ToValidate).length,l=e.filter(m=>m.status===z.ToOrder).length,a=e.filter(m=>m.status===z.InProgress).length,i=e.filter(m=>m.status===z.Delivered).length,o=e.filter(m=>m.status===z.Paid).length,d=e.filter(m=>m.status===z.Refused).length,x=t.totalBudget-t.engagedBudget,v=t.engagedBudget/t.totalBudget*100,p=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(m);return n.jsxs("div",{className:"p-8 h-full overflow-y-auto bg-[#f3f4f6]",children:[n.jsxs("div",{className:"flex justify-between items-end mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter",children:"Tableau de bord"}),n.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Pilotage et suivi des oprations"})]}),n.jsx("div",{className:"hidden md:block text-right",children:n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full border border-gray-200 shadow-sm",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),n.jsx("span",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Systme Oprationnel"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[n.jsx("div",{className:"lg:col-span-4 flex flex-col gap-6",children:n.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 relative overflow-hidden flex-1 flex flex-col",children:[n.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-[0.03] transform translate-x-1/4 -translate-y-1/4",children:n.jsx(Su,{size:300,className:"text-black"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-[#F37B44]/10 rounded-2xl text-[#F37B44]",children:n.jsx(qp,{size:28})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Situation Budgtaire"}),n.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Centre ",t.code]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("span",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest block mb-1",children:"Budget Disponible"}),n.jsx("span",{className:`text-5xl font-black tracking-tight ${x<0?"text-red-600":"text-[#F37B44]"}`,children:p(x)})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-500 uppercase mb-2",children:[n.jsx("span",{children:"Utilis"}),n.jsxs("span",{children:[Math.round(v),"%"]})]}),n.jsx("div",{className:"w-full h-4 bg-gray-100 rounded-full overflow-hidden border border-gray-50 shadow-inner",children:n.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${v>90?"bg-red-500":"bg-[#F37B44]"}`,style:{width:`${v}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Budget Total"}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:p(t.totalBudget)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Engag"}),n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:p(t.engagedBudget)})]})]})]})]}),n.jsx("div",{className:"mt-auto pt-8",children:n.jsxs("button",{onClick:()=>r("BUDGET"),className:"w-full py-4 rounded-xl bg-gray-50 text-gray-600 font-bold hover:bg-gray-100 transition-colors flex items-center justify-center gap-2 border border-gray-200",children:[n.jsx(Ki,{size:18}),"Voir dtails analytiques"]})})]})}),n.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[n.jsx(Fp,{size:16,className:"text-[#F37B44]"})," Actions Requises"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{onClick:()=>r(z.ToValidate),className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-200 hover:shadow-md hover:border-[#F37B44]/30 transition-all cursor-pointer group relative overflow-hidden",children:[n.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:n.jsx(Os,{size:100})}),n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-yellow-50 text-yellow-600 group-hover:bg-yellow-100 transition-colors",children:n.jsx(Os,{size:24,strokeWidth:3})}),n.jsxs("div",{className:"flex items-center gap-2 text-[#F37B44] font-bold text-sm opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0",children:["Traiter ",n.jsx(Ka,{size:16})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-4xl font-black text-gray-900",children:s}),n.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Demandes  Valider"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"En attente de votre approbation"})]})]}),n.jsxs("div",{onClick:()=>r(z.ToOrder),className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-200 hover:shadow-md hover:border-[#F37B44]/30 transition-all cursor-pointer group relative overflow-hidden",children:[n.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:n.jsx(ad,{size:100})}),n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-indigo-50 text-indigo-600 group-hover:bg-indigo-100 transition-colors",children:n.jsx(ad,{size:24,strokeWidth:3})}),n.jsxs("div",{className:"flex items-center gap-2 text-[#F37B44] font-bold text-sm opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0",children:["Envoyer ",n.jsx(Ka,{size:16})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-4xl font-black text-gray-900",children:l}),n.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Prt  Commander"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Valides, en attente d'envoi"})]})]})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[n.jsx(Tp,{size:16,className:"text-[#F37B44]"})," Suivi des commandes"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 h-full",children:[n.jsxs("div",{onClick:()=>r(z.InProgress),className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm hover:border-blue-200 transition-all cursor-pointer flex flex-col items-center text-center justify-center gap-2",children:[n.jsx("div",{className:"text-blue-500 bg-blue-50 p-2 rounded-full mb-1",children:n.jsx(Eu,{size:20})}),n.jsx("span",{className:"text-3xl font-black text-gray-900",children:a}),n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"En Cours"})]}),n.jsxs("div",{onClick:()=>r(z.Delivered),className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm hover:border-purple-200 transition-all cursor-pointer flex flex-col items-center text-center justify-center gap-2",children:[n.jsx("div",{className:"text-purple-500 bg-purple-50 p-2 rounded-full mb-1",children:n.jsx(Qp,{size:20})}),n.jsx("span",{className:"text-3xl font-black text-gray-900",children:i}),n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Livres"})]}),n.jsxs("div",{onClick:()=>r(z.Paid),className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm hover:border-green-200 transition-all cursor-pointer flex flex-col items-center text-center justify-center gap-2",children:[n.jsx("div",{className:"text-green-600 bg-green-50 p-2 rounded-full mb-1",children:n.jsx(ps,{size:20})}),n.jsx("span",{className:"text-3xl font-black text-gray-900",children:o}),n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Cltures"})]}),n.jsxs("div",{onClick:()=>r(z.Refused),className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm hover:border-red-200 transition-all cursor-pointer flex flex-col items-center text-center justify-center gap-2",children:[n.jsx("div",{className:"text-red-500 bg-red-50 p-2 rounded-full mb-1",children:n.jsx(zp,{size:20})}),n.jsx("span",{className:"text-3xl font-black text-gray-900",children:d}),n.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Refuses"})]})]})]})]})]})]})},dd={Esch:"45, rue des alouettes, 4354 Esch-sur-Alzette",Street:"Route de Luxembourg, L-4360 Esch-sur-Alzette",Bel:"6A Avenue des Hauts-Fourneaux, L-4362 Esch-sur-Alzette",Clerval:"12 Rue de la Gare, L-9044 Ettelbruck",Mirsch:"5 Zone Industrielle, L-7737 Mersch",Central:"1 Rue de l'Avenir, L-8011 Strassen"},xm=({orders:e,currentUser:t,onNewOrder:r,onEditOrder:s,onUpdateOrder:l,onUpdateStatus:a,onDeleteOrder:i,activeFilter:o,onFilterChange:d})=>{const[x,v]=B.useState(""),[p,m]=B.useState(null),[w,k]=B.useState(null),[T,A]=B.useState(null),[u,c]=B.useState(""),[f,y]=B.useState(!1),[E,h]=B.useState(!1),[b,j]=B.useState("Bon de commande"),[N,C]=B.useState(null),[P,U]=B.useState(null),[Z,Be]=B.useState(!1),he=B.useRef(null),[Q,ee]=B.useState(null),L=Object.values(z),$=[D.Accountant,D.Director,D.ZoneManager,D.WorkshopManager,D.Admin].includes(t.role),H=[D.Director,D.Accountant,D.ZoneManager].includes(t.role),J=S=>$?S==="Bon de commande"?!0:[D.Director,D.ZoneManager,D.Accountant,D.Admin].includes(t.role):!1,X=S=>{let R="asc";P&&P.key===S&&P.direction==="asc"&&(R="desc"),U({key:S,direction:R})},re=(S=>P?[...S].sort((R,V)=>{let g=R[P.key],_=V[P.key];if(P.key==="date"){const[W,ne,Ie]=g.split("/"),[Ku,Gu,Zu]=_.split("/");g=new Date(`${Ie}-${ne}-${W}`).getTime(),_=new Date(`${Zu}-${Gu}-${Ku}`).getTime()}return g<_?P.direction==="asc"?-1:1:g>_?P.direction==="asc"?1:-1:0}):S)(e.filter(S=>{if(S.isActive===!1)return!1;const R=o==="Tous"||S.status===o,V=S.orderNumber.toLowerCase().includes(x.toLowerCase())||S.demandeur.toLowerCase().includes(x.toLowerCase())||S.atelier.toLowerCase().includes(x.toLowerCase())||S.supplierName.toLowerCase().includes(x.toLowerCase())||S.subject.toLowerCase().includes(x.toLowerCase());return R&&V})),Me=S=>!P||P.key!==S?n.jsx("div",{className:"w-4 h-4"}):P.direction==="asc"?n.jsx(Wi,{size:14}):n.jsx(Rn,{size:14}),Ve=()=>{w&&(i(w),k(null))},tt=(S,R)=>{A({isOpen:!0,type:S,order:R}),c("")},Vr=()=>{if(T){const S=T.type==="validate"?z.ToOrder:z.Refused;a(T.order.id,S,u),A(null)}},$r=S=>{ee(S),setTimeout(()=>{var R;(R=he.current)==null||R.click()},0)},Ur=S=>{var V;const R=(V=S.target.files)==null?void 0:V[0];if(R&&p&&Q){const g=URL.createObjectURL(R),_={id:Date.now(),type:Q,name:R.name,date:new Date().toLocaleDateString("fr-FR"),url:g};let W=p.status,ne=null;Q==="Bon de commande"&&p.status===z.ToOrder&&(W=z.InProgress,ne={date:new Date().toLocaleString("fr-FR"),action:"BC sign tlcharg - Commande passe (Statut: En cours)",user:t.name}),Q==="Bon de livraison"&&p.status===z.InProgress&&(W=z.Delivered,ne={date:new Date().toLocaleString("fr-FR"),action:"Bon de livraison tlcharg - Matriel reu (Statut: Livre)",user:t.name}),Q==="Facture"&&p.status===z.Delivered&&(W=z.Invoiced,ne={date:new Date().toLocaleString("fr-FR"),action:"Facture tlcharge - Statut mis  jour vers Facture",user:t.name});const Ie={...p,status:W,documents:[...p.documents,_],history:ne?[...p.history,ne]:p.history};m(Ie),l(Ie),C(g),j(Q)}he.current&&(he.current.value="")},Wr=S=>{if(!p)return;const R=p.documents.find(Ie=>Ie.id===S);if(!R)return;const V=p.documents.some(Ie=>Ie.type==="Facture"),g=p.documents.some(Ie=>Ie.type==="Bon de livraison");if(R.type==="Bon de livraison"&&V){alert("Impossible de supprimer le Bon de livraison car une Facture est dj lie. Veuillez d'abord supprimer la Facture.");return}if(R.type==="Bon de commande"&&g){alert("Impossible de supprimer le Bon de commande car un Bon de livraison est dj li.");return}if(!window.confirm("tes-vous sr de vouloir supprimer ce document ? Cette action est dfinitive."))return;const W=p.documents.filter(Ie=>Ie.id!==S);R.url===N&&C(null);const ne={...p,documents:W,history:[...p.history,{date:new Date().toLocaleString("fr-FR"),action:`Document supprim : ${R.name}`,user:t.name}]};m(ne),l(ne)},I=S=>{C(S.url||null)},q=()=>{window.print()},fe=()=>!p||!E?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-[#F37B44] px-6 py-4 flex justify-between items-center",children:[n.jsx("h3",{className:"text-white font-bold text-lg",children:"Historique de la commande"}),n.jsx("button",{onClick:()=>h(!1),className:"text-white hover:text-gray-200",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:p.history&&p.history.length>0?n.jsx("div",{className:"relative border-l-2 border-gray-200 ml-3 space-y-6",children:p.history.map((S,R)=>n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-orange-600 border-2 border-white shadow-sm"}),n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:S.date}),n.jsx("div",{className:"font-bold text-gray-800",children:S.action}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Par: ",S.user]})]},R))}):n.jsx("p",{className:"text-center text-gray-500 italic",children:"Aucun historique disponible."})}),n.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t flex justify-end",children:n.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-[#F37B44] text-white rounded font-bold hover:bg-[#d6622e]",children:"OK"})})]})}),K=()=>{if(!p||!f)return null;const S=p.documents?p.documents.filter(g=>g.type===b):[],R=["Bon de commande","Bon de livraison","Facture"],V=p.documents.some(g=>g.type==="Bon de livraison");return n.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"bg-[#F37B44] px-6 py-4 flex justify-between items-center border-b border-[#d6622e]",children:[n.jsxs("h3",{className:"text-white font-bold text-lg text-center w-full",children:["Documents - ",p.orderNumber]}),n.jsx("button",{onClick:()=>y(!1),className:"text-white absolute right-6 top-4 hover:text-gray-200",children:n.jsx(at,{size:24})})]}),n.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 gap-4 bg-gray-50",children:[n.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[n.jsx("input",{type:"file",ref:he,onChange:Ur,accept:"application/pdf",className:"hidden"}),n.jsx("div",{className:"space-y-3",children:R.map(g=>{const _=g==="Facture"&&!V;return n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{j(g),C(null)},className:`flex-1 text-left px-4 py-2.5 rounded-lg font-bold text-white shadow-md transition-all
                                            ${b===g?"bg-[#F37B44] ring-2 ring-orange-300 scale-[1.02]":"bg-[#ff9f73] hover:bg-[#F37B44]"}`,children:g}),J(g)&&n.jsx("button",{onClick:()=>{if(_){alert("Impossible d'ajouter la facture : Le Bon de livraison est requis.");return}$r(g)},className:`px-3 py-2 rounded-lg shadow-md font-bold transition-colors ${_?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#F37B44] text-white hover:bg-[#d6622e]"}`,title:_?"Le Bon de livraison doit tre import avant la facture":"Ajouter",children:"+"})]},g)})}),n.jsx("div",{className:"bg-white border border-gray-300 flex-1 rounded-xl p-3 overflow-y-auto shadow-inner",children:S.length>0?n.jsx("ul",{className:"space-y-2",children:S.map(g=>n.jsxs("li",{className:`text-sm p-3 border-b border-gray-50 flex items-center justify-between gap-3 rounded-lg transition-all group
                                                ${N===g.url?"bg-orange-50 text-orange-900 font-bold border-orange-200":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1 overflow-hidden",onClick:()=>I(g),children:[n.jsx(yt,{size:18,className:N===g.url?"text-[#F37B44]":"text-gray-400"}),n.jsx("span",{className:"truncate",children:g.name})]}),$&&n.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),Wr(g.id)},className:"text-gray-400 hover:text-red-600 p-1 hover:bg-red-50 rounded",title:"Supprimer le document",children:n.jsx(Rr,{size:16})})]},g.id))}):n.jsx("div",{className:"text-gray-400 text-sm text-center mt-8 italic",children:"Aucun document"})})]}),n.jsx("div",{className:"w-2/3 bg-white border border-gray-300 rounded-xl shadow-inner flex items-center justify-center relative overflow-hidden bg-gray-100",children:N?n.jsx("iframe",{src:N,className:"w-full h-full",title:"Document Preview"}):n.jsxs("div",{className:"text-center p-8 text-gray-400 flex flex-col items-center gap-4",children:[n.jsx(yt,{size:48,className:"text-gray-200"}),n.jsx("p",{className:"font-medium",children:"Slectionnez un document pour visualiser l'aperu PDF"})]})})]}),n.jsx("div",{className:"bg-white p-4 flex justify-end gap-3 border-t border-gray-200",children:n.jsx("button",{onClick:()=>y(!1),className:"px-8 py-2 bg-[#F37B44] text-white rounded-lg font-bold hover:bg-[#d6622e] shadow-lg",children:"Fermer"})})]})})},pe=()=>{var g,_;if(!p)return null;const S=Fr.find(W=>W.id===p.costCenterId),R=((g=$s.find(W=>W.code===p.budgetLineCode))==null?void 0:g.name)||p.budgetLineCode||"N/A",V=((_=Us.find(W=>W.code===p.subCostCenterCode))==null?void 0:_.name)||p.subCostCenterCode||"N/A";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date demande"}),n.jsx("span",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded-lg text-gray-800 font-bold",children:p.date})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Numro Dossier"}),n.jsx("span",{className:"bg-white px-3 py-1.5 border border-gray-300 rounded-lg text-gray-800 font-black shadow-inner",children:p.orderNumber})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Statut Actuel"}),n.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-black uppercase border shadow-sm
                      ${p.status===z.Draft?"bg-gray-100 text-gray-800 border-gray-200":p.status===z.ToValidate?"bg-yellow-100 text-yellow-800 border-yellow-200":p.status===z.ToOrder?"bg-indigo-100 text-indigo-800 border-indigo-200":p.status===z.InProgress?"bg-blue-100 text-blue-800 border-blue-200":p.status===z.Refused?"bg-red-100 text-red-800 border-red-200":p.status===z.Invoiced?"bg-purple-100 text-purple-800 border-purple-200":"bg-green-100 text-green-800 border-green-200"}`,children:p.status})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-5 shadow-sm space-y-4",children:[n.jsxs("h4",{className:"font-black text-[10px] text-gray-400 uppercase tracking-widest border-b pb-2 flex items-center gap-2",children:[n.jsx(ar,{size:14,className:"text-[#F37B44]"})," metteur & Imputation"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase block mb-1",children:"Initiateur"}),n.jsx("div",{className:"font-bold text-gray-900 text-sm",children:p.demandeur})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase block mb-1",children:"Centre de Cot"}),n.jsx("div",{className:"font-bold text-gray-900 text-sm uppercase",children:p.atelier})]}),n.jsx("div",{className:"col-span-2",children:n.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-100",children:[n.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase block mb-1",children:"Dtail Analytique (OBS)"}),n.jsxs("div",{className:"text-xs text-[#F37B44]",children:[n.jsxs("div",{className:"font-bold",children:[n.jsx("span",{className:"text-gray-500",children:"Nature:"})," ",R]}),n.jsxs("div",{className:"font-bold",children:[n.jsx("span",{className:"text-gray-500",children:"Analytique:"})," ",V]})]})]})})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-5 shadow-sm space-y-4",children:[n.jsxs("h4",{className:"font-black text-[10px] text-gray-400 uppercase tracking-widest border-b pb-2 flex items-center gap-2",children:[n.jsx(_s,{size:14,className:"text-green-500"})," Analyse Budgtaire"]}),S?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase block",children:"Disponible Restant"}),n.jsxs("div",{className:`text-xl font-black ${S.totalBudget-S.engagedBudget<p.totalTTC?"text-red-600":"text-green-600"}`,children:[(S.totalBudget-S.engagedBudget).toLocaleString("fr-FR")," "]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase block",children:"Impact Demande"}),n.jsxs("div",{className:"text-sm font-bold text-[#F37B44]",children:["- ",p.totalTTC.toLocaleString("fr-FR")," "]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden border border-gray-100 shadow-inner",children:n.jsx("div",{className:"bg-gradient-to-r from-[#F37B44] to-[#f59e76] h-full",style:{width:`${S.engagedBudget/S.totalBudget*100}%`}})}),n.jsxs("div",{className:"flex justify-between text-[9px] font-black text-gray-400 uppercase",children:[n.jsxs("span",{children:["Engag : ",Math.round(S.engagedBudget/S.totalBudget*100),"%"]}),n.jsxs("span",{children:["Budget Total : ",S.totalBudget.toLocaleString("fr-FR")," "]})]})]})]}):n.jsx("div",{className:"py-4 text-center text-gray-400 italic text-sm",children:"Donnes budget non rattaches"})]})]}),p.rejectionReason&&n.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-xl text-sm flex gap-3 shadow-inner",children:[n.jsx(As,{className:"text-red-600 flex-shrink-0",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"font-black text-red-800 block mb-1 uppercase text-[10px] tracking-widest",children:"Dcision du validateur :"}),n.jsxs("p",{className:"text-gray-900 italic font-medium",children:['"',p.rejectionReason,'"']})]})]}),n.jsxs("div",{className:"bg-white border border-gray-300 rounded-2xl overflow-hidden shadow-sm",children:[n.jsxs("div",{className:"bg-gray-100/50 px-5 py-3 border-b flex justify-between items-center",children:[n.jsx("h3",{className:"font-black text-[10px] text-gray-400 uppercase tracking-widest",children:"Articles de la commande"}),n.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Objet : ",n.jsx("span",{className:"text-[#F37B44] font-black",children:p.subject})]})]}),n.jsx("div",{className:"p-0",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{className:"text-gray-400 font-black uppercase text-[10px] tracking-tight",children:[n.jsx("th",{className:"text-left p-4",children:"Rfrence"}),n.jsx("th",{className:"text-left p-4",children:"Dsignation"}),n.jsx("th",{className:"text-center p-4",children:"Quantit"}),n.jsx("th",{className:"text-right p-4",children:"P.U. HT"}),n.jsx("th",{className:"text-right p-4",children:"Prix HT"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:p.items.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"p-4 text-gray-500 font-mono text-xs",children:W.reference}),n.jsx("td",{className:"p-4 font-bold text-gray-800",children:W.description}),n.jsxs("td",{className:"p-4 text-center font-black text-gray-900",children:[W.quantity," ",W.unit]}),n.jsxs("td",{className:"p-4 text-right text-gray-700",children:[W.unitPriceHT.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]}),n.jsxs("td",{className:"p-4 text-right text-gray-900 font-black",children:[(W.quantity*W.unitPriceHT).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]},W.id))}),n.jsx("tfoot",{className:"bg-gray-50 font-black",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:4,className:"p-4 text-right text-gray-400 uppercase text-xs tracking-widest",children:"Total Demande TTC"}),n.jsxs("td",{className:"p-4 text-right text-xl text-gray-900",children:[p.totalTTC.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-orange-50/50 p-5 rounded-2xl border border-orange-100 shadow-sm",children:[n.jsx("h4",{className:"font-black text-[10px] text-gray-400 uppercase tracking-widest mb-2",children:"Fournisseur slectionn"}),n.jsx("p",{className:"text-[#F37B44] font-black text-lg leading-tight",children:p.supplierName}),n.jsx("button",{className:"text-[10px] font-bold text-[#F37B44] mt-2 hover:underline",children:"Voir fiche complte "})]}),n.jsxs("div",{className:"bg-gray-50/50 p-5 rounded-2xl border border-gray-200 shadow-sm",children:[n.jsxs("h4",{className:"font-black text-[10px] text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[n.jsx(Hr,{size:14})," Lieu de Livraison"]}),n.jsxs("p",{className:"text-gray-900 font-black text-sm uppercase tracking-tight",children:["Site ",p.deliveryLocation]}),n.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic leading-tight",children:dd[p.deliveryLocation]})]})]})]})};return n.jsxs("div",{className:"p-8 h-full flex flex-col relative min-h-0 bg-[#f3f4f6]",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6 relative",children:[n.jsxs("div",{className:"relative z-10 bg-[#f3f4f6] pr-4",children:[n.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tighter uppercase",children:"Gestion des Commandes"}),n.jsx("p",{className:"text-gray-700 font-medium",children:"Cycle de vie des demandes d'achat 5D"})]}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 z-0"}),n.jsx("button",{onClick:r,className:"relative z-10 bg-[#F37B44] hover:bg-[#d6622e] text-white px-6 py-2.5 rounded-xl shadow-lg text-sm font-black uppercase tracking-wide transition-all active:scale-95",children:"+ Nouvelle Demande"})]}),n.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-xl p-6 flex-1 flex flex-col min-h-0 overflow-hidden",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:n.jsx(lr,{className:"text-gray-400",size:20})}),n.jsx("input",{type:"text",className:"block w-full pl-12 pr-4 py-3 border border-gray-200 rounded-2xl leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#F37B44] shadow-inner font-medium transition-all",placeholder:"Rechercher par N, metteur, atelier ou fournisseur...",value:x,onChange:S=>v(S.target.value)})]}),n.jsxs("div",{className:"flex space-x-2 mb-6 border-b border-gray-100 pb-4 overflow-x-auto custom-scrollbar",children:[n.jsx("button",{onClick:()=>d("Tous"),className:`px-5 py-2 rounded-xl text-xs font-black uppercase tracking-widest border transition-all ${o==="Tous"?"bg-[#F37B44] text-white border-[#F37B44] shadow-md":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:"Tous"}),L.map(S=>n.jsx("button",{onClick:()=>d(S),className:`px-5 py-2 rounded-xl text-xs font-black uppercase tracking-widest border transition-all ${o===S?"bg-[#F37B44] text-white border-[#F37B44] shadow-md":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:S},S))]}),n.jsxs("div",{className:"overflow-auto flex-1 min-h-0 rounded-2xl border border-gray-100 shadow-inner",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:n.jsxs("tr",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[n.jsx("th",{onClick:()=>X("orderNumber"),className:"px-4 py-4 text-left cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Commande ",Me("orderNumber")]})}),n.jsx("th",{onClick:()=>X("supplierName"),className:"px-4 py-4 text-left cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fournisseur ",Me("supplierName")]})}),n.jsx("th",{onClick:()=>X("date"),className:"px-4 py-4 text-left cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Date ",Me("date")]})}),n.jsx("th",{onClick:()=>X("totalTTC"),className:"px-4 py-4 text-right cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:["Montant TTC ",Me("totalTTC")]})}),n.jsx("th",{onClick:()=>X("status"),className:"px-4 py-4 text-center cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1 justify-center",children:["Statut ",Me("status")]})}),n.jsx("th",{className:"px-4 py-4 text-center",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:re.map(S=>{const R=[z.ToOrder,z.InProgress,z.Delivered,z.Invoiced,z.Paid,z.Refused].includes(S.status);return n.jsxs("tr",{className:"hover:bg-orange-50/50 transition-colors group",children:[n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-black text-gray-900 group-hover:text-[#F37B44] transition-colors",children:S.orderNumber}),n.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:S.demandeur})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800 font-medium",children:S.supplierName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:S.date}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-right font-black text-gray-900",children:[S.totalTTC.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("span",{className:`px-3 py-1 inline-flex text-[10px] font-black uppercase rounded-full border
                      ${S.status===z.Draft?"bg-gray-100 text-gray-800 border-gray-200":S.status===z.ToValidate?"bg-yellow-100 text-yellow-800 border-yellow-200":S.status===z.ToOrder?"bg-indigo-100 text-indigo-800 border-indigo-200":S.status===z.InProgress?"bg-blue-100 text-blue-800 border-blue-200":S.status===z.Invoiced?"bg-purple-100 text-purple-800 border-purple-200":S.status===z.Refused?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200"}`,children:S.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm font-medium",children:n.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[n.jsx("button",{onClick:V=>{V.stopPropagation(),m(S)},className:"hover:bg-[#F37B44] hover:text-white text-[#F37B44] p-2 rounded-xl transition-all border border-transparent hover:shadow-md",title:"Consulter",children:n.jsx(il,{size:18})}),n.jsx("button",{onClick:V=>{R||(V.stopPropagation(),s(S))},disabled:R,className:`p-2 rounded-xl transition-all ${R?"text-gray-300 cursor-not-allowed":"text-blue-600 hover:bg-blue-600 hover:text-white"}`,title:"Modifier",children:n.jsx(qi,{size:18})}),n.jsx("button",{onClick:V=>{R||(V.stopPropagation(),k(S.id))},disabled:R,className:`p-2 rounded-xl transition-all ${R?"text-gray-300 cursor-not-allowed":"text-red-600 hover:bg-red-600 hover:text-white"}`,title:"Supprimer",children:n.jsx(Rr,{size:18})})]})})]},S.id)})})]}),re.length===0&&n.jsx("div",{className:"text-center py-16 text-gray-400 font-bold italic bg-gray-50",children:"Aucun commande trouve."})]})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 backdrop-blur-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[95vh] border border-gray-200",children:[n.jsxs("div",{className:"px-8 py-5 border-b border-gray-200 flex justify-between items-center bg-gray-50/80",children:[n.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Dtails de la demande"}),n.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-800 p-2 hover:bg-gray-100 rounded-full transition-all",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:pe()}),n.jsxs("div",{className:"bg-gray-50 px-8 py-5 border-t flex justify-between items-center shadow-inner",children:[n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gray-600 text-white rounded-xl hover:bg-gray-700 font-bold shadow-lg shadow-gray-200 transition-all",children:[n.jsx(wu,{size:18})," Historique"]}),n.jsxs("div",{className:"flex gap-4",children:[p.status!==z.Draft&&p.status!==z.Refused&&n.jsxs("button",{onClick:()=>Be(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-white text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 font-bold shadow-sm transition-all",children:[n.jsx(Hs,{size:18})," Imprimer BC"]}),n.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-[#F37B44] text-white rounded-xl hover:bg-[#d6622e] font-bold shadow-lg shadow-orange-200 transition-all",children:[n.jsx(yt,{size:18})," Documents"]}),H&&p.status===z.ToValidate&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{const S=p;m(null),tt("validate",S)},className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 font-black shadow-lg shadow-green-100 transition-all hover:scale-105 active:scale-95",children:[n.jsx(od,{size:20})," Accepter"]}),n.jsxs("button",{onClick:()=>{const S=p;m(null),tt("refuse",S)},className:"flex items-center gap-2 px-6 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 font-black shadow-lg shadow-red-100 transition-all hover:scale-105 active:scale-95",children:[n.jsx(id,{size:20})," Refuser"]})]}),n.jsx("button",{onClick:()=>m(null),className:"px-6 py-2.5 bg-white border border-gray-300 rounded-xl text-gray-800 hover:bg-gray-100 font-bold shadow-sm transition-all",children:"Fermer"})]})]})]})}),K(),fe(),Z&&p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[70] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 rounded-t-lg no-print",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Aperu Bon de Commande"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-6 py-2 bg-[#F37B44] text-white rounded hover:bg-[#d6622e] font-black transition-all",children:[n.jsx(Hs,{size:16})," Imprimer / PDF"]}),n.jsx("button",{onClick:()=>Be(!1),className:"px-4 py-2 bg-white border border-gray-300 rounded text-gray-700 hover:bg-gray-100 font-bold",children:"Fermer"})]})]}),n.jsx("div",{className:"flex-1 overflow-auto bg-gray-200 p-8",children:n.jsxs("div",{id:"printable-order",className:"bg-white shadow-lg mx-auto p-12 max-w-[210mm] min-h-[297mm] text-gray-900 border border-gray-300",children:[n.jsxs("div",{className:"flex justify-between items-start border-b-4 border-[#F37B44] pb-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-black text-[#F37B44] tracking-tighter italic",children:"BON DE COMMANDE"}),n.jsx("p",{className:"text-sm mt-1 text-gray-500 font-bold",children:"CDF - CENTRE DE FORMATION CONTINUE"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["REF: ",p.orderNumber]}),n.jsxs("div",{className:"text-gray-500 font-bold uppercase text-xs",children:["mis le: ",p.date]})]})]}),(()=>{var g;const S=Gi.find(_=>_.id===p.supplierId),R=Fr.find(_=>_.id===p.costCenterId),V=((g=$s.find(_=>_.code===p.budgetLineCode))==null?void 0:g.name)||p.budgetLineCode||"";return n.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-black text-xs text-gray-400 border-b border-gray-200 mb-3 pb-1 uppercase",children:"Destinataire (Fournisseur)"}),n.jsxs("div",{className:"text-gray-900",children:[n.jsx("p",{className:"font-black text-xl",children:p.supplierName}),S&&n.jsxs("div",{className:"text-sm mt-2 space-y-0.5 font-medium",children:[n.jsx("p",{children:S.address}),n.jsxs("p",{children:[S.zip," ",S.city]}),n.jsx("p",{children:S.country}),n.jsxs("p",{className:"pt-2",children:["TVA: ",S.vatNumber]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-black text-xs text-gray-400 border-b border-gray-200 mb-3 pb-1 uppercase",children:"Livraison & Imputation"}),n.jsxs("div",{className:"text-gray-900 space-y-1 text-sm font-medium",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Service:"})," ",R==null?void 0:R.code," - ",R==null?void 0:R.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Ligne:"})," ",p.budgetLineCode," ",V?`(${V})`:""]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Lieu:"})," Site ",p.deliveryLocation.toUpperCase()]}),n.jsx("p",{className:"pl-4 italic text-gray-600",children:dd[p.deliveryLocation]}),n.jsxs("p",{className:"pt-3 font-bold",children:[n.jsx("span",{className:"text-gray-500",children:"Objet:"})," ",p.subject]})]})]})]})})(),n.jsxs("table",{className:"w-full mb-10 border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#F37B44]/5 border-y-2 border-[#F37B44]",children:[n.jsx("th",{className:"py-3 px-2 text-left font-black text-[#F37B44] uppercase text-xs",children:"Rf."}),n.jsx("th",{className:"py-3 px-2 text-left font-black text-[#F37B44] uppercase text-xs",children:"Dsignation"}),n.jsx("th",{className:"py-3 px-2 text-center font-black text-[#F37B44] uppercase text-xs",children:"Qt"}),n.jsx("th",{className:"py-3 px-2 text-right font-black text-[#F37B44] uppercase text-xs",children:"Total HT"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:p.items.map((S,R)=>n.jsxs("tr",{children:[n.jsx("td",{className:"py-4 px-2 text-xs font-mono text-gray-500",children:S.reference}),n.jsx("td",{className:"py-4 px-2 text-gray-900 font-bold text-sm",children:S.description}),n.jsxs("td",{className:"py-4 px-2 text-center text-gray-900 font-black",children:[S.quantity," ",S.unit]}),n.jsxs("td",{className:"py-4 px-2 text-right text-gray-900 font-black",children:[(S.quantity*S.unitPriceHT).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]},R))})]}),n.jsx("div",{className:"flex justify-end mb-20",children:n.jsxs("div",{className:"w-64 border-t-2 border-gray-900 pt-4",children:[n.jsxs("div",{className:"flex justify-between py-1 text-gray-500 font-bold uppercase text-[10px] tracking-widest",children:[n.jsx("span",{children:"Total Hors Taxes"}),n.jsxs("span",{children:[p.totalHT.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between py-1 text-gray-500 font-bold uppercase text-[10px] tracking-widest border-b border-gray-100 pb-2 mb-2",children:[n.jsx("span",{children:"TVA Estime (17%)"}),n.jsxs("span",{children:[p.totalTVA.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between py-2 text-2xl font-black text-[#F37B44]",children:[n.jsx("span",{children:"TOTAL TTC"}),n.jsxs("span",{children:[p.totalTTC.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-20 mt-auto pt-10 border-t border-gray-100 italic",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-black text-gray-400 uppercase text-[10px] mb-12",children:"Le Responsable Budgtaire"}),n.jsx("div",{className:"h-20 border-b border-gray-200 w-2/3 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-black text-gray-400 uppercase text-[10px] mb-12",children:"La Direction CDF"}),n.jsx("div",{className:"h-20 border-b border-gray-200 w-2/3 mx-auto"})]})]})]})})]})}),w&&n.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[n.jsx("div",{className:"bg-red-100 p-4 rounded-full shadow-inner",children:n.jsx(As,{className:"text-red-600",size:32})}),n.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Supprimer ?"})]}),n.jsx("p",{className:"text-gray-700 mb-8 font-medium",children:"tes-vous sr de vouloir supprimer cette commande ? Cette opration est irrversible."}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{onClick:()=>k(null),className:"px-6 py-2.5 border border-gray-300 rounded-xl text-gray-800 hover:bg-gray-50 font-bold transition-all",children:"Annuler"}),n.jsx("button",{onClick:Ve,className:"px-6 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 font-black shadow-lg shadow-red-100 transition-all",children:"Supprimer"})]})]})}),T&&n.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100",children:[n.jsxs("div",{className:`px-8 py-5 flex justify-between items-center text-white ${T.type==="validate"?"bg-green-600":"bg-red-600"}`,children:[n.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3 uppercase tracking-tighter",children:[T.type==="validate"?n.jsx(od,{size:28}):n.jsx(id,{size:28}),T.type==="validate"?"Validation Finale":"Refus de la demande"]}),n.jsx("button",{onClick:()=>A(null),className:"hover:bg-black/10 rounded-full p-2 transition-all",children:n.jsx(at,{size:28})})]}),n.jsxs("div",{className:"p-8 bg-gray-50/80 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm transition-all hover:shadow-md",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Initiateur Demande"}),n.jsxs("div",{className:"flex items-center gap-3 text-gray-900 font-black",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700",children:n.jsx(ar,{size:18})}),T.order.demandeur]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm transition-all hover:shadow-md",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Centre de Cot / Service"}),n.jsxs("div",{className:"flex items-center gap-3 text-gray-900 font-black uppercase tracking-tight",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-[#F37B44]",children:n.jsx(Vs,{size:18})}),T.order.atelier]})]})]}),(()=>{const S=Fr.find(ne=>ne.id===T.order.costCenterId);if(!S)return null;const R=T.order.totalTTC,V=S.totalBudget-S.engagedBudget,g=R>V,_=S.engagedBudget/S.totalBudget*100,W=R/S.totalBudget*100;return n.jsxs("div",{className:`p-6 rounded-2xl border-2 shadow-inner transition-all ${g?"bg-red-50 border-red-300":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h4",{className:"text-xs font-black text-gray-800 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(_s,{size:16,className:g?"text-red-600":"text-[#F37B44]"}),"Statut Budgtaire Centre ",S.code]}),n.jsx("span",{className:`text-[10px] font-black px-3 py-1.5 rounded-full uppercase border shadow-sm ${g?"bg-white text-red-600 border-red-200":"bg-white text-[#F37B44] border-orange-200"}`,children:g?" Dpassement critique":" Enveloppe disponible"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"text-center p-3 bg-white/60 rounded-xl border border-white",children:[n.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-1",children:"Disponible"}),n.jsxs("p",{className:"font-black text-gray-900",children:[V.toLocaleString("fr-FR")," "]})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-xl border-2 border-[#F37B44] shadow-sm transform scale-105",children:[n.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-1",children:"Cette Commande"}),n.jsxs("p",{className:"font-black text-[#F37B44]",children:[R.toLocaleString("fr-FR")," "]})]}),n.jsxs("div",{className:"text-center p-3 bg-white/60 rounded-xl border border-white",children:[n.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase mb-1",children:"Reste Final"}),n.jsxs("p",{className:`font-black ${V-R<0?"text-red-600":"text-green-600"}`,children:[(V-R).toLocaleString("fr-FR")," "]})]})]}),n.jsxs("div",{className:"w-full h-5 bg-white border border-gray-300 rounded-full flex overflow-hidden shadow-inner mb-2",children:[n.jsx("div",{className:"bg-[#F37B44] h-full border-r border-white/20",style:{width:`${_}%`}}),n.jsx("div",{className:`${g?"bg-red-500 animate-pulse":"bg-green-500"} h-full transition-all duration-700`,style:{width:`${W}%`}})]}),n.jsxs("div",{className:"flex justify-between text-[9px] font-black text-gray-500 uppercase",children:[n.jsxs("span",{children:["Budget Total : ",S.totalBudget.toLocaleString("fr-FR")," "]}),n.jsxs("span",{className:g?"text-red-600":"text-green-600",children:["Projection : ",Math.round(_+W),"%"]})]})]})})(),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-xs font-black text-gray-700 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(Za,{size:16,className:"text-[#F37B44]"}),"Note de dcision ",T.type==="refuse"&&n.jsx("span",{className:"text-red-600 font-bold animate-bounce",children:"(OBLIGATOIRE)"})]}),n.jsx("textarea",{className:"w-full border border-gray-200 rounded-2xl p-4 text-gray-900 focus:ring-4 focus:ring-orange-100 focus:border-[#F37B44] focus:outline-none transition-all placeholder:text-gray-300 italic text-sm shadow-inner bg-white",rows:3,placeholder:T.type==="validate"?"Ajouter une note facultative pour l'metteur...":"Veuillez motiver prcisment votre refus (budget, prix, erreur nomenclature...)",value:u,onChange:S=>c(S.target.value)})]})]}),n.jsxs("div",{className:"px-8 py-5 bg-white border-t flex justify-end gap-4 shadow-inner",children:[n.jsx("button",{onClick:()=>A(null),className:"px-6 py-2.5 rounded-xl text-gray-600 font-bold hover:bg-gray-100 transition-all active:scale-95",children:"Annuler"}),n.jsx("button",{onClick:Vr,disabled:T.type==="refuse"&&!u.trim(),className:`px-10 py-2.5 text-white rounded-xl font-black uppercase tracking-wide shadow-xl transform transition-all active:scale-95
                    ${T.type==="validate"?"bg-green-600 hover:bg-green-700 shadow-green-100":"bg-red-600 hover:bg-red-700 shadow-red-100 disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed disabled:shadow-none"}`,children:T.type==="validate"?"Confirmer l'Acceptation":"Confirmer le Refus"})]})]})})]})},Jl={Esch:"45, rue des alouettes, 4354 Esch-sur-Alzette",Street:"Route de Luxembourg, L-4360 Esch-sur-Alzette",Bel:"6A Avenue des Hauts-Fourneaux, L-4362 Esch-sur-Alzette",Clerval:"12 Rue de la Gare, L-9044 Ettelbruck",Mirsch:"5 Zone Industrielle, L-7737 Mersch",Central:"1 Rue de l'Avenir, L-8011 Strassen"},hm=({onCancel:e,onSubmit:t,currentUser:r,currentCostCenter:s,availableCostCenters:l,suppliers:a,articles:i,initialOrder:o})=>{const[d,x]=B.useState(1),[v,p]=B.useState(""),[m,w]=B.useState(s.id),[k,T]=B.useState(""),[A,u]=B.useState(""),[c,f]=B.useState(""),[y,E]=B.useState(0),[h,b]=B.useState("Courrier"),[j,N]=B.useState([]),[C,P]=B.useState(!1),[U,Z]=B.useState(""),[Be,he]=B.useState(!1);B.useEffect(()=>{o&&(p(o.subject),w(o.costCenterId),T(o.deliveryLocation),E(o.supplierId),b(o.deliveryMethod),N(o.items),u(o.budgetLineCode||""),f(o.subCostCenterCode||""))},[o]);const Q=a.find(g=>g.id===y),ee=l.find(g=>g.id===m)||s,L=B.useMemo(()=>{const g=sn.find(_=>_.id===ee.zoneId);return g?g.deliveryLocations:["Central"]},[ee]);B.useEffect(()=>{L.includes(k)||T(L[0])},[L,k]);const $=()=>{let g=0,_=0;return j.forEach(W=>{const ne=W.quantity*W.unitPriceHT,Ie=ne*(W.vatRate/100);g+=ne,_+=Ie}),{totalHT:g,totalTVA:_,totalTTC:g+_}},{totalHT:H,totalTVA:J,totalTTC:X}=$(),ct=ee.engagedBudget+X,re=ct>ee.totalBudget,Me=ee.engagedBudget/ee.totalBudget*100,Ve=X/ee.totalBudget*100,tt=g=>{if(j.length>0&&g!==y){if(!window.confirm("Attention : Une commande ne peut concerner qu'un seul fournisseur. Changer de fournisseur effacera la liste des articles actuels. Voulez-vous continuer ?"))return;N([])}E(g)},Vr=()=>{if(d===1){if(!v.trim()){alert("Veuillez renseigner l'objet de la commande.");return}if(!A){alert("Veuillez slectionner une ligne budgtaire.");return}if(!c){alert("Veuillez slectionner un sous-centre analytique.");return}}if(d===2){if(y===0){alert("Veuillez slectionner un fournisseur avant de continuer.");return}if(j.length===0){alert("Veuillez ajouter au moins un article.");return}}x(d+1)},$r=()=>x(d-1),Ur=g=>{N(_=>_.filter(W=>W.id!==g))},Wr=(g,_)=>{_<1||N(W=>W.map(ne=>ne.id===g?{...ne,quantity:_}:ne))},I=(g,_)=>{N(W=>W.map(ne=>ne.id===g?{...ne,unitPriceHT:Math.max(0,_)}:ne))},q=g=>{const _={id:Math.random(),reference:g.reference,description:g.description,quantity:1,unit:g.unit,unitPriceHT:g.unitPriceHT,vatRate:g.vatRate};N([...j,_]),P(!1),Z("")},fe=(g,_)=>{const W=o&&o.status===z.Draft&&g===z.ToValidate?{date:new Date().toLocaleString("fr-FR"),action:"Soumission du brouillon pour validation",user:r.name}:null;return{id:o?o.id:Math.floor(Math.random()*1e4)+1e3,orderNumber:o?o.orderNumber:"2025-New",date:o?o.date:new Date().toLocaleDateString("fr-FR"),atelier:o?o.atelier:ee.code,demandeur:o?o.demandeur:r.name,supplierId:Q?Q.id:0,supplierName:Q?Q.name:"Unknown",costCenterId:ee.id,budgetLineCode:A,subCostCenterCode:c,subject:v,status:g,items:j,deliveryLocation:k,deliveryMethod:h,totalHT:H,totalTVA:J,totalTTC:X,rejectionReason:_,isActive:!0,documents:o?o.documents:[],history:W?[...(o==null?void 0:o.history)||[],W]:(o==null?void 0:o.history)||[]}},K=()=>{const g=fe(z.Draft);t(g)},pe=g=>{if(re&&g!==z.Draft&&g!==z.Refused){alert("Dpassement budgtaire : Vous ne pouvez pas soumettre cette commande tant que le montant total dpasse le budget allou.");return}let _;if(g===z.Refused){const ne=window.prompt("Veuillez indiquer le motif du refus :");if(ne===null)return;_=ne}const W=fe(g,_);t(W)},S=()=>{let g=z.ToValidate;o&&(o.status===z.Draft?g=z.ToValidate:g=o.status),pe(g)},R=()=>{window.print()},V=i.filter(g=>g.supplierId===y&&(g.reference.toLowerCase().includes(U.toLowerCase())||g.description.toLowerCase().includes(U.toLowerCase())));return n.jsxs("div",{className:"p-8 h-full flex flex-col min-h-0",children:[n.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 bg-[#f3f4f6] inline-block pr-4 relative z-10",children:o?`Modifier Commande ${o.orderNumber}`:"Nouvelle Demande d'Achat"}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 z-0"})]}),n.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg flex-1 flex flex-col p-6 max-w-5xl mx-auto w-full min-h-0",children:[n.jsxs("div",{className:"flex justify-center items-center mb-6 flex-shrink-0",children:[n.jsxs("div",{className:`flex items-center ${d>=1?"text-[#F37B44] font-bold":"text-gray-500"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 mr-2 ${d>=1?"bg-[#F37B44] text-white border-[#F37B44]":"border-gray-400 text-gray-500"}`,children:"1"}),"Contexte"]}),n.jsx("div",{className:`w-16 h-1 mx-4 ${d>=2?"bg-[#F37B44]":"bg-gray-200"}`}),n.jsxs("div",{className:`flex items-center ${d>=2?"text-[#F37B44] font-bold":"text-gray-500"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 mr-2 ${d>=2?"bg-[#F37B44] text-white border-[#F37B44]":"border-gray-400 text-gray-500"}`,children:"2"}),"Articles"]}),n.jsx("div",{className:`w-16 h-1 mx-4 ${d>=3?"bg-[#F37B44]":"bg-gray-200"}`}),n.jsxs("div",{className:`flex items-center ${d>=3?"text-[#F37B44] font-bold":"text-gray-500"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 mr-2 ${d>=3?"bg-[#F37B44] text-white border-[#F37B44]":"border-gray-400 text-gray-500"}`,children:"3"}),"Soumettre"]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 pr-2 custom-scrollbar",children:[d===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[n.jsx("label",{className:"block text-sm font-bold text-red-800 mb-1",children:"Objet de la commande *"}),n.jsx("input",{type:"text",value:v,onChange:g=>p(g.target.value),placeholder:"Ex: Renouvellement outillages",className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[n.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[n.jsx(Ip,{size:18})," Imputation Budgtaire"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"1. Centre de Cot (Service) *"}),n.jsx("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white focus:ring-2 focus:ring-[#F37B44] focus:outline-none font-bold",value:m,onChange:g=>w(Number(g.target.value)),children:l.map(g=>n.jsxs("option",{value:g.id,children:[g.name," (",g.code,")"]},g.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Lieu de Livraison (Logistique)"}),n.jsx("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white",value:k,onChange:g=>T(g.target.value),children:L.map(g=>n.jsxs("option",{value:g,children:["Site ",g]},g))})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 pt-2 border-t border-gray-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"2. Ligne Budgtaire (Nature) *"}),n.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white focus:ring-2 focus:ring-[#F37B44]",value:A,onChange:g=>u(g.target.value),children:[n.jsx("option",{value:"",children:"-- Slectionner Nature --"}),$s.map(g=>n.jsxs("option",{value:g.code,children:[g.code," - ",g.name]},g.code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"3. Analytique (Sous-centre) *"}),n.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white focus:ring-2 focus:ring-[#F37B44]",value:c,onChange:g=>f(g.target.value),children:[n.jsx("option",{value:"",children:"-- Slectionner Type --"}),Us.map(g=>n.jsxs("option",{value:g.code,children:[g.code," - ",g.name]},g.code))]})]})]})]})]}),n.jsxs("div",{className:`p-4 rounded border ${re?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:`font-bold ${re?"text-red-700":"text-[#F37B44]"}`,children:["Budget Disponible : ",(ee.totalBudget-ee.engagedBudget).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]}),n.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["Engagement ",ee.engagementNumber]})]}),n.jsx("div",{className:"w-full h-4 bg-white border border-gray-300 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-500 ${re?"bg-red-600":"bg-[#F37B44]"}`,style:{width:`${Me}%`}})}),re&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-600 text-xs font-bold uppercase animate-pulse",children:[n.jsx(qa,{size:14})," Dpassement budgtaire dtect"]})]})]}),d===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"font-bold text-gray-700",children:"Fournisseur (Unique)"}),n.jsx("button",{className:"text-[#F37B44] text-sm hover:underline",children:"+ Nouveau fournisseur"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Slectionner le fournisseur *"}),n.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white focus:ring-2 focus:ring-[#F37B44]",value:y,onChange:g=>tt(Number(g.target.value)),children:[n.jsx("option",{value:0,children:"-- Slectionner un fournisseur --"}),a.map(g=>n.jsx("option",{value:g.id,children:g.name},g.id))]}),Q&&n.jsxs("div",{className:"mt-4 space-y-2 text-sm border-t pt-3 border-gray-200",children:[n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-24 text-gray-500",children:"Adresse"}),n.jsx("span",{className:"text-gray-800",children:Q.address})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-24 text-gray-500",children:"CP / Localit"}),n.jsxs("span",{className:"text-gray-800",children:[Q.zip," ",Q.city]})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-24 text-gray-500",children:"Responsable"}),n.jsx("span",{className:"text-gray-800",children:Q.contactName})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mthode d'envoi du BC"}),n.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded text-gray-900 bg-white",value:h,onChange:g=>b(g.target.value),children:[n.jsx("option",{value:"Courrier",children:"Courrier"}),n.jsx("option",{value:"Email",children:"Email"})]}),Q&&n.jsxs("div",{className:"mt-4 space-y-2 text-sm border-t pt-3 border-gray-200",children:[n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-24 text-gray-500",children:"Tl"}),n.jsx("span",{className:"text-gray-800",children:Q.phone})]}),n.jsxs("div",{className:"flex",children:[n.jsx("span",{className:"w-24 text-gray-500",children:"Email"}),n.jsx("span",{className:"text-[#F37B44] font-medium",children:Q.email})]})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"font-bold text-gray-700",children:"Lignes de commande"}),n.jsxs("button",{onClick:()=>{y===0?alert("Veuillez d'abord slectionner un fournisseur."):P(!0)},className:`flex items-center text-sm px-3 py-1.5 rounded transition-colors ${y===0?"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none":"bg-[#F37B44] text-white hover:bg-[#d6622e] shadow-sm font-bold"}`,children:[n.jsx(Hp,{size:16,className:"mr-1"})," Ajouter un article"]})]}),n.jsx("div",{className:"overflow-x-auto border rounded border-gray-300",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-1 text-left border-r border-gray-300 text-gray-700",children:"#"}),n.jsx("th",{className:"px-2 py-1 text-left border-r border-gray-300 w-1/3 text-gray-700",children:"Dsignation"}),n.jsx("th",{className:"px-2 py-1 text-left border-r border-gray-300 text-gray-700",children:"Rf.."}),n.jsx("th",{className:"px-2 py-1 text-right border-r border-gray-300 w-20 text-gray-700",children:"Qt"}),n.jsx("th",{className:"px-2 py-1 text-left border-r border-gray-300 text-gray-700",children:"Unit"}),n.jsx("th",{className:"px-2 py-1 text-right border-r border-gray-300 text-gray-700 w-28",children:"P.U. HT"}),n.jsx("th",{className:"px-2 py-1 text-right border-r border-gray-300 text-gray-700",children:"Total HT"}),n.jsx("th",{className:"px-2 py-1 text-center text-gray-700"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[j.map((g,_)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-gray-800 text-xs",children:_+1}),n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-gray-800 font-medium",children:g.description}),n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-gray-600 text-xs",children:g.reference}),n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-right text-gray-800",children:n.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:W=>Wr(g.id,parseInt(W.target.value)||1),className:"w-full text-right border border-gray-300 rounded px-1 text-gray-900 bg-white focus:ring-1 focus:ring-[#F37B44] focus:outline-none"})}),n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-gray-600 text-xs",children:g.unit}),n.jsx("td",{className:"px-2 py-1 border-r border-gray-300 text-right text-gray-800",children:n.jsx("input",{type:"number",step:"0.01",min:"0",value:g.unitPriceHT,onChange:W=>I(g.id,parseFloat(W.target.value)||0),className:"w-full text-right border border-gray-300 rounded px-1 text-gray-900 bg-white focus:ring-1 focus:ring-[#F37B44] focus:outline-none font-bold"})}),n.jsxs("td",{className:"px-2 py-1 border-r border-gray-300 text-right text-gray-800 font-bold",children:[(g.quantity*g.unitPriceHT).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]}),n.jsx("td",{className:"px-2 py-1 text-center",children:n.jsx("button",{onClick:()=>Ur(g.id),type:"button",children:n.jsx(Rr,{size:16,className:"inline text-gray-400 hover:text-red-600 cursor-pointer"})})})]},g.id)),j.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-400 bg-white italic",children:y===0?"Veuillez d'abord slectionner un fournisseur.":"Aucun article ajout. Utilisez le bouton ci-dessus."})})]})]})}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("div",{className:"w-64 border-t border-gray-200 pt-2",children:[n.jsxs("div",{className:"flex justify-between text-sm py-1 text-gray-600",children:[n.jsx("span",{children:"Total HT"}),n.jsxs("span",{className:"font-bold text-gray-900",children:[H.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between text-sm py-1 text-gray-600 border-b border-gray-100 pb-2 mb-1",children:[n.jsx("span",{children:"TVA Estime (17%)"}),n.jsxs("span",{className:"font-bold text-gray-900",children:[J.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between text-base py-2 font-black text-gray-900 mt-1",children:[n.jsx("span",{children:"Total TTC"}),n.jsxs("span",{className:re?"text-red-600":"text-[#F37B44]",children:[X.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})]})})]})]}),d===3&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-3 rounded border border-gray-300",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"font-bold text-gray-700",children:"Date:"}),n.jsx("span",{className:"bg-white px-3 py-1 border border-gray-300 rounded text-gray-800 font-bold",children:o?o.date:new Date().toLocaleDateString("fr-FR")})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"font-bold text-gray-700",children:"Fournisseur unique :"}),n.jsx("span",{className:"text-[#F37B44] font-black",children:Q==null?void 0:Q.name})]})]}),n.jsxs("div",{className:"bg-white border border-gray-300 p-4 rounded shadow-sm",children:[n.jsx("h3",{className:"font-bold mb-3 text-sm text-gray-700 border-b pb-1 uppercase tracking-wider",children:"Rcapitulatif Articles"}),n.jsxs("table",{className:"w-full text-sm mb-4",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-[#F37B44] text-xs border-b",children:[n.jsx("th",{className:"text-left font-bold pb-2",children:"Rfrence"}),n.jsx("th",{className:"text-left font-bold pb-2",children:"Dsignation"}),n.jsx("th",{className:"text-center font-bold pb-2",children:"Quantit"}),n.jsx("th",{className:"text-right font-bold pb-2",children:"Prix HT"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:j.map(g=>n.jsxs("tr",{children:[n.jsx("td",{className:"py-2 text-gray-500 font-mono text-xs",children:g.reference}),n.jsx("td",{className:"py-2 font-medium text-gray-800",children:g.description}),n.jsx("td",{className:"py-2 text-center font-bold text-gray-800",children:g.quantity}),n.jsxs("td",{className:"py-2 text-right text-gray-800 font-medium",children:[(g.quantity*g.unitPriceHT).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]},g.id))})]}),n.jsx("div",{className:"flex justify-end border-t pt-2",children:n.jsxs("div",{className:"w-64 text-right space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-bold uppercase tracking-tighter",children:[n.jsx("span",{children:"Total HT"}),n.jsxs("span",{children:[H.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 font-bold uppercase tracking-tighter pb-2 border-b border-gray-100",children:[n.jsx("span",{children:"TVA (17%)"}),n.jsxs("span",{children:[J.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"text-xl text-gray-900 font-black pt-1",children:["Total TTC ",n.jsxs("span",{className:`ml-4 ${re?"text-red-600":"text-[#F37B44]"}`,children:[X.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[n.jsx("h4",{className:"font-bold text-sm text-gray-700 mb-2",children:"Imputation & Analytique"}),n.jsxs("p",{className:"text-[#F37B44] font-black text-sm",children:[ee.code," - ",ee.name]}),n.jsxs("p",{className:"text-xs text-gray-600 mt-2 font-bold",children:["Ligne : ",n.jsx("span",{className:"font-normal",children:A})]}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-bold",children:["Sous-centre : ",n.jsx("span",{className:"font-normal",children:c})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200",children:[n.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(Hr,{size:16})," Lieu de Livraison"]}),n.jsxs("p",{className:"text-[#F37B44] font-bold text-sm",children:["Site ",k.toUpperCase()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Jl[k]||Jl.Esch})]})]}),n.jsxs("div",{className:`p-4 rounded border ${re?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h4",{className:`font-bold text-sm uppercase tracking-tight ${re?"text-red-800":"text-gray-700"}`,children:"Consommation Budgtaire"}),n.jsxs("div",{className:`text-xs font-bold ${re?"text-red-600":"text-[#F37B44]"}`,children:["Dispo avant: ",(ee.totalBudget-ee.engagedBudget).toLocaleString("fr-FR")," "]})]}),n.jsxs("div",{className:"w-full h-5 bg-white border border-gray-300 rounded-full flex mb-2 relative overflow-hidden",children:[n.jsx("div",{className:"bg-[#F37B44] h-full transition-all duration-500",style:{width:`${Me}%`}}),n.jsx("div",{className:`${re?"bg-red-500":"bg-green-500"} h-full transition-all duration-500`,style:{width:`${Ve}%`}})]}),n.jsxs("div",{className:"flex justify-between items-center text-[10px] uppercase font-bold text-gray-500",children:[n.jsxs("span",{children:["Dj engag: ",ee.engagedBudget.toLocaleString("fr-FR")," "]}),n.jsxs("span",{children:["Budget Total: ",ee.totalBudget.toLocaleString("fr-FR")," "]})]}),re&&n.jsxs("div",{className:"mt-3 p-2 bg-red-600 text-white rounded text-center text-xs font-black uppercase tracking-wider flex items-center justify-center gap-2",children:[n.jsx(qa,{size:14})," Soumission impossible : Dpassement de ",(ct-ee.totalBudget).toLocaleString("fr-FR")," "]})]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t border-gray-200 flex-shrink-0",children:[n.jsxs("button",{onClick:d===1?e:$r,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 font-bold transition-colors",children:[n.jsx(Bp,{size:16})," ",d===1?"Annuler":"Retour"]}),n.jsx("div",{className:"flex gap-3",children:d<3?n.jsxs("button",{onClick:Vr,className:"flex items-center gap-2 px-6 py-2 bg-[#F37B44] text-white rounded hover:bg-[#d6622e] font-bold shadow-sm transition-colors",children:["tape suivante ",n.jsx(Ka,{size:16})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 border border-gray-300 rounded hover:bg-gray-200 font-bold transition-colors",children:[n.jsx(Hs,{size:16})," Imprimer"]}),n.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#F37B44] text-[#F37B44] rounded hover:bg-orange-50 font-bold transition-colors",children:[n.jsx(ol,{size:16})," Brouillon"]}),n.jsxs("button",{onClick:S,disabled:re,className:`flex items-center gap-2 px-6 py-2 rounded font-black shadow-lg transition-all transform ${re?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50":"bg-green-600 text-white hover:bg-green-700 hover:scale-105"}`,children:[n.jsx(Os,{size:16})," Soumettre"]})]})})]})]}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[80vh]",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-[#F37B44] rounded-t-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Catalogue articles"}),n.jsxs("p",{className:"text-xs text-white/80 mt-1",children:["Fournisseur : ",Q==null?void 0:Q.name]})]}),n.jsx("button",{onClick:()=>P(!1),className:"text-white hover:bg-white/10 p-1 rounded",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:n.jsxs("div",{className:"relative",children:[n.jsx(lr,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Rechercher une rfrence ou une dsignation...",value:U,onChange:g=>Z(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-gray-900 bg-white focus:outline-none focus:ring-2 focus:ring-[#F37B44]"})]})}),n.jsx("div",{className:"overflow-y-auto p-0 flex-1",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{className:"text-[10px] uppercase text-gray-500 font-black tracking-widest",children:[n.jsx("th",{className:"px-6 py-3 text-left",children:"Article"}),n.jsx("th",{className:"px-6 py-3 text-right",children:"Prix HT"}),n.jsx("th",{className:"px-6 py-3 text-center",children:"Action"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[V.map(g=>n.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[n.jsxs("td",{className:"px-6 py-3",children:[n.jsx("div",{className:"text-sm font-bold text-gray-900",children:g.description}),n.jsx("div",{className:"text-xs text-gray-400 font-mono",children:g.reference})]}),n.jsxs("td",{className:"px-6 py-3 text-right text-sm font-black text-gray-700",children:[g.unitPriceHT.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]}),n.jsx("td",{className:"px-6 py-3 text-center",children:n.jsx("button",{onClick:()=>q(g),className:"text-[#F37B44] hover:text-white hover:bg-[#F37B44] border border-[#F37B44] font-bold text-xs px-3 py-1 rounded transition-all",children:"Ajouter"})})]},g.id)),V.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-400 italic",children:"Aucun article trouv pour ce fournisseur."})})]})]})}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 rounded-b-lg flex justify-end",children:n.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded text-gray-700 hover:bg-gray-100 font-bold",children:"Fermer"})})]})}),Be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[60] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50 rounded-t-lg no-print",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Gnration du Bon de Commande"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-2 bg-[#F37B44] text-white rounded hover:bg-[#d6622e] font-black transition-all",children:[n.jsx(Hs,{size:16})," Imprimer / PDF"]}),n.jsx("button",{onClick:()=>he(!1),className:"px-4 py-2 bg-white border border-gray-300 rounded text-gray-700 hover:bg-gray-100 font-bold",children:"Fermer"})]})]}),n.jsx("div",{className:"flex-1 overflow-auto bg-gray-200 p-8",children:n.jsxs("div",{id:"printable-order",className:"bg-white shadow-lg mx-auto p-12 max-w-[210mm] min-h-[297mm] text-gray-900 border border-gray-300",children:[n.jsxs("div",{className:"flex justify-between items-start border-b-4 border-[#F37B44] pb-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-black text-[#F37B44] tracking-tighter italic",children:"BON DE COMMANDE"}),n.jsx("p",{className:"text-sm mt-1 text-gray-500 font-bold",children:"CDF - CENTRE DE FORMATION CONTINUE"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["REF: ",o?o.orderNumber:"DEMANDE_NEW"]}),n.jsxs("div",{className:"text-gray-500 font-bold uppercase text-xs",children:["mis le: ",o?o.date:new Date().toLocaleDateString("fr-FR")]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-black text-xs text-gray-400 border-b border-gray-200 mb-3 pb-1 uppercase",children:"Destinataire (Fournisseur)"}),n.jsxs("div",{className:"text-gray-900",children:[n.jsx("p",{className:"font-black text-xl",children:Q==null?void 0:Q.name}),Q&&n.jsxs("div",{className:"text-sm mt-2 space-y-0.5 font-medium",children:[n.jsx("p",{children:Q.address}),n.jsxs("p",{children:[Q.zip," ",Q.city]}),n.jsx("p",{children:Q.country}),n.jsxs("p",{className:"pt-2",children:["TVA: ",Q.vatNumber]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-black text-xs text-gray-400 border-b border-gray-200 mb-3 pb-1 uppercase",children:"Livraison & Imputation"}),n.jsxs("div",{className:"text-gray-900 space-y-1 text-sm font-medium",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Service:"})," ",ee.code," - ",ee.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Ligne:"})," ",A]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500",children:"Lieu:"})," Site ",k.toUpperCase()]}),n.jsx("p",{className:"pl-4 italic text-gray-600",children:Jl[k]}),n.jsxs("p",{className:"pt-3 font-bold",children:[n.jsx("span",{className:"text-gray-500",children:"Objet:"})," ",v]})]})]})]}),n.jsxs("table",{className:"w-full mb-10 border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#F37B44]/5 border-y-2 border-[#F37B44]",children:[n.jsx("th",{className:"py-3 px-2 text-left font-black text-[#F37B44] uppercase text-xs",children:"Rf."}),n.jsx("th",{className:"py-3 px-2 text-left font-black text-[#F37B44] uppercase text-xs",children:"Dsignation"}),n.jsx("th",{className:"py-3 px-2 text-center font-black text-[#F37B44] uppercase text-xs",children:"Qt"}),n.jsx("th",{className:"py-3 px-2 text-right font-black text-[#F37B44] uppercase text-xs",children:"Total HT"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map((g,_)=>n.jsxs("tr",{children:[n.jsx("td",{className:"py-4 px-2 text-xs font-mono text-gray-500",children:g.reference}),n.jsx("td",{className:"py-4 px-2 text-gray-900 font-bold text-sm",children:g.description}),n.jsxs("td",{className:"py-4 px-2 text-center text-gray-900 font-black",children:[g.quantity," ",g.unit]}),n.jsxs("td",{className:"py-4 px-2 text-right text-gray-900 font-black",children:[(g.quantity*g.unitPriceHT).toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]},_))})]}),n.jsx("div",{className:"flex justify-end mb-20",children:n.jsxs("div",{className:"w-64 border-t-2 border-gray-900 pt-4",children:[n.jsxs("div",{className:"flex justify-between py-1 text-gray-500 font-bold uppercase text-[10px] tracking-widest",children:[n.jsx("span",{children:"Total Hors Taxes"}),n.jsxs("span",{children:[H.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between py-1 text-gray-500 font-bold uppercase text-[10px] tracking-widest border-b border-gray-100 pb-2 mb-2",children:[n.jsx("span",{children:"TVA Estime (17%)"}),n.jsxs("span",{children:[J.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]}),n.jsxs("div",{className:"flex justify-between py-2 text-2xl font-black text-[#F37B44]",children:[n.jsx("span",{children:"TOTAL TTC"}),n.jsxs("span",{children:[X.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-20 mt-auto pt-10 border-t border-gray-100 italic",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-black text-gray-400 uppercase text-[10px] mb-12",children:"Le Responsable Budgtaire"}),n.jsx("div",{className:"h-20 border-b border-gray-200 w-2/3 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-black text-gray-400 uppercase text-[10px] mb-12",children:"La Direction CDF"}),n.jsx("div",{className:"h-20 border-b border-gray-200 w-2/3 mx-auto"})]})]})]})})]})})]})},gm=({suppliers:e,onSaveSupplier:t,onDeleteSupplier:r})=>{const[s,l]=B.useState(""),[a,i]=B.useState(!1),[o,d]=B.useState("create"),[x,v]=B.useState(null),[p,m]=B.useState(null),[w,k]=B.useState({name:"",address:"",zip:"",city:"",country:"Luxembourg",email:"",phone:"",vatNumber:"",contactName:""}),T=j=>{let N="asc";x&&x.key===j&&x.direction==="asc"&&(N="desc"),v({key:j,direction:N})},A=j=>!x||x.key!==j?n.jsx("div",{className:"w-4 h-4"}):x.direction==="asc"?n.jsx(Wi,{size:14}):n.jsx(Rn,{size:14}),c=(j=>x?[...j].sort((N,C)=>{const P=(N[x.key]||"").toString().toLowerCase(),U=(C[x.key]||"").toString().toLowerCase();return P<U?x.direction==="asc"?-1:1:P>U?x.direction==="asc"?1:-1:0}):j)(e.filter(j=>j.name.toLowerCase().includes(s.toLowerCase())||j.contactName.toLowerCase().includes(s.toLowerCase())||j.city.toLowerCase().includes(s.toLowerCase()))),f=(j,N)=>{d(j),k(N?{...N}:{name:"",address:"",zip:"",city:"",country:"Luxembourg",email:"",phone:"",vatNumber:"",contactName:""}),i(!0)},y=j=>{const{name:N,value:C}=j.target;k(P=>({...P,[N]:C}))},E=j=>{if(j.preventDefault(),!w.name||!w.email){alert("Veuillez remplir au moins le nom et l'email.");return}const N={id:w.id||Math.max(...e.map(C=>C.id),0)+1,name:w.name||"",address:w.address||"",zip:w.zip||"",city:w.city||"",country:w.country||"",email:w.email||"",phone:w.phone||"",vatNumber:w.vatNumber||"",contactName:w.contactName||""};t(N),i(!1)},h=()=>{p&&(r(p),m(null))},b=o==="view";return n.jsxs("div",{className:"p-8 h-full flex flex-col relative min-h-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[n.jsxs("div",{className:"relative z-10 bg-[#f3f4f6] pr-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gestion des Fournisseurs"}),n.jsx("p",{className:"text-gray-500",children:"Base de donnes fournisseurs et contacts"})]}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 z-0"}),n.jsx("button",{onClick:()=>f("create"),className:"relative z-10 bg-[#F37B44] hover:bg-[#d6622e] text-white px-4 py-2 rounded shadow-sm text-sm font-medium transition-colors",children:"+ Nouveau Fournisseur"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-300 shadow-sm p-4 flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(lr,{className:"text-gray-400",size:18})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-400 rounded-full leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:border-orange-500 focus:ring-1 focus:ring-[#F37B44] sm:text-sm",placeholder:"Rechercher par nom, contact ou ville...",value:s,onChange:j=>l(j.target.value)})]}),n.jsxs("div",{className:"overflow-auto flex-1 min-h-0",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>T("name"),className:"px-3 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Socit ",A("name")]})}),n.jsx("th",{onClick:()=>T("contactName"),className:"px-3 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Contact ",A("contactName")]})}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Coordonnes"}),n.jsx("th",{onClick:()=>T("city"),className:"px-3 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Adresse ",A("city")]})}),n.jsx("th",{onClick:()=>T("vatNumber"),className:"px-3 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["TVA ",A("vatNumber")]})}),n.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(j=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-3 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-bold text-gray-900",children:j.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Code: F00",j.id]})]}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ar,{size:14,className:"text-gray-400 mr-1.5"}),n.jsx("span",{className:"text-sm text-gray-700",children:j.contactName})]})}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ku,{size:14,className:"mr-1.5 text-[#F37B44]"}),j.email]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Op,{size:14,className:"mr-1.5 text-green-600"}),j.phone]})]})}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[n.jsx(Hr,{size:14,className:"mr-1.5 mt-0.5 text-red-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{children:j.address}),n.jsxs("div",{children:[j.zip," ",j.city]}),n.jsx("div",{className:"text-xs text-gray-400",children:j.country})]})]})}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 font-mono",children:j.vatNumber}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium",children:n.jsxs("div",{className:"flex justify-center space-x-3 text-gray-500",children:[n.jsx("button",{onClick:()=>f("view",j),className:"hover:text-gray-900 bg-gray-100 p-1.5 rounded-full hover:bg-gray-200 transition-colors",title:"Consulter",children:n.jsx(il,{size:16})}),n.jsx("button",{onClick:()=>f("edit",j),className:"hover:text-[#F37B44] bg-orange-50 p-1.5 rounded-full hover:bg-orange-100 transition-colors",title:"Modifier",children:n.jsx(qi,{size:16})}),n.jsx("button",{onClick:()=>m(j.id),className:"hover:text-red-600 bg-red-50 p-1.5 rounded-full hover:bg-red-100 transition-colors",title:"Supprimer",children:n.jsx(Rr,{size:16})})]})})]},j.id))})]}),c.length===0&&n.jsx("div",{className:"text-center py-10 text-gray-500",children:"Aucun fournisseur trouv."})]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl transform transition-all",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-lg",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:o==="create"?"Nouveau Fournisseur":o==="edit"?"Modifier Fournisseur":"Dtails Fournisseur"}),n.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(at,{size:24})})]}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2 mb-2",children:"Informations Socit"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la socit *"}),n.jsx("input",{type:"text",name:"name",required:!0,disabled:b,value:w.name,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Ex: Electro S.A."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),n.jsx("input",{type:"text",name:"vatNumber",disabled:b,value:w.vatNumber,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Ex: LU12345678"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),n.jsx("input",{type:"text",name:"address",disabled:b,value:w.address,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Rue, numro..."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code Postal"}),n.jsx("input",{type:"text",name:"zip",disabled:b,value:w.zip,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),n.jsx("input",{type:"text",name:"city",disabled:b,value:w.city,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-700 border-b pb-2 mb-2",children:"Contact Principal"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du contact"}),n.jsx("input",{type:"text",name:"contactName",disabled:b,value:w.contactName,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Prnom Nom"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",name:"email",required:!0,disabled:b,value:w.email,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"contact@exemple.lu"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),n.jsx("input",{type:"tel",name:"phone",disabled:b,value:w.phone,onChange:y,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"+352 ..."})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100 font-medium transition-colors",children:b?"Fermer":"Annuler"}),!b&&n.jsxs("button",{type:"submit",className:"px-6 py-2 bg-[#F37B44] text-white rounded hover:bg-[#d6622e] font-bold shadow-sm transition-colors flex items-center",children:[n.jsx(ol,{size:18,className:"mr-2"}),"Enregistrer"]})]})]})]})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:n.jsx(As,{className:"text-red-600",size:24})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Supprimer le fournisseur ?"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"tes-vous sr de vouloir supprimer ce fournisseur ? Cette action est irrversible."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 font-medium",children:"Annuler"}),n.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold",children:"Supprimer"})]})]})})]})},ym=({articles:e,suppliers:t,onSaveArticle:r,onDeleteArticle:s})=>{const[l,a]=B.useState(""),[i,o]=B.useState(!1),[d,x]=B.useState("create"),[v,p]=B.useState(null),[m,w]=B.useState(null),[k,T]=B.useState({reference:"",description:"",unitPriceHT:0,vatRate:17,unit:"Pice",supplierId:0}),A=N=>{let C="asc";v&&v.key===N&&v.direction==="asc"&&(C="desc"),p({key:N,direction:C})},u=N=>!v||v.key!==N?n.jsx("div",{className:"w-4 h-4"}):v.direction==="asc"?n.jsx(Wi,{size:14}):n.jsx(Rn,{size:14}),f=(N=>v?[...N].sort((C,P)=>{var Be,he;let U,Z;return v.key==="supplierName"?(U=((Be=t.find(Q=>Q.id===C.supplierId))==null?void 0:Be.name.toLowerCase())||"",Z=((he=t.find(Q=>Q.id===P.supplierId))==null?void 0:he.name.toLowerCase())||""):v.key==="priceTTC"?(U=C.unitPriceHT*(1+C.vatRate/100),Z=P.unitPriceHT*(1+P.vatRate/100)):(U=C[v.key],Z=P[v.key],typeof U=="string"&&(U=U.toLowerCase(),Z=Z.toLowerCase())),U<Z?v.direction==="asc"?-1:1:U>Z?v.direction==="asc"?1:-1:0}):N)(e.filter(N=>N.reference.toLowerCase().includes(l.toLowerCase())||N.description.toLowerCase().includes(l.toLowerCase()))),y=(N,C)=>{x(N),T(C?{...C}:{reference:"",description:"",unitPriceHT:0,vatRate:17,unit:"Pice",supplierId:0}),o(!0)},E=N=>{const{name:C,value:P}=N.target;T(U=>({...U,[C]:C==="unitPriceHT"||C==="vatRate"||C==="supplierId"?parseFloat(P):P}))},h=N=>{if(N.preventDefault(),!k.reference||!k.description){alert("Veuillez remplir au moins la rfrence et la description.");return}if(!k.supplierId){alert("Veuillez slectionner un fournisseur.");return}const C={id:k.id||Math.max(...e.map(P=>P.id),0)+1,reference:k.reference||"",description:k.description||"",unitPriceHT:k.unitPriceHT||0,vatRate:k.vatRate||17,unit:k.unit||"Pice",supplierId:k.supplierId};r(C),o(!1)},b=()=>{m&&(s(m),w(null))},j=d==="view";return n.jsxs("div",{className:"p-8 h-full flex flex-col relative min-h-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[n.jsxs("div",{className:"relative z-10 bg-[#f3f4f6] pr-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Catalogue Articles"}),n.jsx("p",{className:"text-gray-500",children:"Liste des produits et fournitures disponibles"})]}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 z-0"}),n.jsx("button",{type:"button",onClick:()=>y("create"),className:"relative z-10 bg-[#F37B44] hover:bg-[#d6622e] text-white px-4 py-2 rounded shadow-sm text-sm font-medium transition-colors",children:"+ Nouvel Article"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-300 shadow-sm p-4 flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(lr,{className:"text-gray-400",size:18})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-400 rounded-full leading-5 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:border-orange-500 focus:ring-1 focus:ring-[#F37B44] sm:text-sm",placeholder:"Rechercher par rfrence ou dsignation...",value:l,onChange:N=>a(N.target.value)})]}),n.jsxs("div",{className:"overflow-auto flex-1 min-h-0",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>A("reference"),className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Rfrence ",u("reference")]})}),n.jsx("th",{onClick:()=>A("description"),className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider w-1/3 cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Dsignation ",u("description")]})}),n.jsx("th",{onClick:()=>A("supplierName"),className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fournisseur ",u("supplierName")]})}),n.jsx("th",{onClick:()=>A("unit"),className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Unit ",u("unit")]})}),n.jsx("th",{onClick:()=>A("unitPriceHT"),className:"px-4 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:["Prix U. HT ",u("unitPriceHT")]})}),n.jsx("th",{onClick:()=>A("vatRate"),className:"px-4 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:["TVA ",u("vatRate")]})}),n.jsx("th",{onClick:()=>A("priceTTC"),className:"px-4 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:["Prix U. TTC ",u("priceTTC")]})}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(N=>{const C=N.unitPriceHT*(1+N.vatRate/100),P=t.find(U=>U.id===N.supplierId);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm font-medium text-orange-700 bg-orange-50 px-2 py-1 rounded w-fit",children:[n.jsx(Up,{size:14,className:"mr-2"}),N.reference]})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-800 font-medium",children:N.description}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vs,{size:14,className:"mr-1.5 text-gray-400"}),P?P.name:"Inconnu"]})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:N.unit}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900",children:[N.unitPriceHT.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})," "]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:n.jsxs("div",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:[N.vatRate,"%"]})}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-bold text-gray-900",children:[C.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2})," "]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm font-medium",children:n.jsxs("div",{className:"flex justify-center space-x-3 text-gray-500",children:[n.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),y("view",N)},className:"hover:text-gray-900 bg-gray-100 p-1.5 rounded-full hover:bg-gray-200 transition-colors",title:"Consulter",children:n.jsx(il,{size:16})}),n.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),y("edit",N)},className:"hover:text-[#F37B44] bg-orange-50 p-1.5 rounded-full hover:bg-orange-100 transition-colors",title:"Modifier",children:n.jsx(qi,{size:16})}),n.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),w(N.id)},className:"hover:text-red-600 bg-red-50 p-1.5 rounded-full hover:bg-red-100 transition-colors",title:"Supprimer",children:n.jsx(Rr,{size:16})})]})})]},N.id)})})]}),f.length===0&&n.jsx("div",{className:"text-center py-10 text-gray-500",children:"Aucun article trouv."})]})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg transform transition-all",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-lg",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:d==="create"?"Nouvel Article":d==="edit"?"Modifier Article":"Dtails Article"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(at,{size:24})})]}),n.jsxs("form",{onSubmit:h,children:[n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence *"}),n.jsx("input",{type:"text",name:"reference",required:!0,disabled:j,value:k.reference,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Ref. unique"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dsignation *"}),n.jsx("input",{type:"text",name:"description",required:!0,disabled:j,value:k.description,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",placeholder:"Nom du produit"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fournisseur *"}),n.jsxs("select",{name:"supplierId",required:!0,disabled:j,value:k.supplierId,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",children:[n.jsx("option",{value:0,children:"-- Slectionner un fournisseur --"}),t.map(N=>n.jsx("option",{value:N.id,children:N.name},N.id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix Unitaire HT ()"}),n.jsx("input",{type:"number",step:"0.01",name:"unitPriceHT",disabled:j,value:k.unitPriceHT,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux TVA (%)"}),n.jsxs("select",{name:"vatRate",disabled:j,value:k.vatRate,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",children:[n.jsx("option",{value:17,children:"17% (Standard)"}),n.jsx("option",{value:8,children:"8% (Rduit)"}),n.jsx("option",{value:3,children:"3% (Super-rduit)"}),n.jsx("option",{value:0,children:"0% (Exonr)"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),n.jsxs("select",{name:"unit",disabled:j,value:k.unit,onChange:E,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-[#F37B44] focus:outline-none text-gray-900 bg-white disabled:bg-gray-100",children:[n.jsx("option",{value:"Pice",children:"Pice"}),n.jsx("option",{value:"Bote",children:"Bote"}),n.jsx("option",{value:"Carton",children:"Carton"}),n.jsx("option",{value:"Kg",children:"Kg"}),n.jsx("option",{value:"Mtre",children:"Mtre"}),n.jsx("option",{value:"Litres",children:"Litres"}),n.jsx("option",{value:"Heure",children:"Heure"}),n.jsx("option",{value:"Ft",children:"Ft"}),n.jsx("option",{value:"Paire",children:"Paire"}),n.jsx("option",{value:"Rouleau",children:"Rouleau"}),n.jsx("option",{value:"Barre",children:"Barre"}),n.jsx("option",{value:"Bouteille",children:"Bouteille"})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-lg flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100 font-medium transition-colors",children:j?"Fermer":"Annuler"}),!j&&n.jsxs("button",{type:"submit",className:"px-6 py-2 bg-[#F37B44] text-white rounded hover:bg-[#d6622e] font-bold shadow-sm transition-colors flex items-center",children:[n.jsx(ol,{size:18,className:"mr-2"}),"Enregistrer"]})]})]})]})}),m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:n.jsx(As,{className:"text-red-600",size:24})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Supprimer l'article ?"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"tes-vous sr de vouloir supprimer cet article ? Cette action est irrversible."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 font-medium",children:"Annuler"}),n.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold",children:"Supprimer"})]})]})})]})},vm=({orders:e,currentUser:t,onUpdateOrder:r,onUpdateStatus:s})=>{const[l,a]=B.useState(""),[i,o]=B.useState(null),[d,x]=B.useState(z.Invoiced),[v,p]=B.useState(null),[m,w]=B.useState(null),[k,T]=B.useState(!1),[A,u]=B.useState(!1),[c,f]=B.useState("Facture"),[y,E]=B.useState(null),h=B.useRef(null),[b,j]=B.useState(null),[N,C]=B.useState(null),[P,U]=B.useState(""),[Z,Be]=B.useState(""),he=[D.Accountant,D.Director,D.ZoneManager,D.WorkshopManager,D.Admin].includes(t.role),Q=[D.Accountant,D.Director,D.ZoneManager].includes(t.role),ee=I=>he?I==="Bon de commande"?!0:[D.Director,D.ZoneManager,D.Accountant,D.Admin].includes(t.role):!1,L=I=>{let q="asc";i&&i.key===I&&i.direction==="asc"&&(q="desc"),o({key:I,direction:q})},H=(I=>i?[...I].sort((q,fe)=>{let K=q[i.key],pe=fe[i.key];return typeof K=="string"&&(K=K.toLowerCase(),pe=pe.toLowerCase()),K<pe?i.direction==="asc"?-1:1:K>pe?i.direction==="asc"?1:-1:0}):I)(e.filter(I=>I.isActive?(I.orderNumber.toLowerCase().includes(l.toLowerCase())||I.supplierName.toLowerCase().includes(l.toLowerCase()))&&I.status===d:!1)),J=I=>{j(I),setTimeout(()=>{var q;(q=h.current)==null||q.click()},0)},X=I=>{var fe;const q=(fe=I.target.files)==null?void 0:fe[0];if(q&&m&&b){const K=URL.createObjectURL(q),pe={id:Date.now(),type:b,name:q.name,date:new Date().toLocaleDateString("fr-FR"),url:K},S={...m,documents:[...m.documents||[],pe],history:[...m.history||[],{date:new Date().toLocaleString("fr-FR"),action:`Document ajout : ${b} (${q.name})`,user:t.name}]};w(S),r(S),E(K),f(b)}h.current&&(h.current.value="")},ct=I=>{if(!m)return;const q=m.documents.find(V=>V.id===I);if(!q)return;const fe=m.documents.some(V=>V.type==="Facture"),K=m.documents.some(V=>V.type==="Bon de livraison");if(q.type==="Bon de livraison"&&fe){alert("Impossible de supprimer le Bon de livraison car une Facture est dj lie. Veuillez d'abord supprimer la Facture.");return}if(q.type==="Bon de commande"&&K){alert("Impossible de supprimer le Bon de commande car un Bon de livraison est dj li.");return}if(!window.confirm("tes-vous sr de vouloir supprimer ce document ?"))return;const S=m.documents.filter(V=>V.id!==I);q.url===y&&E(null);const R={...m,documents:S,history:[...m.history,{date:new Date().toLocaleString("fr-FR"),action:`Document supprim : ${q.name}`,user:t.name}]};w(R),r(R)},re=I=>{C(I),U(new Date().toISOString().split("T")[0]);const q=Fr.find(fe=>fe.id===I.costCenterId);Be(q?q.engagementNumber:"")},Me=()=>{if(N){if(!P||!Z){alert("Veuillez saisir la date de paiement et confirmer le numro d'engagement.");return}const[I,q,fe]=P.split("-"),K=`${fe}/${q}/${I}`,pe=`Conciliation manuelle Ministre - Pay le ${K} - Engagement confirm : ${Z}`,S={...N,status:z.Paid,rejectionReason:pe,paymentDate:K,engagementNumber:Z,history:[...N.history||[],{date:new Date().toLocaleString("fr-FR"),action:`Paiement valid (Date: ${K}, Eng: ${Z})`,user:t.name}]};r(S),C(null)}},Ve=I=>{const q=I.documents.find(fe=>fe.type==="Facture");q&&q.url?p(q.url):alert("Aucun document de facture trouv pour cette commande.")},tt=()=>{if(H.length===0){alert("Aucune donne  exporter.");return}const I=H.map(V=>{var g;return{Numero_Commande:V.orderNumber,Fournisseur:V.supplierName,Date_Commande:V.date,Montant_HT:V.totalHT.toFixed(2),Montant_TTC:V.totalTTC.toFixed(2),Statut:V.status,Date_Paiement:V.paymentDate||V.status===z.Paid&&((g=V.history.find(_=>_.action.includes("Paid")||_.action.includes("Paye")||_.action.includes("Paiement")))==null?void 0:g.date)||"N/A"}}),q=Object.keys(I[0]).join(";"),fe=I.map(V=>Object.values(V).join(";")).join(`
`),K="\uFEFF"+q+`
`+fe,pe=new Blob([K],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(pe),R=document.createElement("a");R.setAttribute("href",S),R.setAttribute("download",`Paiements_${d===z.Invoiced?"A_Payer":"Historique"}_${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)},Vr=()=>N?n.jsx("div",{className:"fixed inset-0 bg-black/60 z-[200] flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100 transform transition-all",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6",children:n.jsx($p,{className:"h-10 w-10 text-green-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:"Validation du Paiement"}),n.jsxs("p",{className:"text-sm text-gray-500 mb-6 text-center",children:["Veuillez confirmer les informations de paiement pour la commande ",n.jsx("span",{className:"font-bold text-gray-800",children:N.orderNumber}),"."]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-1 flex items-center gap-2",children:[n.jsx(Dp,{size:14,className:"text-[#F37B44]"})," Date du paiement"]}),n.jsx("input",{type:"date",value:P,onChange:I=>U(I.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-[#F37B44] focus:outline-none"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wider mb-1 flex items-center gap-2",children:[n.jsx(Nu,{size:14,className:"text-[#F37B44]"})," Numro d'engagement"]}),n.jsx("input",{type:"text",value:Z,onChange:I=>Be(I.target.value),placeholder:"Ex: 350001",className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm font-bold text-gray-900 bg-gray-50 focus:ring-2 focus:ring-[#F37B44] focus:outline-none focus:bg-white transition-colors"}),n.jsx("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:"* Pr-rempli avec le n d'engagement du centre de cot. Vrifiez la concordance."})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-gray-100 mt-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Montant  concilier"}),n.jsxs("span",{className:"text-lg font-black text-green-700",children:[N.totalTTC.toLocaleString("fr-FR",{minimumFractionDigits:2})," "]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("button",{onClick:Me,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold shadow-lg shadow-green-200 transition-all flex items-center justify-center gap-2 active:scale-95",children:[n.jsx(ps,{size:20}),"Confirmer la conciliation"]}),n.jsx("button",{onClick:()=>C(null),className:"w-full py-3 bg-white border border-gray-200 text-gray-600 rounded-lg font-bold hover:bg-gray-50 transition-all",children:"Annuler"})]})]})})}):null,$r=()=>!m||!A?null:n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[130] flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"bg-[#F37B44] px-6 py-4 flex justify-between items-center",children:[n.jsxs("h3",{className:"text-white font-bold text-lg",children:["Historique - ",m.orderNumber]}),n.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-gray-200",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh] bg-gray-50",children:m.history&&m.history.length>0?n.jsx("div",{className:"relative border-l-2 border-orange-200 ml-3 space-y-6",children:m.history.map((I,q)=>n.jsxs("div",{className:"relative pl-6",children:[n.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-orange-600 border-2 border-white shadow-sm"}),n.jsx("div",{className:"text-xs font-bold text-gray-400 mb-1",children:I.date}),n.jsx("div",{className:"font-bold text-gray-800",children:I.action}),n.jsxs("div",{className:"text-sm text-[#F37B44] font-medium",children:["Par: ",I.user]})]},q))}):n.jsx("p",{className:"text-center text-gray-500 italic",children:"Aucun historique disponible."})}),n.jsx("div",{className:"bg-white px-6 py-4 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2 bg-[#F37B44] text-white rounded font-bold hover:bg-[#d6622e]",children:"Fermer"})})]})}),Ur=()=>{if(!m||!k)return null;const I=["Bon de commande","Bon de livraison","Facture"],q=m.documents?m.documents.filter(K=>K.type===c):[],fe=m.documents.some(K=>K.type==="Bon de livraison");return n.jsx("div",{className:"fixed inset-0 bg-black/60 z-[130] flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"bg-[#F37B44] px-6 py-4 flex justify-between items-center",children:[n.jsxs("h3",{className:"text-white font-bold text-lg",children:["Documents de la commande ",m.orderNumber]}),n.jsx("button",{onClick:()=>T(!1),className:"text-white hover:text-gray-200",children:n.jsx(at,{size:24})})]}),n.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 gap-4 bg-gray-100",children:[n.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[n.jsx("input",{type:"file",ref:h,onChange:X,accept:"application/pdf",className:"hidden"}),n.jsx("div",{className:"space-y-2",children:I.map(K=>{const pe=K==="Facture"&&!fe;return n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{f(K),E(null)},className:`flex-1 text-left px-4 py-3 rounded-lg font-bold transition-all shadow-sm flex justify-between items-center
                                            ${c===K?"bg-[#F37B44] text-white scale-105":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:K}),ee(K)&&n.jsx("button",{onClick:()=>{if(pe){alert("Impossible d'ajouter la facture : Le Bon de livraison est manquant.");return}J(K)},className:`px-3 py-2 rounded-lg shadow-md font-bold transition-colors ${pe?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#F37B44] text-white hover:bg-[#d6622e]"}`,title:pe?"Bon de livraison requis":"Ajouter",children:"+"})]},K)})}),n.jsx("div",{className:"bg-white border border-gray-300 rounded-lg p-3 overflow-y-auto shadow-inner flex-1",children:q.length>0?n.jsx("ul",{className:"space-y-2",children:q.map(K=>n.jsxs("li",{className:`text-sm p-3 border rounded-md flex items-center justify-between gap-3 transition-all group
                                                ${y===K.url?"bg-orange-50 border-[#F37B44] text-[#F37B44] font-bold":"border-gray-100 text-gray-600 hover:bg-gray-50"}`,children:[n.jsxs("div",{onClick:()=>E(K.url||null),className:"flex items-center gap-3 cursor-pointer flex-1",children:[n.jsx(yt,{size:18,className:y===K.url?"text-[#F37B44]":"text-gray-400"}),n.jsx("span",{className:"truncate",children:K.name})]}),he&&n.jsx("button",{type:"button",onClick:pe=>{pe.stopPropagation(),ct(K.id)},className:"text-gray-400 hover:text-red-600 p-1 hover:bg-red-50 rounded",title:"Supprimer le document",children:n.jsx(Rr,{size:16})})]},K.id))}):n.jsx("div",{className:"text-gray-400 text-sm text-center mt-10 italic",children:"Aucun document de ce type"})})]}),n.jsx("div",{className:"w-2/3 bg-white border border-gray-300 rounded-lg shadow-sm flex items-center justify-center relative overflow-hidden",children:y?n.jsx("iframe",{src:y,className:"w-full h-full",title:"Document Preview"}):n.jsxs("div",{className:"text-center p-8 text-gray-400 flex flex-col items-center gap-3",children:[n.jsx(yt,{size:48,className:"text-gray-200"}),n.jsx("p",{className:"font-medium",children:"Slectionnez un document pour visualiser l'aperu PDF"})]})})]}),n.jsx("div",{className:"bg-white px-6 py-4 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:()=>T(!1),className:"px-8 py-2 bg-[#F37B44] text-white rounded-md font-bold hover:bg-[#d6622e] shadow-md",children:"Fermer"})})]})})},Wr=()=>m?(Gi.find(I=>I.id===m.supplierId),n.jsx("div",{className:"fixed inset-0 bg-black/60 z-[110] flex items-center justify-center p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh] border border-gray-200",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-[#F37B44]",children:[n.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-wide",children:["Dtails Commande - ",m.orderNumber]}),n.jsx("button",{onClick:()=>w(null),className:"text-white/80 hover:text-white transition-colors",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"p-6 overflow-y-auto bg-gray-50",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-200 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("span",{className:"block text-[10px] font-extrabold text-gray-400 uppercase tracking-widest mb-1",children:"mise le"}),n.jsx("span",{className:"text-gray-900 font-bold",children:m.date})]}),n.jsxs("div",{children:[n.jsx("span",{className:"block text-[10px] font-extrabold text-gray-400 uppercase tracking-widest mb-1",children:"N Dossier"}),n.jsx("span",{className:"text-[#F37B44] font-black text-lg",children:m.orderNumber})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-[10px] font-extrabold text-gray-400 uppercase tracking-widest mb-1",children:"Statut"}),n.jsx("span",{className:"px-4 py-1.5 rounded-full text-xs font-black uppercase border bg-purple-100 text-purple-800 border-purple-200",children:m.status})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm space-y-3",children:[n.jsxs("h4",{className:"font-bold text-gray-800 border-b border-gray-100 pb-2 text-sm uppercase tracking-wide flex items-center gap-2",children:[n.jsx(ar,{size:14,className:"text-[#F37B44]"})," Informations Gnrales"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Initiateur"}),n.jsx("div",{className:"font-bold text-gray-900 text-sm flex items-center gap-1",children:m.demandeur})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Centre de Cot"}),n.jsxs("div",{className:"font-bold text-gray-900 text-sm flex items-center gap-1",children:[n.jsx(Pp,{size:12,className:"text-gray-400"}),m.atelier]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Fournisseur"}),n.jsx("div",{className:"font-bold text-[#F37B44] text-sm",children:m.supplierName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Livraison"}),n.jsxs("div",{className:"font-bold text-gray-900 text-sm flex items-center gap-1",children:[n.jsx(Hr,{size:12,className:"text-gray-400"}),"Site ",m.deliveryLocation]})]})]})]}),n.jsxs("div",{className:`p-4 rounded-lg border shadow-sm space-y-3 ${m.status===z.Paid?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("h4",{className:`font-bold border-b pb-2 text-sm uppercase tracking-wide flex items-center gap-2 ${m.status===z.Paid?"text-green-800 border-green-200":"text-gray-800 border-gray-200"}`,children:[n.jsx(Mp,{size:14})," Statut Financier"]}),m.status===z.Paid?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs font-bold text-green-700 uppercase",children:"Date Paiement"}),n.jsx("span",{className:"font-black text-green-900 bg-white px-2 py-1 rounded border border-green-200",children:m.paymentDate||"N/A"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs font-bold text-green-700 uppercase",children:"N Engagement"}),n.jsx("span",{className:"font-mono font-bold text-green-900",children:m.engagementNumber||"N/A"})]}),n.jsxs("div",{className:"mt-2 text-[10px] text-green-800 italic border-t border-green-200 pt-2 font-medium",children:['"',m.rejectionReason,'"']})]}):n.jsx("div",{className:"text-center py-6 text-gray-500 italic text-sm",children:"En attente de paiement / conciliation."})]})]}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50/50",children:n.jsxs("tr",{className:"text-[#F37B44] border-b",children:[n.jsx("th",{className:"text-left font-extrabold p-4 uppercase text-[10px]",children:"Dsignation"}),n.jsx("th",{className:"text-center font-extrabold p-4 uppercase text-[10px]",children:"Qt"}),n.jsx("th",{className:"text-right font-extrabold p-4 uppercase text-[10px]",children:"Total HT"})]})}),n.jsx("tbody",{children:m.items.map(I=>n.jsxs("tr",{className:"border-b border-gray-50",children:[n.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.description}),n.jsxs("td",{className:"p-4 text-center font-black text-gray-900",children:[I.quantity," ",I.unit]}),n.jsxs("td",{className:"p-4 text-right text-gray-900 font-black",children:[(I.quantity*I.unitPriceHT).toLocaleString("fr-FR")," "]})]},I.id))})]})})]})}),n.jsxs("div",{className:"bg-white px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded font-bold hover:bg-gray-700 shadow-md",children:[n.jsx(wu,{size:18})," Historique"]}),n.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#F37B44] text-white rounded font-bold hover:bg-[#d6622e] shadow-md",children:[n.jsx(yt,{size:18})," Documents"]})]}),n.jsx("button",{onClick:()=>w(null),className:"px-10 py-2.5 bg-[#F37B44] text-white rounded-md font-black uppercase text-sm hover:bg-[#d6622e] shadow-lg",children:"Fermer"})]})]})})):null;return n.jsxs("div",{className:"p-8 h-full flex flex-col min-h-0",children:[n.jsxs("div",{className:"mb-6 relative",children:[n.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 bg-[#f3f4f6] inline-block pr-4 relative z-10",children:"Conciliation Paiements"}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 -z-0"}),n.jsx("p",{className:"text-gray-700 font-medium mt-2 text-sm italic",children:"Validation des paiements effectus par le Ministre"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-300 shadow-sm p-4 flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4",children:[n.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 border border-gray-200",children:[n.jsx("button",{onClick:()=>x(z.Invoiced),className:`px-4 py-2 text-sm font-bold rounded-md transition-all ${d===z.Invoiced?"bg-white text-[#F37B44] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:" Payer"}),n.jsx("button",{onClick:()=>x(z.Paid),className:`px-4 py-2 text-sm font-bold rounded-md transition-all ${d===z.Paid?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Historique / Payes"})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx(lr,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Rechercher par N commande ou Fournisseur...",value:l,onChange:I=>a(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-[#F37B44]"})]}),n.jsxs("button",{onClick:tt,className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#F37B44] text-[#F37B44] hover:bg-[#F37B44] hover:text-white rounded-lg text-sm font-bold transition-all shadow-sm",children:[n.jsx(Qi,{size:16}),"Exporter CSV"]})]}),d===z.Invoiced?n.jsxs("div",{className:"p-4 mb-6 rounded border-l-4 flex items-center gap-4 bg-orange-50 border-[#F37B44] text-orange-800 shadow-sm",children:[n.jsx(qa,{size:24,className:"text-[#F37B44] flex-shrink-0"}),n.jsx("p",{className:"text-sm font-medium",children:"Comparez les factures ci-dessous avec la liste des paiements reue du Ministre."})]}):n.jsxs("div",{className:"p-4 mb-6 rounded border-l-4 flex items-center gap-4 bg-green-50 border-green-600 text-green-800 shadow-sm",children:[n.jsx(ps,{size:24,className:"text-green-600 flex-shrink-0"}),n.jsx("p",{className:"text-sm font-medium",children:"Historique des commandes payes et concilies."})]}),n.jsxs("div",{className:"overflow-auto flex-1 border rounded-lg bg-gray-50/30 shadow-inner",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>L("orderNumber"),className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer",children:"Commande"}),n.jsx("th",{onClick:()=>L("supplierName"),className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer",children:"Fournisseur"}),n.jsx("th",{onClick:()=>L("totalTTC"),className:"px-4 py-3 text-right text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer",children:"Montant TTC"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Facture"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(I=>n.jsxs("tr",{className:"hover:bg-orange-50/40 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:I.orderNumber})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-700 font-medium",children:I.supplierName})}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right font-extrabold text-gray-900",children:[I.totalTTC.toLocaleString("fr-FR")," "]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>Ve(I),className:"text-[#F37B44] hover:text-[#d6622e] p-1.5 bg-orange-50 rounded-lg border border-orange-100",children:n.jsx(yt,{size:18})})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsxs("div",{className:"flex justify-center items-center gap-3",children:[n.jsx("button",{onClick:()=>w(I),className:"p-1.5 text-gray-500 hover:text-white hover:bg-[#F37B44] bg-gray-100 rounded-lg transition-all",children:n.jsx(il,{size:18})}),Q&&d===z.Invoiced&&n.jsxs("button",{onClick:()=>re(I),className:"flex items-center gap-2 px-4 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-lg font-bold hover:bg-green-600 hover:text-white transition-all shadow-sm",children:[n.jsx(ps,{size:18}),n.jsx("span",{className:"text-xs uppercase",children:"Valider le paiement"})]})]})})]},I.id))})]}),H.length===0&&n.jsx("div",{className:"p-12 text-center text-gray-400 italic",children:d===z.Invoiced?"Aucune facture en attente de paiement.":"Aucune facture dans l'historique."})]})]}),v&&n.jsx("div",{className:"fixed inset-0 bg-black/70 z-[140] flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[n.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(yt,{size:20,className:"text-[#F37B44]"}),"Aperu de la facture PDF"]}),n.jsx("button",{onClick:()=>p(null),className:"p-1 text-gray-500 hover:text-gray-800",children:n.jsx(at,{size:24})})]}),n.jsx("div",{className:"flex-1 bg-gray-200 p-4",children:n.jsx("iframe",{src:v,className:"w-full h-full rounded shadow-lg border-0",title:"Invoice PDF"})})]})}),Wr(),Ur(),$r(),Vr()]})},bm=({currentUser:e})=>{const[t,r]=B.useState("personnel"),[s,l]=B.useState(""),[a,i]=B.useState(null),[o,d]=B.useState(Fr),[x,v]=B.useState(""),p=[D.Director,D.Accountant,D.Admin].includes(e.role),m=B.useMemo(()=>p?o:e.zoneId?o.filter(h=>h.zoneId===e.zoneId):[],[o,e,p]),w=dl.filter(h=>{var j;const b=h.name.toLowerCase().includes(s.toLowerCase())||((j=h.department)==null?void 0:j.toLowerCase().includes(s.toLowerCase()))||h.role.toLowerCase().includes(s.toLowerCase());return p?b:b&&h.zoneId===e.zoneId}),k=h=>h.managedCostCenterIds?m.filter(b=>{var j;return(j=h.managedCostCenterIds)==null?void 0:j.includes(b.id)}):[],T=m.filter(h=>{var b;return h.code.toLowerCase().includes(x.toLowerCase())||h.name.toLowerCase().includes(x.toLowerCase())||((b=h.zoneId)==null?void 0:b.toLowerCase().includes(x.toLowerCase()))}),A=B.useMemo(()=>m.reduce((h,b)=>h+b.totalBudget,0),[m]),u=B.useMemo(()=>m.reduce((h,b)=>h+(b.totalBudget>0?b.engagedBudget:0),0),[m]),c=(h,b)=>{const j=parseFloat(b)||0;d(N=>N.map(C=>C.id===h?{...C,totalBudget:j}:C))},f=(h,b)=>{if(h.length===0)return;const j=Object.keys(h[0]).join(";"),N=h.map(Be=>Object.values(Be).map(he=>typeof he=="string"?`"${he.replace(/"/g,'""')}"`:he).join(";")).join(`
`),C="\uFEFF"+j+`
`+N,P=new Blob([C],{type:"text/csv;charset=utf-8;"}),U=URL.createObjectURL(P),Z=document.createElement("a");Z.setAttribute("href",U),Z.setAttribute("download",`${b}_${new Date().toISOString().split("T")[0]}.csv`),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},y=()=>{const h=w.map(b=>({ID:b.id,Nom:b.name,Email:b.email,Role:b.role,Departement:b.department||"",Zone:b.zoneId||"N/A"}));f(h,"CDF_Personnel")},E=()=>{const h=m.map(b=>({Code:b.code,Nom:b.name,Zone:b.zoneId||"N/A",N_Engagement:b.engagementNumber,Budget_Total_EUR:b.totalBudget,Engage_EUR:b.engagedBudget,Disponible_EUR:b.totalBudget-b.engagedBudget,Consommation_Percent:Math.round(b.engagedBudget/b.totalBudget*100)}));f(h,"CDF_Lignes_Budgetaires")};return n.jsxs("div",{className:"p-8 h-full flex flex-col min-h-0 bg-[#f3f4f6]",children:[n.jsxs("div",{className:"mb-6 relative flex-shrink-0",children:[n.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 bg-[#f3f4f6] inline-block pr-4 relative z-10 uppercase tracking-tighter",children:"Paramtres Systme"}),n.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gray-300 -z-0"}),n.jsx("p",{className:"text-gray-600 font-medium mt-1",children:"Configuration des ressources, budgets et personnel"})]}),n.jsxs("div",{className:"flex gap-4 mb-6 flex-shrink-0",children:[n.jsxs("button",{onClick:()=>r("personnel"),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-all shadow-sm border
            ${t==="personnel"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(ar,{size:18}),"Personnel"]}),n.jsxs("button",{onClick:()=>r("budget"),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-all shadow-sm border
            ${t==="budget"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(_s,{size:18}),"Lignes Budgtaires"]}),n.jsxs("button",{onClick:()=>r("general"),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold transition-all shadow-sm border
            ${t==="general"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(Za,{size:18}),"Gnral"]})]}),t==="personnel"&&n.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[n.jsxs("div",{className:"w-1/3 bg-white border border-gray-300 rounded-xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("h3",{className:"font-black text-xs text-gray-400 uppercase tracking-widest",children:["Personnel ",n.jsxs("span",{className:"text-orange-600 italic",children:["(",w.length,")"]})]}),n.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 text-[10px] font-bold text-[#F37B44] hover:text-white hover:bg-[#F37B44] px-2 py-1 rounded border border-[#F37B44] transition-colors",children:[n.jsx(Rp,{size:12}),"Exporter"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(lr,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Rechercher par nom, rle...",value:s,onChange:h=>l(h.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#F37B44] bg-white text-gray-800"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:w.length>0?n.jsx("div",{className:"divide-y divide-gray-50",children:w.map(h=>n.jsxs("button",{onClick:()=>i(h),className:`w-full text-left p-4 transition-all hover:bg-orange-50 flex items-center justify-between group
                        ${(a==null?void 0:a.id)===h.id?"bg-orange-50 border-r-4 border-[#F37B44]":"bg-white"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm
                          ${(a==null?void 0:a.id)===h.id?"bg-[#F37B44] text-white":"bg-gray-100 text-gray-500"}`,children:h.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:`font-bold text-sm ${(a==null?void 0:a.id)===h.id?"text-[#F37B44]":"text-gray-900"}`,children:h.name}),n.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:[h.role," ",h.department?`- ${h.department}`:""]})]})]}),n.jsx(Ga,{size:16,className:`transition-transform ${(a==null?void 0:a.id)===h.id?"text-[#F37B44] translate-x-1":"text-gray-300"}`})]},h.id))}):n.jsx("div",{className:"p-10 text-center text-gray-400 text-sm italic",children:"Aucun membre du personnel trouv"})})]}),n.jsx("div",{className:"flex-1 bg-white border border-gray-300 rounded-xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:a?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 bg-gradient-to-r from-[#F37B44] to-[#ff9f73] text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -mr-20 -mt-20"}),n.jsxs("div",{className:"relative z-10 flex items-start gap-5",children:[n.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center text-3xl font-black border border-white/30",children:a.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-1",children:a.name}),n.jsxs("div",{className:"flex items-center gap-4 text-white/80 text-sm font-medium",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Lp,{size:14})," ",a.role]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ku,{size:14})," ",a.email]})]}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[a.zoneId&&n.jsxs("div",{className:"inline-block px-3 py-1 bg-white/10 rounded-full text-xs font-bold border border-white/20 uppercase",children:["Zone : ",a.zoneId]}),a.department&&n.jsxs("div",{className:"inline-block px-3 py-1 bg-white/10 rounded-full text-xs font-bold border border-white/20 uppercase",children:["Dp. : ",a.department]})]})]})]})]}),n.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-end border-b-2 border-gray-100 pb-2",children:[n.jsxs("h4",{className:"font-black text-gray-800 uppercase text-sm tracking-wider flex items-center gap-2",children:[n.jsx(Vs,{size:18,className:"text-[#F37B44]"}),"Services Sous Responsabilit"]}),n.jsxs("span",{className:"text-xs font-bold text-[#F37B44] bg-orange-50 px-2 py-0.5 rounded",children:[k(a).length," Service(s)"]})]}),k(a).length>0?n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:k(a).map(h=>{const b=h.totalBudget>0?h.engagedBudget/h.totalBudget*100:0;return n.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50/30 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-0.5",children:["Code ",h.code]}),n.jsx("h5",{className:"font-bold text-gray-900",children:h.name})]}),n.jsxs("div",{className:"bg-white px-2 py-1 rounded border border-gray-100 text-[10px] font-bold text-gray-500 uppercase",children:["Engagement : ",h.engagementNumber]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[n.jsx("span",{className:"text-gray-500 uppercase",children:"Budget Consomm"}),n.jsxs("span",{className:b>90?"text-red-600":"text-[#F37B44]",children:[Math.round(b),"%"]})]}),n.jsx("div",{className:"w-full h-2 bg-white rounded-full border border-gray-200 overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-500 ${b>90?"bg-red-500":"bg-[#F37B44]"}`,style:{width:`${Math.min(100,b)}%`}})}),n.jsxs("div",{className:"flex justify-between items-center pt-1",children:[n.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Dispo : ",(h.totalBudget-h.engagedBudget).toLocaleString("fr-FR")," "]}),n.jsxs("span",{className:"text-[10px] font-bold text-gray-900 uppercase",children:["Total : ",h.totalBudget.toLocaleString("fr-FR")," "]})]})]})]},h.id)})}):n.jsx("div",{className:"p-12 text-center text-gray-400 italic bg-gray-50 rounded-xl border border-dashed border-gray-200",children:"Ce profil n'est pas directement rattach  un service oprationnel."})]})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 p-10 bg-gray-50/30",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(ar,{size:40,className:"text-gray-200"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-300 uppercase tracking-tighter",children:"Slectionnez un membre du personnel"})]})})]}),t==="budget"&&n.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-300 shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:p?"Budget Global Annuel":`Budget Zone ${e.zoneId}`}),n.jsxs("p",{className:"text-2xl font-black text-[#F37B44]",children:[A.toLocaleString("fr-FR")," "]})]}),n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:n.jsx(_s,{className:"text-[#F37B44]"})})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-300 shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Engag (Consomm)"}),n.jsxs("p",{className:"text-2xl font-black text-orange-600",children:[u.toLocaleString("fr-FR")," "]})]}),n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:n.jsx(Ki,{className:"text-orange-600"})})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-300 shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Budget Disponible"}),n.jsxs("p",{className:"text-2xl font-black text-green-600",children:[(A-u).toLocaleString("fr-FR")," "]})]}),n.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:n.jsx(ol,{className:"text-green-600"})})]})]}),n.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded-xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center",children:[n.jsxs("h3",{className:"font-black text-xs text-gray-700 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(Vs,{size:16})," Attribution des Lignes Budgtaires"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative w-72",children:[n.jsx(lr,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Rechercher par Atelier ou Zone...",value:x,onChange:h=>v(h.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#F37B44] bg-white text-gray-800"})]}),n.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#F37B44] text-[#F37B44] hover:bg-[#F37B44] hover:text-white rounded-lg text-sm font-bold transition-all shadow-sm",children:[n.jsx(Qi,{size:16}),"Exporter XLSX"]})]})]}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:n.jsxs("tr",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[n.jsx("th",{className:"px-6 py-4 text-left",children:"Atelier"}),n.jsx("th",{className:"px-6 py-4 text-center",children:"Zone"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Budget Total ()"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Engag"}),n.jsx("th",{className:"px-6 py-4 text-center w-40",children:"Consommation"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[T.map(h=>{const b=h.totalBudget>0?h.engagedBudget/h.totalBudget*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"font-bold text-gray-900",children:h.name})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[10px] font-black bg-orange-50 text-orange-700 border border-orange-100 uppercase",children:[n.jsx(Hr,{size:10}),h.zoneId||"N/A"]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx("input",{type:"number",value:h.totalBudget,onChange:j=>c(h.id,j.target.value),className:"w-32 text-right border border-gray-200 rounded px-2 py-1 font-bold text-gray-900 focus:ring-2 focus:ring-[#F37B44] focus:outline-none"})}),n.jsxs("td",{className:"px-6 py-4 text-right text-gray-500 font-medium",children:[h.engagedBudget.toLocaleString("fr-FR")," "]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full overflow-hidden border border-gray-50",children:n.jsx("div",{className:`h-full ${b>90?"bg-red-500":"bg-[#F37B44]"}`,style:{width:`${Math.min(100,b)}%`}})}),n.jsxs("div",{className:"text-[9px] text-center mt-1 font-bold text-gray-400 uppercase",children:[Math.round(b),"%"]})]})]},h.id)}),T.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400 italic",children:"Aucune ligne budgtaire accessible pour votre zone ou recherche."})})]})]})})]})]}),t==="general"&&n.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded-xl shadow-sm p-10 flex flex-col items-center justify-center text-gray-400",children:[n.jsx(Za,{size:40,className:"text-gray-200 mb-4"}),n.jsx("h3",{className:"text-2xl font-black text-gray-300 uppercase tracking-tighter",children:"Paramtres Gnraux"})]})]})},jm=({currentUser:e,allCostCenters:t})=>{const[r,s]=B.useState("zone"),l=u=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(u),a=u=>{const c=dl.find(f=>{var y;return(y=f.managedCostCenterIds)==null?void 0:y.includes(u)});return c?c.name:"Non assign"},i=B.useMemo(()=>e.role===D.Director||e.role===D.Accountant||e.role===D.Admin?t:e.role===D.ZoneManager?t.filter(u=>u.zoneId===e.zoneId):t.filter(u=>{var c;return(c=e.managedCostCenterIds)==null?void 0:c.includes(u.id)}),[e,t]),o=B.useMemo(()=>{if(e.role===D.Director||e.role===D.Accountant||e.role===D.Admin)return sn;if(e.role===D.ZoneManager)return sn.filter(c=>c.id===e.zoneId);const u=Array.from(new Set(i.map(c=>c.zoneId)));return sn.filter(c=>u.includes(c.id))},[e,i]),[d,x]=B.useState(o[0]||null),[v,p]=B.useState(null),m=B.useMemo(()=>{const u=i.reduce((f,y)=>f+y.totalBudget,0),c=i.reduce((f,y)=>f+y.engagedBudget,0);return{total:u,engaged:c,available:u-c,percent:u>0?c/u*100:0}},[i]),w=u=>{const c=i.filter(E=>E.zoneId===u),f=c.reduce((E,h)=>E+h.totalBudget,0),y=c.reduce((E,h)=>E+h.engagedBudget,0);return{total:f,engaged:y,percent:f>0?y/f*100:0}},k=B.useMemo(()=>{const u=Qu.filter(c=>c.isActive&&c.status!==z.Draft&&c.status!==z.Refused&&i.some(f=>f.id===c.costCenterId));return $s.map(c=>{const f=u.filter(h=>h.budgetLineCode===c.code),y=f.reduce((h,b)=>h+b.totalTTC,0),E={};return f.forEach(h=>{if(!E[h.costCenterId]){const b=i.find(j=>j.id===h.costCenterId);b&&(E[h.costCenterId]={costCenter:b,total:0,subCenters:{}})}if(E[h.costCenterId]){E[h.costCenterId].total+=h.totalTTC;const b=h.subCostCenterCode||"N/A";E[h.costCenterId].subCenters[b]||(E[h.costCenterId].subCenters[b]=0),E[h.costCenterId].subCenters[b]+=h.totalTTC}}),{...c,totalEngaged:y,breakdown:Object.values(E).sort((h,b)=>b.total-h.total)}}).sort((c,f)=>f.totalEngaged-c.totalEngaged)},[i]),T=(u,c)=>{if(u.length===0)return;const f=Object.keys(u[0]).join(";"),y=u.map(N=>Object.values(N).map(C=>typeof C=="string"?`"${C.replace(/"/g,'""')}"`:C).join(";")).join(`
`),E="\uFEFF"+f+`
`+y,h=new Blob([E],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(h),j=document.createElement("a");j.setAttribute("href",b),j.setAttribute("download",`${c}_${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)},A=()=>{const u=[];if(k.forEach(c=>{c.breakdown.length!==0&&c.breakdown.forEach(f=>{Object.entries(f.subCenters).forEach(([y,E])=>{var b;const h=((b=Us.find(j=>j.code===y))==null?void 0:b.name)||"N/A";u.push({Ligne_Budgetaire:`${c.code} - ${c.name}`,Centre_Cout:`${f.costCenter.code} - ${f.costCenter.name}`,Sous_Centre:`${y} - ${h}`,Montant_Engage_EUR:Number(E.toFixed(2))})})})}),u.length===0){alert("Aucune donne d'engagement  exporter.");return}T(u,"Nomenclature_Detaillee_OBS")};return n.jsxs("div",{className:"p-8 h-full flex flex-col min-h-0 bg-[#f8fafc]",children:[n.jsxs("div",{className:"mb-6 flex-shrink-0",children:[n.jsxs("div",{className:"flex justify-between items-end mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tighter uppercase",children:"Gestion Budgtaire"}),n.jsxs("p",{className:"text-gray-500 font-medium",children:["Vue : ",e.role," ",e.zoneId?`- ${e.zoneId}`:""]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2 shadow-sm text-right",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block tracking-widest",children:"Utilisateur"}),n.jsx("span",{className:"font-bold text-[#F37B44]",children:e.name})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsx("div",{className:"p-2 bg-orange-50 rounded-lg text-[#F37B44]",children:n.jsx(Ap,{size:20})})}),n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Budget Allou"}),n.jsxs("p",{className:"text-2xl font-black text-gray-900",children:[l(m.total)," "]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsx("div",{className:"p-2 bg-orange-50 rounded-lg text-orange-600",children:n.jsx(Ki,{size:20})})}),n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Engag"}),n.jsxs("p",{className:"text-2xl font-black text-orange-600",children:[l(m.engaged)," "]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsx("div",{className:"p-2 bg-green-50 rounded-lg text-green-600",children:n.jsx(Wp,{size:20})})}),n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Disponible"}),n.jsxs("p",{className:"text-2xl font-black text-green-600",children:[l(m.available)," "]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm flex flex-col justify-center",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Consommation"}),n.jsxs("span",{className:"text-sm font-black text-gray-900",children:[Math.round(m.percent),"%"]})]}),n.jsx("div",{className:"w-full h-3 bg-gray-100 rounded-full overflow-hidden border border-gray-50",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-[#F37B44] to-[#f59e76]",style:{width:`${m.percent}%`}})})]})]})]}),n.jsxs("div",{className:"flex gap-4 mb-6 flex-shrink-0",children:[n.jsxs("button",{onClick:()=>s("zone"),className:`flex items-center gap-2 px-6 py-2 rounded-xl font-bold transition-all shadow-sm border
            ${r==="zone"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(Hr,{size:18}),"Vue par Zone"]}),n.jsxs("button",{onClick:()=>s("article"),className:`flex items-center gap-2 px-6 py-2 rounded-xl font-bold transition-all shadow-sm border
            ${r==="article"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(Cu,{size:18}),"Nomenclature (OBS)"]}),n.jsxs("button",{onClick:()=>s("service"),className:`flex items-center gap-2 px-6 py-2 rounded-xl font-bold transition-all shadow-sm border
            ${r==="service"?"bg-[#F37B44] text-white border-[#F37B44]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:[n.jsx(cr,{size:18}),"Services / Ateliers"]})]}),n.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[r==="zone"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1/3 flex flex-col gap-4 overflow-y-auto pr-2 custom-scrollbar",children:o.map(u=>{const c=w(u.id);return n.jsx("button",{onClick:()=>x(u),className:`p-10 rounded-2xl border text-left transition-all relative overflow-hidden group flex-shrink-0
                      ${(d==null?void 0:d.id)===u.id?"bg-[#F37B44] text-white border-[#F37B44] shadow-lg scale-[1.02]":"bg-white text-gray-900 border-gray-200 hover:border-[#F37B44]"}`,children:n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"flex justify-between items-start mb-6",children:n.jsx("h3",{className:`font-black uppercase tracking-tighter text-xl ${(d==null?void 0:d.id)===u.id?"text-white":"text-gray-900"}`,children:u.name})}),n.jsxs("div",{className:"space-y-2 mb-10",children:[n.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest ${(d==null?void 0:d.id)===u.id?"text-white/60":"text-gray-400"}`,children:"Responsable"}),n.jsx("p",{className:`font-bold text-2xl ${(d==null?void 0:d.id)===u.id?"text-white":"text-gray-900"}`,children:u.responsible})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`flex justify-between text-[10px] font-black uppercase ${(d==null?void 0:d.id)===u.id?"text-white/80":"text-gray-500"}`,children:[n.jsx("span",{children:"Usage"}),n.jsxs("span",{children:[Math.round(c.percent),"%"]})]}),n.jsx("div",{className:`w-full h-3 rounded-full overflow-hidden ${(d==null?void 0:d.id)===u.id?"bg-white/20":"bg-gray-100"}`,children:n.jsx("div",{className:`h-full ${(d==null?void 0:d.id)===u.id?"bg-orange-200":"bg-[#F37B44]"}`,style:{width:`${c.percent}%`}})})]})]})},u.id)})}),n.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-3xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:d?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:d.name}),n.jsx("div",{className:"flex items-center gap-2 mt-2 mb-3",children:n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-orange-50 rounded-full border border-orange-100",children:[n.jsx(cr,{size:12,className:"text-[#F37B44]"}),n.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-orange-800",children:"Responsable :"}),n.jsx("span",{className:"text-xs font-bold text-gray-900",children:d.responsible})]})}),n.jsx("div",{className:"flex gap-2",children:d.deliveryLocations.map(u=>n.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-[10px] font-black uppercase rounded-lg border border-gray-200",children:["Site ",u]},u))})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Budget Engag Zone"}),n.jsxs("p",{className:"text-3xl font-black text-[#F37B44]",children:[l(w(d.id).engaged)," "]})]})]}),n.jsxs("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:[n.jsxs("h4",{className:"font-black text-xs text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[n.jsx(Ga,{size:14,className:"text-[#F37B44]"})," Services de la zone"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.filter(u=>u.zoneId===d.id).map(u=>{const c=u.engagedBudget/u.totalBudget*100;return n.jsxs("div",{className:"p-5 rounded-2xl border border-gray-100 bg-gray-50/50 hover:bg-white hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase block",children:["Code ",u.code]}),n.jsx("h5",{className:"font-bold text-gray-900",children:u.name}),n.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[n.jsx(cr,{size:12,className:"text-gray-400"}),n.jsx("span",{className:"text-xs font-medium text-gray-500",children:a(u.id)})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase block",children:"Total"}),n.jsxs("span",{className:"font-bold text-gray-700",children:[l(u.totalBudget)," "]})]})]}),n.jsx("div",{className:"w-full h-2 bg-white rounded-full overflow-hidden border border-gray-100",children:n.jsx("div",{className:`h-full ${c>90?"bg-red-500":"bg-[#F37B44]"}`,style:{width:`${c}%`}})}),n.jsxs("div",{className:"flex justify-between mt-2 text-[10px] font-black uppercase text-gray-500",children:[n.jsxs("span",{children:["Engag : ",l(u.engagedBudget)," "]}),n.jsxs("span",{children:[Math.round(c),"%"]})]})]},u.id)})})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 p-8 italic",children:"Aucune zone  afficher"})})]}),r==="article"&&n.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-3xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:[n.jsxs("div",{className:"p-8 border-b border-gray-100 bg-gray-50/50 flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[n.jsx(Nu,{size:24,className:"text-[#F37B44]"})," Nomenclature Budgtaire & Analytique"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Dtail des dpenses par ligne budgtaire, centre de cot et sous-centre."})]}),n.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#F37B44] text-[#F37B44] hover:bg-[#F37B44] hover:text-white rounded-lg text-sm font-bold transition-all shadow-sm",children:[n.jsx(Qi,{size:16}),"Exporter CSV"]})]}),n.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-gray-50/30",children:n.jsx("div",{className:"space-y-4",children:k.map(u=>{const c=v===u.code;return n.jsxs("div",{className:`border rounded-2xl bg-white transition-all overflow-hidden ${c?"shadow-md border-orange-200":"border-gray-200 hover:border-orange-300"}`,children:[n.jsxs("button",{onClick:()=>p(c?null:u.code),className:"w-full flex items-center p-5 text-left",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xs transition-all ${c?"bg-[#F37B44] text-white":"bg-orange-50 text-orange-700"}`,children:u.code.split(".").pop()}),n.jsxs("div",{className:"flex-1 ml-4",children:[n.jsx("h4",{className:`font-bold text-lg ${c?"text-[#F37B44]":"text-gray-900"}`,children:u.name}),n.jsx("p",{className:"text-xs text-gray-400 font-mono",children:u.code})]}),n.jsxs("div",{className:"text-right mr-6",children:[n.jsx("span",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Engag"}),n.jsxs("span",{className:"text-xl font-black text-gray-900",children:[l(u.totalEngaged)," "]})]}),c?n.jsx(Rn,{className:"text-gray-400"}):n.jsx(Ga,{className:"text-gray-400"})]}),c&&n.jsx("div",{className:"bg-gray-50 border-t border-gray-100 p-6 animate-in slide-in-from-top-2 duration-200",children:u.breakdown.length>0?n.jsx("div",{className:"space-y-6",children:u.breakdown.map((f,y)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-1.5 bg-orange-100 text-[#F37B44] rounded-lg",children:n.jsx(cr,{size:16})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-black text-gray-400 uppercase tracking-wider block",children:"Centre de Cot (Service)"}),n.jsxs("span",{className:"font-bold text-gray-900",children:[f.costCenter.name," (",f.costCenter.code,")"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"font-black text-[#F37B44]",children:[l(f.total)," "]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(f.subCenters).map(([E,h])=>{var j;const b=((j=Us.find(N=>N.code===E))==null?void 0:j.name)||"N/A";return n.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50 border border-gray-100 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-bold text-gray-700",children:E}),n.jsx("span",{className:"text-[10px] text-gray-500 truncate w-32",title:b,children:b})]}),n.jsxs("span",{className:"font-medium text-gray-900",children:[l(h)," "]})]},E)})})]},y))}):n.jsx("div",{className:"text-center text-gray-400 italic py-4",children:"Aucune dpense engage sur cette ligne."})})]},u.code)})})})]}),r==="service"&&n.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-3xl shadow-sm flex flex-col min-h-0 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:n.jsxs("h3",{className:"font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[n.jsx(cr,{size:20,className:"text-[#F37B44]"})," Services / Ateliers"]})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[n.jsx("th",{className:"px-6 py-4 text-left",children:"Code / Service"}),n.jsx("th",{className:"px-6 py-4 text-left",children:"Responsable"}),n.jsx("th",{className:"px-6 py-4 text-left",children:"Zone"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Budget"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Engag"}),n.jsx("th",{className:"px-6 py-4 text-center",children:"Utilisation"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(u=>{const c=u.engagedBudget/u.totalBudget*100,f=sn.find(y=>y.id===u.zoneId);return n.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-black text-[#F37B44]",children:u.code}),n.jsx("div",{className:"text-xs text-gray-500 font-medium",children:u.name})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:a(u.id).charAt(0)}),n.jsx("span",{className:"text-xs font-bold text-gray-700",children:a(u.id)})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 text-[10px] font-black text-gray-600 uppercase",children:(f==null?void 0:f.name)||"Direction"})}),n.jsxs("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:[l(u.totalBudget)," "]}),n.jsxs("td",{className:"px-6 py-4 text-right font-bold text-orange-600",children:[l(u.engagedBudget)," "]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("div",{className:"w-24 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${c>90?"bg-red-500":"bg-[#F37B44]"}`,style:{width:`${c}%`}})}),n.jsxs("span",{className:"text-[10px] font-black text-gray-400",children:[Math.round(c),"%"]})]})})]},u.id)})})]})})]})]})]})},Nm=()=>{const[e,t]=B.useState("DASHBOARD"),[r,s]=B.useState(dl[0]),[l,a]=B.useState(Qu),[i,o]=B.useState(Gi),[d,x]=B.useState(Tu),[v,p]=B.useState(Fr),[m,w]=B.useState(void 0),[k,T]=B.useState("Tous"),A=B.useMemo(()=>{if(r.role===D.Director||r.role===D.Admin||r.role===D.Accountant)return l;if(r.role===D.ZoneManager&&r.zoneId){const N=v.filter(C=>C.zoneId===r.zoneId).map(C=>C.id);return l.filter(C=>N.includes(C.costCenterId))}return r.role===D.WorkshopManager&&r.managedCostCenterIds?l.filter(N=>{var C;return(C=r.managedCostCenterIds)==null?void 0:C.includes(N.costCenterId)}):[]},[l,r,v]),u=B.useMemo(()=>r.role===D.Director||r.role===D.Admin||r.role===D.Accountant?v:r.role===D.ZoneManager&&r.zoneId?v.filter(N=>N.zoneId===r.zoneId):r.role===D.WorkshopManager&&r.managedCostCenterIds?v.filter(N=>{var C;return(C=r.managedCostCenterIds)==null?void 0:C.includes(N.id)}):[],[v,r]),c=u[0]||v[0],f=N=>{a(C=>{const P=C.findIndex(U=>U.id===N.id);if(P>=0){const U=[...C];return U[P]=N,U}return[N,...C]}),w(void 0),t("ORDERS")},y=(N,C,P)=>{a(U=>U.map(Z=>Z.id===N?{...Z,status:C,rejectionReason:P,history:[...Z.history||[],{date:new Date().toLocaleString("fr-FR"),action:`Changement de statut: ${C}`,user:r.name}]}:Z))},E=N=>{a(C=>C.map(P=>P.id===N.id?N:P))},h=N=>{a(C=>C.map(P=>P.id===N?{...P,isActive:!1}:P))},b=N=>{s(N),t("DASHBOARD")},j=()=>{switch(e){case"DASHBOARD":return n.jsx(mm,{orders:A,costCenter:c,onNavigate:N=>{T(N),t("ORDERS")}});case"BUDGET":return n.jsx(jm,{currentUser:r,allCostCenters:v});case"ORDERS":return n.jsx(xm,{orders:A,currentUser:r,onNewOrder:()=>{w(void 0),t("NEW_ORDER")},onEditOrder:N=>{w(N),t("NEW_ORDER")},onUpdateOrder:E,onUpdateStatus:y,onDeleteOrder:h,activeFilter:k,onFilterChange:T});case"NEW_ORDER":return n.jsx(hm,{onCancel:()=>{w(void 0),t("ORDERS")},onSubmit:f,currentUser:r,currentCostCenter:c,availableCostCenters:u,suppliers:i,articles:d,initialOrder:m});case"SUPPLIERS":return n.jsx(gm,{suppliers:i,onSaveSupplier:N=>o(C=>[...C.filter(P=>P.id!==N.id),N]),onDeleteSupplier:N=>o(C=>C.filter(P=>P.id!==N))});case"ARTICLES":return n.jsx(ym,{articles:d,suppliers:i,onSaveArticle:N=>x(C=>[...C.filter(P=>P.id!==N.id),N]),onDeleteArticle:N=>x(C=>C.filter(P=>P.id!==N))});case"INVOICES":return n.jsx(vm,{orders:A,currentUser:r,onUpdateOrder:E,onUpdateStatus:y,onViewOrder:()=>t("ORDERS")});case"SETTINGS":return n.jsx(bm,{currentUser:r});default:return n.jsx("div",{children:"Vue non trouve"})}};return n.jsxs("div",{className:"min-h-screen bg-[#f3f4f6]",children:[n.jsx(pm,{currentUser:r,onUserSwitch:b}),n.jsx(fm,{currentUser:r,currentView:e,onChangeView:t}),n.jsx("main",{className:"ml-64 mt-16 h-[calc(100vh-4rem)] overflow-hidden",children:j()})]})},qu=document.getElementById("root");if(!qu)throw new Error("Could not find root element to mount to");const wm=ea.createRoot(qu);wm.render(n.jsx(p0.StrictMode,{children:n.jsx(Nm,{})}));
